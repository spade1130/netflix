/*! For license information please see 2.36093af6.chunk.js.LICENSE.txt */
(this.webpackJsonpnetflix=this.webpackJsonpnetflix||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(48)},function(e,t,n){"use strict";e.exports=n(56)},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return C}));var r=n(8),i=n(0),a=n.n(i),o=(n(12),n(5)),s=n(44),u=n(7),c=n(2),l=n(25),f=n.n(l),h=(n(60),n(4)),d=(n(13),function(e){var t=Object(s.a)();return t.displayName=e,t}),p=d("Router-History"),v=d("Router"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return a.a.createElement(v.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.a.Component);a.a.Component;a.a.Component;var g={},m=0;function k(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=g[n]||(g[n]={});if(r[e])return r[e];var i=[],a={regexp:f()(e,i,t),keys:i};return m<1e4&&(r[e]=a,m++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),d=e===l;return a&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var w=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(v.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?k(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),o=e.props,s=o.children,l=o.component,f=o.render;return Array.isArray(s)&&function(e){return 0===a.a.Children.count(e)}(s)&&(s=null),a.a.createElement(v.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?a.a.createElement(l,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(a.a.Component);function b(e){return"/"===e.charAt(0)?e:"/"+e}function _(e,t){if(!e)return t;var n=b(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function x(e){return"string"===typeof e?e:Object(o.e)(e)}function T(e){return function(){Object(u.a)(!1)}}function E(){}a.a.Component;var I=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(v.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,(function(e){if(null==r&&a.a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?k(i.pathname,Object(c.a)({},e.props,{path:o})):t.match}})),r?a.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(a.a.Component);var S=a.a.useContext;function C(){return S(p)}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return P})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return p}));var r=n(2);function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=o.length;h>=0;h--){var d=o[h];"."===d?a(o,h):".."===d?(a(o,h),f++):f&&(a(o,h),f--)}if(!c)for(;f--;f)o.unshift("..");!c||""===o[0]||o[0]&&i(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(7);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=Object(r.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function k(e,t){t(window.confirm(e))}var w="popstate",b="hashchange";function _(){try{return window.history.state||{}}catch(e){return{}}}function x(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,s=void 0!==o&&o,u=a.getUserConfirmation,f=void 0===u?k:u,y=a.keyLength,x=void 0===y?6:y,T=e.basename?d(l(e.basename)):"";function E(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return T&&(a=h(a,T)),v(a,r,n)}function I(){return Math.random().toString(36).substr(2,x)}var S=g();function C(e){Object(r.a)(q,e),q.length=t.length,S.notifyListeners(q.location,q.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(E(e.state))}function N(){O(E(_()))}var P=!1;function O(e){if(P)P=!1,C();else{S.confirmTransitionTo(e,"POP",f,(function(t){t?C({action:"POP",location:e}):function(e){var t=q.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,M(i))}(e)}))}}var R=E(_()),D=[R.key];function L(e){return T+p(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(w,A),i&&window.addEventListener(b,N)):0===F&&(window.removeEventListener(w,A),i&&window.removeEventListener(b,N))}var j=!1;var q={length:t.length,action:"POP",location:R,createHref:L,push:function(e,r){var i="PUSH",a=v(e,r,I(),q.location);S.confirmTransitionTo(a,i,f,(function(e){if(e){var r=L(a),o=a.key,u=a.state;if(n)if(t.pushState({key:o,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(q.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=v(e,r,I(),q.location);S.confirmTransitionTo(a,i,f,(function(e){if(e){var r=L(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(q.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=S.appendListener(e);return U(1),function(){U(-1),t()}}};return q}var T="hashchange",E={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function I(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function S(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function C(e){window.location.replace(I(window.location.href)+"#"+e)}function A(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?k:i,o=n.hashType,s=void 0===o?"slash":o,u=e.basename?d(l(e.basename)):"",f=E[s],y=f.encodePath,w=f.decodePath;function b(){var e=w(S());return u&&(e=h(e,u)),v(e)}var _=g();function x(e){Object(r.a)(q,e),q.length=t.length,_.notifyListeners(q.location,q.action)}var A=!1,N=null;function P(){var e,t,n=S(),r=y(n);if(n!==r)C(r);else{var i=b(),o=q.location;if(!A&&(t=i,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(N===p(i))return;N=null,function(e){if(A)A=!1,x();else{var t="POP";_.confirmTransitionTo(e,t,a,(function(n){n?x({action:t,location:e}):function(e){var t=q.location,n=L.lastIndexOf(p(t));-1===n&&(n=0);var r=L.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(A=!0,M(i))}(e)}))}}(i)}}var O=S(),R=y(O);O!==R&&C(R);var D=b(),L=[p(D)];function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(T,P):0===F&&window.removeEventListener(T,P)}var j=!1;var q={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=I(window.location.href)),n+"#"+y(u+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,q.location);_.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=y(u+t);if(S()!==i){N=t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(p(q.location)),o=L.slice(0,a+1);o.push(t),L=o,x({action:n,location:r})}else x()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,q.location);_.confirmTransitionTo(r,n,a,(function(e){if(e){var t=p(r),i=y(u+t);S()!==i&&(N=t,C(i));var a=L.indexOf(p(q.location));-1!==a&&(L[a]=t),x({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=_.appendListener(e);return U(1),function(){U(-1),t()}}};return q}function N(e,t,n){return Math.min(Math.max(e,t),n)}function P(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,s=void 0===o?0:o,u=t.keyLength,c=void 0===u?6:u,l=g();function f(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=N(s,0,a.length-1),y=a.map((function(e){return v(e,void 0,"string"===typeof e?h():e.key||h())})),m=p;function k(e){var t=N(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var w={length:y.length,action:"POP",location:y[d],index:d,entries:y,createHref:m,push:function(e,t){var r="PUSH",i=v(e,t,h(),w.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,h(),w.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(w.entries[w.index]=i,f({action:r,location:i}))}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},function(e,t,n){"use strict";var r=n(27),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports=n(64)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return w}));var r=n(0),i=n.n(r),a=(n(12),i.a.createContext(null));var o=function(e){e()};function s(){var e=o,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var u={notify:function(){},get:function(){return[]}};function c(e,t){var n,r=u;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=s())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=u)},getListeners:function(){return r}};return o}var l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;var f=function(e){var t=e.store,n=e.context,o=e.children,s=Object(r.useMemo)((function(){var e=c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(r.useMemo)((function(){return t.getState()}),[t]);l((function(){var e=s.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,u]);var f=n||a;return i.a.createElement(f.Provider,{value:s},o)};n(2),n(4),n(13),n(47);function h(){return Object(r.useContext)(a)}function d(e){void 0===e&&(e=a);var t=e===a?h:function(){return Object(r.useContext)(e)};return function(){return t().store}}var p=d();function v(e){void 0===e&&(e=a);var t=e===a?p:d(e);return function(){return t().dispatch}}var y=v(),g=function(e,t){return e===t};function m(e){void 0===e&&(e=a);var t=e===a?h:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=g);var i=t(),a=function(e,t,n,i){var a,o=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return c(n,i)}),[n,i]),u=Object(r.useRef)(),f=Object(r.useRef)(),h=Object(r.useRef)(),d=Object(r.useRef)(),p=n.getState();try{if(e!==f.current||p!==h.current||u.current){var v=e(p);a=void 0!==d.current&&t(v,d.current)?d.current:v}else a=d.current}catch(y){throw u.current&&(y.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),y}return l((function(){f.current=e,h.current=p,d.current=a,u.current=void 0})),l((function(){function e(){try{var e=n.getState();if(e===h.current)return;var r=f.current(e);if(t(r,d.current))return;d.current=r,h.current=e}catch(y){u.current=y}o()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),a}(e,n,i.store,i.subscription);return Object(r.useDebugValue)(a),a}}var k,w=m(),b=n(18);k=b.unstable_batchedUpdates,o=k},function(e,t,n){e.exports=n(57)()},function(e,t,n){"use strict";var r=n(62),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<o.length;++y){var g=o[y];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var m=h(n,g);try{c(t,g,m)}catch(k){}}}}return t}},function(e,t,n){"use strict";(function(t){var r=n(6),i=n(71),a=n(30),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(31)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(o)})),e.exports=u}).call(this,n(29))},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){var r=n(42);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(49)},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[G]}function a(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Q}(e)||Array.isArray(e)||!!e[H]||!!e.constructor[H]||h(e)||d(e))}function o(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:$)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[G];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:d(e)?3:0}function u(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function l(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return B&&e instanceof Map}function d(e){return z&&e instanceof Set}function p(e){return e.o||e.t}function v(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[G];for(var n=$(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function y(e,t){return void 0===t&&(t=!1),m(e)||i(e)||!a(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&o(e,(function(e,t){return y(t,!0)}),!0)),e}function g(){r(2)}function m(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function k(e){var t=J[e];return t||r(18,e),t}function w(e,t){J[e]||(J[e]=t)}function b(){return q}function _(e,t){t&&(k("Patches"),e.u=[],e.s=[],e.v=t)}function x(e){T(e),e.p.forEach(I),e.p=null}function T(e){e===q&&(q=e.l)}function E(e){return q={p:[],l:q,h:e,m:!0,_:0}}function I(e){var t=e[G];0===t.i||1===t.i?t.j():t.O=!0}function S(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||k("ES5").S(t,e,i),i?(n[G].P&&(x(t),r(4)),a(e)&&(e=C(t,e),t.l||N(t,e)),t.u&&k("Patches").M(n[G],e,t.u,t.s)):e=C(t,n,[]),x(t),t.u&&t.v(t.u,t.s),e!==K?e:void 0}function C(e,t,n){if(m(t))return t;var r=t[G];if(!r)return o(t,(function(i,a){return A(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return N(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=v(r.k):r.o;o(3===r.i?new Set(i):i,(function(t,a){return A(e,r,i,t,a,n)})),N(e,i,!1),n&&e.u&&k("Patches").R(r,n,e.u,e.s)}return r.o}function A(e,t,n,r,o,s){if(i(o)){var c=C(e,o,s&&t&&3!==t.i&&!u(t.D,r)?s.concat(r):void 0);if(l(n,r,c),!i(c))return;e.m=!1}if(a(o)&&!m(o)){if(!e.h.F&&e._<1)return;C(e,o),t&&t.A.l||N(e,o)}}function N(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&y(t,n)}function P(e,t){var n=e[G];return(n?p(n):e)[t]}function O(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function R(e){e.P||(e.P=!0,e.l&&R(e.l))}function D(e){e.o||(e.o=v(e.t))}function L(e,t,n){var r=h(t)?k("MapSet").N(t,n):d(t)?k("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:b(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=X;n&&(i=[r],a=Z);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):k("ES5").J(t,n);return(n?n.A:b()).p.push(r),r}function M(e){return i(e)||r(22,e),function e(t){if(!a(t))return t;var n,r=t[G],i=s(t);if(r){if(!r.P&&(r.i<4||!k("ES5").K(r)))return r.t;r.I=!0,n=F(t,i),r.I=!1}else n=F(t,i);return o(n,(function(t,i){r&&c(r.t,t)===i||l(n,t,e(i))})),3===i?new Set(n):n}(e)}function F(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v(e)}function U(){function e(e,t){var n=a[e];return n?n.enumerable=t:a[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[G];return X.get(t,e)},set:function(t){var n=this[G];X.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][G];if(!i.P)switch(i.i){case 5:r(i)&&R(i);break;case 4:n(i)&&R(i)}}}function n(e){for(var t=e.t,n=e.k,r=$(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==G){var o=t[a];if(void 0===o&&!u(t,a))return!0;var s=n[a],c=s&&s[G];if(c?c.t!==o:!f(s,o))return!0}}var l=!!t[G];return r.length!==$(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var a={};w("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Y(n);delete a[G];for(var o=$(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:b(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,G,{value:a,writable:!0}),i},S:function(e,n,a){a?i(n)&&n[G].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[G];if(n){var i=n.t,a=n.k,s=n.D,c=n.i;if(4===c)o(a,(function(t){t!==G&&(void 0!==i[t]||u(i,t)?s[t]||e(a[t]):(s[t]=!0,R(n)))})),o(i,(function(e){void 0!==a[e]||u(a,e)||(s[e]=!1,R(n))}));else if(5===c){if(r(n)&&(R(n),s.length=!0),a.length<i.length)for(var l=a.length;l<i.length;l++)s[l]=!1;else for(var f=i.length;f<a.length;f++)s[f]=!0;for(var h=Math.min(a.length,i.length),d=0;d<h;d++)void 0===s[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.d(t,"a",(function(){return De})),n.d(t,"b",(function(){return Fe}));var j,q,V="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),B="undefined"!=typeof Map,z="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,K=V?Symbol.for("immer-nothing"):((j={})["immer-nothing"]=!0,j),H=V?Symbol.for("immer-draftable"):"__$immer_draftable",G=V?Symbol.for("immer-state"):"__$immer_state",Q=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),$="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return $(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},J={},X={get:function(e,t){if(t===G)return e;var n=p(e);if(!u(n,t))return function(e,t,n){var r,i=O(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!a(r)?r:r===P(e.t,t)?(D(e),e.o[t]=L(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=O(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=P(p(e),t),a=null==i?void 0:i[G];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(f(n,i)&&(void 0!==n||u(e.t,t)))return!0;D(e),R(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==P(e.t,t)||t in e.t?(e.D[t]=!1,D(e),R(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},Z={};o(X,(function(e,t){Z[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Z.deleteProperty=function(e,t){return X.deleteProperty.call(this,e[0],t)},Z.set=function(e,t,n){return X.set.call(this,e[0],t,n,e[0])};var ee=function(){function e(e){var t=this;this.g=W,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var u;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),a(e)){var c=E(t),l=L(t,e,void 0),f=!0;try{u=n(l),f=!1}finally{f?x(c):T(c)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return _(c,i),S(e,c)}),(function(e){throw x(c),e})):(_(c,i),S(u,c))}if(!e||"object"!=typeof e){if((u=n(e))===K)return;return void 0===u&&(u=e),t.F&&y(u,!0),u}r(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||r(8),i(e)&&(e=M(e));var t=E(this),n=L(this,e,void 0);return n[G].C=!0,T(t),n},t.finishDraft=function(e,t){var n=(e&&e[G]).A;return _(n,t),S(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!W&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var a=k("Patches").$;return i(e)?a(e,t):this.produce(e,(function(e){return a(e,t.slice(n+1))}))},e}(),te=new ee,ne=te.produce,re=(te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te),ne);function ie(e,t){return e===t}function ae(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function oe(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}!function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie,n=null,r=null;return function(){return ae(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var fe="function"===typeof Symbol&&Symbol.observable||"@@observable",he=function(){return Math.random().toString(36).substring(7).split("").join(".")},de={INIT:"@@redux/INIT"+he(),REPLACE:"@@redux/REPLACE"+he(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+he()}};function pe(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ve(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(le(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(le(1));return n(ve)(e,t)}if("function"!==typeof e)throw new Error(le(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(le(3));return a}function f(e){if("function"!==typeof e)throw new Error(le(4));if(u)throw new Error(le(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(le(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!pe(e))throw new Error(le(7));if("undefined"===typeof e.type)throw new Error(le(8));if(u)throw new Error(le(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(le(10));i=e,h({type:de.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(le(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[fe]=function(){return this},e}return h({type:de.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[fe]=p,r}function ye(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:de.INIT}))throw new Error(le(12));if("undefined"===typeof n(void 0,{type:de.PROBE_UNKNOWN_ACTION()}))throw new Error(le(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(le(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(le(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=ge.apply(void 0,a)(n.dispatch),ce(ce({},n),{},{dispatch:r})}}}function ke(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var we=ke();we.withExtraArgument=ke;var be=we,_e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xe=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Te=Object.defineProperty,Ee=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Ie=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,Ce=function(e,t,n){return t in e?Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ae=function(e,t){for(var n in t||(t={}))Ie.call(t,n)&&Ce(e,n,t[n]);if(Ee)for(var r=0,i=Ee(t);r<i.length;r++){n=i[r];Se.call(t,n)&&Ce(e,n,t[n])}return e},Ne="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?ge:ge.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Pe(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var Oe=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return _e(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,xe([void 0],e[0].concat(this)))):new(t.bind.apply(t,xe([void 0],e.concat(this))))},t}(Array);function Re(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Oe);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(be.withExtraArgument(n.extraArgument)):r.push(be));0;return r}(e)}}function De(e){var t,n=Re(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!Pe(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=ye(a)}var p=s;"function"===typeof p&&(p=p(n));var v=me.apply(void 0,p),y=ge;c&&(y=Ne(Ae({trace:!1},"object"===typeof c&&c)));var g=[v];return Array.isArray(d)?g=xe([v],d):"function"===typeof d&&(g=d(g)),ve(t,f,y.apply(void 0,g))}function Le(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ae(Ae({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Me(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Fe(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var r=e.reducers||{},o="function"===typeof e.extraReducers?Me(e.extraReducers):[e.extraReducers],s=o[0],u=void 0===s?{}:s,c=o[1],l=void 0===c?[]:c,f=o[2],h=void 0===f?void 0:f,d=Object.keys(r),p={},v={},y={};d.forEach((function(e){var n,i,a=r[e],o=t+"/"+e;"reducer"in a?(n=a.reducer,i=a.prepare):n=a,p[e]=n,v[o]=n,y[e]=i?Le(o,i):Le(o)}));var g=function(e,t,n,r){void 0===n&&(n=[]);var o="function"===typeof t?Me(t):[t,n,r],s=o[0],u=o[1],c=o[2],l=re(e,(function(){}));return function(e,t){void 0===e&&(e=l);var n=xe([s[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(i(e))return"undefined"===typeof(r=n(e,t))?e:r;if(a(e))return re(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}}(n,Ae(Ae({},u),v),l,h);return{name:t,reducer:g,actions:y,caseReducers:p}}U()},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(3),i=n(8),a=n(0),o=n.n(a),s=n(5),u=(n(12),n(2)),c=n(4),l=n(7),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return o.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(o.a.Component);o.a.Component;var h=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},v=o.a.forwardRef;"undefined"===typeof v&&(v=p);var y=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Object(c.a)(e,["innerRef","navigate","onClick"]),s=a.target,l=Object(u.a)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==v&&t||n,o.a.createElement("a",l)}));var g=v((function(e,t){var n=e.component,i=void 0===n?y:n,a=e.replace,f=e.to,g=e.innerRef,m=Object(c.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=d(h(f,e.location),e.location),c=r?n.createHref(r):"",y=Object(u.a)({},m,{href:c,navigate:function(){var t=h(f,e.location),r=Object(s.e)(e.location)===Object(s.e)(d(t));(a||r?n.replace:n.push)(t)}});return p!==v?y.ref=t||g:y.innerRef=g,o.a.createElement(i,y)}))})),m=function(e){return e},k=o.a.forwardRef;"undefined"===typeof k&&(k=m);k((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.activeClassName,s=void 0===a?"active":a,f=e.activeStyle,p=e.className,v=e.exact,y=e.isActive,w=e.location,b=e.sensitive,_=e.strict,x=e.style,T=e.to,E=e.innerRef,I=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=w||e.location,a=d(h(T,n),n),c=a.pathname,S=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=S?Object(r.e)(n.pathname,{path:S,exact:v,sensitive:b,strict:_}):null,A=!!(y?y(C,n):C),N="function"===typeof p?p(A):p,P="function"===typeof x?x(A):x;A&&(N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(N,s),P=Object(u.a)({},P,f));var O=Object(u.a)({"aria-current":A&&i||null,className:N,style:P,to:a},I);return m!==k?O.ref=t||E:O.innerRef=E,o.a.createElement(g,O)}))}))},function(e,t,n){var r=n(59);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(o,d),o=d+f.length,h)s+=h[1];else{var p=e[o],v=n[2],y=n[3],g=n[4],m=n[5],k=n[6],w=n[7];s&&(r.push(s),s="");var b=null!=v&&null!=p&&p!==v,_="+"===k||"*"===k,x="?"===k||"*"===k,T=n[2]||l,E=g||m;r.push({name:y||a++,prefix:v||"",delimiter:T,optional:x,repeat:_,partial:b,asterisk:!!w,pattern:E?c(E):w?".*":"[^"+u(T)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(6);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},function(e,t,n){"use strict";var r=n(6),i=n(72),a=n(73),o=n(28),s=n(74),u=n(77),c=n(78),l=n(32),f=n(14),h=n(15);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var k=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(k+":"+w)}var b=s(e.baseURL,e.url);function _(){if(m){var r="getAllResponseHeaders"in m?u(m.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};i((function(e){t(e),g()}),(function(e){n(e),g()}),a),m=null}}if(m.open(e.method.toUpperCase(),o(b,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=_:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(_)},m.onabort=function(){m&&(n(l("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(l("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var x=(e.withCredentials||c(b))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;x&&(v[e.xsrfHeaderName]=x)}"setRequestHeader"in m&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:m.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),y&&"json"!==y&&(m.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){m&&(n(!e||e&&e.type?new h("canceled"):e),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),m.send(p)}))}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},function(e,t){e.exports={version:"0.22.0"}},function(e,t,n){var r=n(23),i=n(37);function a(t,n,o){return i()?e.exports=a=Reflect.construct:e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},a.apply(null,arguments)}e.exports=a},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(85),i=n(39);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";(function(e){var r=n(0),i=n.n(r),a=n(8),o=n(12),s=n.n(o),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var f=i.a.createContext||function(e,t){var n,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",f=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(a.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?n=0:(n="function"===typeof t?t(r,i):u,0!==(n|=0)&&this.emitter.set(e.value,n))}var a,o},r.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var h=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(a.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((i={})[o]=s.a.object,i),{Provider:f,Consumer:h}};t.a=f}).call(this,n(26))},function(e,t,n){e.exports=n(66)},function(e,t,n){(function(t,r){var i=n(36),a=n(38),o=n(86),s=n(87),u=n(17),c=n(10),l=n(89),f=n(92),h=n(93),d=n(94),p=n(95),v=n(39),y=n(97),g=n(98),m=n(99),k=n(101),w=n(102);e.exports=function(){"use strict";var e;function n(e){try{return!!e()}catch(e){return!0}}function b(e){if(!L(e))throw TypeError(String(e)+" is not an object");return e}!function(e){var t,n,r,i,a,o,s,u,c,l;function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e?String(e):e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function v(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=y(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(a&&r&&s(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!a||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n=v(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=y(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function w(e,t){var n,r=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(e=(n=t.method||this.method||"GET").toUpperCase(),-1<c.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){var n;e&&(e=(n=e.split("=")).shift().replace(/\+/g," "),n=n.join("=").replace(/\+/g," "),t.append(decodeURIComponent(e),decodeURIComponent(n)))})),t}function _(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}e.fetch||(t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,(a="ArrayBuffer"in e)&&(o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&-1<o.indexOf(Object.prototype.toString.call(e))}),p.prototype.append=function(e,t){e=f(e),t=h(t);var n=this.map[e];this.map[e]=n?n+","+t:t},p.prototype.delete=function(e){delete this.map[f(e)]},p.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},p.prototype.set=function(e,t){this.map[f(e)]=h(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries),c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},k.call(w.prototype),k.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e},l=[301,302,303,307,308],_.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=w,e.Response=_,e.fetch=function(e,t){return new Promise((function(n,i){var a=new w(e,t),o=new XMLHttpRequest;o.onload=function(){var e,t={status:o.status,statusText:o.statusText,headers:(r=o.getAllResponseHeaders()||"",e=new p,r.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":");(t=n.shift().trim())&&(n=n.join(":").trim(),e.append(t,n))})),e)};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var r="response"in o?o.response:o.responseText;n(new _(r,t))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&r&&(o.responseType="blob"),a.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),o.send(void 0===a._bodyInit?null:a._bodyInit)}))},e.fetch.polyfill=!0)}("undefined"!=typeof self?self:void 0);var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},x=function(e){return e&&e.Math==Math&&e},T=x("object"==typeof globalThis&&globalThis)||x("object"==typeof window&&window)||x("object"==typeof self&&self)||x("object"==typeof _&&_)||Function("return this")(),E={exports:{}},I=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),S={},C=function(e){return"object"==typeof e?null!==e:"function"==typeof e},A=C,N=T.document,P=A(N)&&A(N.createElement),O=function(e){return P?N.createElement(e):{}},R=O,D=!I&&!n((function(){return 7!=Object.defineProperty(R("div"),"a",{get:function(){return 7}}).a})),L=C,M=C,F=function(e,t){if(!M(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!M(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!M(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!M(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},U=D,j=b,q=F,V=Object.defineProperty;S.f=I?V:function(e,t,n){if(j(e),t=q(t,!0),j(n),U)try{return V(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var B=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},z=S,W=B,K=I?function(e,t,n){return z.f(e,t,W(1,n))}:function(e,t,n){return e[t]=n,e},H=T,G=K,Q=function(e,t){try{G(H,e,t)}catch(n){H[e]=t}return t},$=Q,Y=bn=T[Xt="__core-js_shared__"]||$(Xt,{});function J(e,t){return Z.call(e,t)}function X(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++ee+te).toString(36)}(E.exports=function(e,t){return Y[e]||(Y[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"});var Z={}.hasOwnProperty,ee=0,te=Math.random(),ne=n,re=(uu=!!Object.getOwnPropertySymbols&&!ne((function(){return!String(Symbol())})))&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ie=T,ae=E.exports,oe=J,se=X,ue=uu,ce=re,le=ae("wks"),fe=ie.Symbol,he=ce?fe:fe&&fe.withoutSetter||se,de=function(e){return oe(le,e)||(ue&&oe(fe,e)?le[e]=fe[e]:le[e]=he("Symbol."+e)),le[e]};(mn={})[de("toStringTag")]="z";var pe="[object z]"===String(mn),ve={exports:{}},ye=bn,ge=Function.toString;"function"!=typeof ye.inspectSource&&(ye.inspectSource=function(e){return ge.call(e)});var me,ke,we,be,_e,xe,Te,Ee,Ie=sa=ye.inspectSource,Se="function"==typeof(Tn=T.WeakMap)&&/native code/.test(Ie(Tn)),Ce=E.exports,Ae=X,Ne=Ce("keys"),Pe=function(e){return Ne[e]||(Ne[e]=Ae(e))},Oe=C,Re=K,De=J,Le=Pe,Me=nc={},Fe=T.WeakMap;Te=Se?(me=new Fe,ke=me.get,we=me.has,be=me.set,_e=function(e,t){return be.call(me,e,t),t},xe=function(e){return ke.call(me,e)||{}},function(e){return we.call(me,e)}):(Me[Ee=Le("state")]=!0,_e=function(e,t){return Re(e,Ee,t),t},xe=function(e){return De(e,Ee)?e[Ee]:{}},function(e){return De(e,Ee)});var Ue={set:_e,get:xe,has:Te,enforce:function(e){return Te(e)?xe(e):_e(e,{})},getterFor:function(e){return function(t){var n;if(!Oe(t)||(n=xe(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},je=T,qe=K,Ve=J,Be=Q,ze=sa,We=Ue.get,Ke=Ue.enforce,He=String(String).split("String");(ve.exports=function(e,t,n,r){var i=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable;r=!!r&&!!r.noTargetGet,"function"==typeof n&&("string"!=typeof t||Ve(n,"name")||qe(n,"name",t),Ke(n).source=He.join("string"==typeof t?t:"")),e!==je?(i?!r&&e[t]&&(a=!0):delete e[t],a?e[t]=n:qe(e,t,n)):a?e[t]=n:Be(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&We(this).source||ze(this)}));var Ge={}.toString,Qe=function(e){return Ge.call(e).slice(8,-1)},$e=pe,Ye=Qe,Je=de("toStringTag"),Xe="Arguments"==Ye(function(){return arguments}()),Ze=$e?Ye:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Je))?e:Xe?Ye(t):"Object"==(e=Ye(t))&&"function"==typeof t.callee?"Arguments":e},et=Ze,tt=ve.exports;pe||tt(Object.prototype,"toString",pe?{}.toString:function(){return"[object "+et(this)+"]"},{unsafe:!0});var nt=Math.ceil,rt=Math.floor,it=function(e){return isNaN(e=+e)?0:(0<e?rt:nt)(e)},at=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},ot=it,st=at,ut=function(e){return function(t,n){var r,i=String(st(t)),a=ot(n);return t=i.length,a<0||t<=a?e?"":void 0:(n=i.charCodeAt(a))<55296||56319<n||a+1===t||(r=i.charCodeAt(a+1))<56320||57343<r?e?i.charAt(a):n:e?i.slice(a,a+2):r-56320+(n-55296<<10)+65536}},ct={codeAt:ut(!1),charAt:ut(!0)},lt={},ft={},ht={}.propertyIsEnumerable,dt=Object.getOwnPropertyDescriptor,pt=dt&&!ht.call({1:2},1);function vt(e){return kt(wt(e))}ft.f=pt?function(e){return!!(e=dt(this,e))&&e.enumerable}:ht;var yt=Qe,gt="".split,mt=(tr=n)((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==yt(e)?gt.call(e,""):Object(e)}:Object,kt=mt,wt=at,bt=ft,_t=B,xt=vt,Tt=F,Et=J,It=D,St=Object.getOwnPropertyDescriptor;function Ct(e){return"function"==typeof e?e:void 0}function At(e,t){return arguments.length<2?Ct(Nt[e])||Ct(Pt[e]):Nt[e]&&Nt[e][t]||Pt[e]&&Pt[e][t]}lt.f=I?St:function(e,t){if(e=xt(e),t=Tt(t,!0),It)try{return St(e,t)}catch(e){}if(Et(e,t))return _t(!bt.f.call(e,t),e[t])};var Nt=E_=T,Pt=T,Ot={},Rt=it,Dt=Math.min,Lt=function(e){return 0<e?Dt(Rt(e),9007199254740991):0},Mt=it,Ft=Math.max,Ut=Math.min,jt=vt,qt=Lt,Vt=function(e,t){return(e=Mt(e))<0?Ft(e+t,0):Ut(e,t)},Bt=function(e){return function(t,n,r){var i,a=jt(t),o=qt(a.length),s=Vt(r,o);if(e&&n!=n){for(;s<o;)if((i=a[s++])!=i)return!0}else for(;s<o;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}},zt=(x={includes:Bt(!0),indexOf:Bt(!1)},J),Wt=vt,Kt=x.indexOf,Ht=nc,Gt=(_=function(e,t){var n,r=Wt(e),i=0,a=[];for(n in r)!zt(Ht,n)&&zt(r,n)&&a.push(n);for(;t.length>i;)zt(r,n=t[i++])&&(~Kt(a,n)||a.push(n));return a},_),Qt=(A=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]).concat("length","prototype");Ot.f=Object.getOwnPropertyNames||function(e){return Gt(e,Qt)},($={}).f=Object.getOwnPropertySymbols;var $t=Ot,Yt=$,Jt=b,Xt=At("Reflect","ownKeys")||function(e){var t=$t.f(Jt(e)),n=Yt.f;return n?t.concat(n(e)):t},Zt=J,en=Xt,tn=lt,nn=S,rn=(ne=function(e,t){for(var n=en(t),r=nn.f,i=tn.f,a=0;a<n.length;a++){var o=n[a];Zt(e,o)||r(e,o,i(t,o))}},n),an=/#|\.prototype\./,on=(ae=function(e,t){return(e=sn[on(e)])==cn||e!=un&&("function"==typeof t?rn(t):!!t)},ae.normalize=function(e){return String(e).replace(an,".").toLowerCase()}),sn=ae.data={},un=ae.NATIVE="N",cn=ae.POLYFILL="P",ln=(ie=ae,T),fn=lt.f,hn=K,dn=ve.exports,pn=Q,vn=ne,yn=ie,gn=(ce=function(e,t){var n,r,i,a=e.target,o=e.global,s=e.stat,u=o?ln:s?ln[a]||pn(a,{}):(ln[a]||{}).prototype;if(u)for(n in t){if(r=t[n],i=e.noTargetGet?(i=fn(u,n))&&i.value:u[n],!yn(o?n:a+(s?".":"#")+n,e.forced)&&void 0!==i){if(typeof r==typeof i)continue;vn(r,i)}(e.sham||i&&i.sham)&&hn(r,"sham",!0),dn(u,n,r,e)}},at),mn=(se=function(e){return Object(gn(e))},!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))),kn=J,wn=se,bn=mn,_n=Pe("IE_PROTO"),xn=Object.prototype,Tn=(ye=bn?Object.getPrototypeOf:function(e){return e=wn(e),kn(e,_n)?e[_n]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?xn:null},Ie=ye,K);function En(){}Ce=J,Se=de("iterator"),Fe=!1,[].keys&&("next"in(di=[].keys())?(_r=Ie(Ie(di)))!==Object.prototype&&(jr=_r):Fe=!0),Ce(jr=null==jr?{}:jr,Se)||Tn(jr,Se,(function(){return this})),Me={IteratorPrototype:jr,BUGGY_SAFARI_ITERATORS:Fe};var In,Sn=_,Cn=A,An=(Le=Object.keys||function(e){return Sn(e,Cn)},S),Nn=b,Pn=Le,On=($e=I?Object.defineProperties:function(e,t){Nn(e);for(var n,r=Pn(t),i=r.length,a=0;a<i;)An.f(e,n=r[a++],t[n]);return e},tt=At("document","documentElement"),b),Rn=$e,Dn=A,Ln=(pe=nc,tt),Mn=O,Fn="prototype",Un="script",jn=Pe("IE_PROTO"),qn=function(e){return"<"+Un+">"+e+"</"+Un+">"},Vn=function(){try{In=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Vn=In?function(e){e.write(qn("")),e.close();var t=e.parentWindow.Object;return e=null,t}(In):(e=Mn("iframe"),t="java"+Un+":",e.style.display="none",Ln.appendChild(e),e.src=String(t),(e=e.contentWindow.document).open(),e.write(qn("document.F=Object")),e.close(),e.F);for(var n=Dn.length;n--;)delete Vn[Fn][Dn[n]];return Vn()};function Bn(){return this}function zn(){return this}pe[jn]=!0,ut=Object.create||function(e,t){var n;return null!==e?(En[Fn]=On(e),n=new En,En[Fn]=null,n[jn]=e):n=Vn(),void 0===t?n:Rn(n,t)};var Wn=S.f,Kn=J,Hn=de("toStringTag"),Gn=(pt=function(e,t,n){e&&!Kn(e=n?e:e.prototype,Hn)&&Wn(e,Hn,{configurable:!0,value:t})},ht={},Me.IteratorPrototype),Qn=ut,$n=B,Yn=pt,Jn=ht,Xn=C,Zn=b,er=function(e){if(!Xn(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},tr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(n){}return function(n,r){return Zn(n),er(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),nr=ce,rr=function(e,t,n){return t+=" Iterator",e.prototype=Qn(Gn,{next:$n(1,n)}),Yn(e,t,!1),Jn[t]=Bn,e},ir=ye,ar=tr,or=pt,sr=K,ur=ve.exports,cr=(D=de,ht),lr=Me.IteratorPrototype,fr=Me.BUGGY_SAFARI_ITERATORS,hr=D("iterator"),dr="values",pr="entries",vr=(Bt=function(e,t,n,r,i,a,o){function s(e){if(e===i&&p)return p;if(!fr&&e in h)return h[e];switch(e){case"keys":case dr:case pr:return function(){return new n(this,e)}}return function(){return new n(this)}}rr(n,t,r);var u,c,l=t+" Iterator",f=!1,h=e.prototype,d=h[hr]||h["@@iterator"]||i&&h[i],p=!fr&&d||s(i);if((r="Array"==t&&h.entries||d)&&(e=ir(r.call(new e)),lr!==Object.prototype&&e.next&&(ir(e)!==lr&&(ar?ar(e,lr):"function"!=typeof e[hr]&&sr(e,hr,zn)),or(e,l,!0))),i==dr&&d&&d.name!==dr&&(f=!0,p=function(){return d.call(this)}),h[hr]!==p&&sr(h,hr,p),cr[t]=p,i)if(u={values:s(dr),keys:a?p:s("keys"),entries:s(pr)},o)for(c in u)!fr&&!f&&c in h||ur(h,c,u[c]);else nr({target:t,proto:!0,forced:fr||f},u);return u},ct.charAt),yr=(Xt=Bt,"String Iterator"),gr=(x=Ue).set,mr=x.getterFor(yr);Xt(String,"String",(function(e){gr(this,{type:yr,string:String(e),index:0})}),(function(){var e=mr(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(n=vr(t,n),e.index+=n.length,{value:n,done:!1})})),ae=ut,Q=S;var kr=de("unscopables"),wr=Array.prototype;null==wr[kr]&&Q.f(wr,kr,{configurable:!0,value:ae(null)}),mn=function(e){wr[kr][e]=!0};var br=vt,_r=(bn=mn,Ie=ht,Bt),xr="Array Iterator",Tr=(di=Ue).set,Er=di.getterFor(xr);Ce=_r(Array,"Array",(function(e,t){Tr(this,{type:xr,target:br(e),index:0,kind:t})}),(function(){var e=Er(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),Ie.Arguments=Ie.Array,bn("keys"),bn("values"),bn("entries");var Ir,Sr=T,Cr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ar=Ce,Nr=K,Pr=(Tn=de)("iterator"),Or=Tn("toStringTag"),Rr=Ar.values;for(Ir in Cr){var Dr=Sr[Ir],Lr=Dr&&Dr.prototype;if(Lr){if(Lr[Pr]!==Rr)try{Nr(Lr,Pr,Rr)}catch(L_){Lr[Pr]=Rr}if(Lr[Or]||Nr(Lr,Or,Ir),Cr[Ir])for(var Mr in Ar)if(Lr[Mr]!==Ar[Mr])try{Nr(Lr,Mr,Ar[Mr])}catch(L_){Lr[Mr]=Ar[Mr]}}}function Fr(e,t){this.stopped=e,this.result=t}Se=T.Promise;var Ur=ve.exports,jr=function(e,t,n){for(var r in t)Ur(e,r,t[r],n);return e},qr=At,Vr=S,Br=I,zr=de("species"),Wr=(Fe=function(e){var t=qr(e);e=Vr.f,Br&&t&&!t[zr]&&e(t,zr,{configurable:!0,get:function(){return this}})},_=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},$e=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},A={exports:{}},ht),Kr=de("iterator"),Hr=Array.prototype,Gr=(pe=function(e){return void 0!==e&&(Wr.Array===e||Hr[Kr]===e)},_),Qr=(Me=function(e,t,n){if(Gr(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Ze),$r=ht,Yr=de("iterator"),Jr=(D=function(e){if(null!=e)return e[Yr]||e["@@iterator"]||$r[Qr(e)]},b),Xr=(ct=function(e,t,n,r){try{return r?t(Jr(n)[0],n[1]):t(n)}catch(t){throw void 0!==(n=e.return)&&Jr(n.call(e)),t}},b),Zr=pe,ei=Lt,ti=Me,ni=D,ri=ct;(A.exports=function(e,t,n,r,i){var a,o,s,u,c,l,f=ti(t,n,r?2:1);if(i)a=e;else{if("function"!=typeof(i=ni(e)))throw TypeError("Target is not iterable");if(Zr(i)){for(o=0,s=ei(e.length);o<s;o++)if((u=r?f(Xr(l=e[o])[0],l[1]):f(e[o]))&&u instanceof Fr)return u;return new Fr(!1)}a=i.call(e)}for(c=a.next;!(l=c.call(a)).done;)if("object"==typeof(u=ri(a,f,l.value,r))&&u&&u instanceof Fr)return u;return new Fr(!1)}).stop=function(e){return new Fr(!0,e)};var ii=de("iterator"),ai=!1;try{var oi=0;(mi={next:function(){return{done:!!oi++}},return:function(){ai=!0}})[ii]=function(){return this},Array.from(mi,(function(){throw 2}))}catch(L_){}function si(e){return function(){xi(e)}}x=function(e,t){if(!t&&!ai)return!1;var n=!1;try{var r={};r[ii]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n};var ui,ci=b,li=_,fi=de("species"),hi=(Xt=function(e,t){var n;return void 0===(e=ci(e).constructor)||null==(n=ci(e)[fi])?t:li(n)},Q=At("navigator","userAgent")||"",ae=/(iphone|ipod|ipad).*applewebkit/i.test(Q),T),di=n,pi=(_r=Qe,Ie=Me,tt),vi=O,yi=(bn=ae,hi.location),gi=(Tn=hi.setImmediate,ht=hi.clearImmediate,hi.process),mi=hi.MessageChannel,ki=hi.Dispatch,wi=0,bi={},_i="onreadystatechange",xi=function(e){var t;bi.hasOwnProperty(e)&&(t=bi[e],delete bi[e],t())};tt=function(e){xi(e.data)},O=function(e){hi.postMessage(e+"",yi.protocol+"//"+yi.host)},Tn&&ht||(Tn=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return bi[++wi]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},ui(wi),wi},ht=function(e){delete bi[e]},"process"==_r(gi)?ui=function(e){gi.nextTick(si(e))}:ki&&ki.now?ui=function(e){ki.now(si(e))}:mi&&!bn?(Mi=(Di=new mi).port2,Di.port1.onmessage=tt,ui=Ie(Mi.postMessage,Mi,1)):!hi.addEventListener||"function"!=typeof postMessage||hi.importScripts||di(O)||"file:"===yi.protocol?ui=_i in vi("script")?function(e){pi.appendChild(vi("script"))[_i]=function(){pi.removeChild(this),xi(e)}}:function(e){setTimeout(si(e),0)}:(ui=O,hi.addEventListener("message",tt,!1))),_r={set:Tn,clear:ht};var Ti,Ei,Ii,Si,Ci,Ai,Ni,Pi,Oi=T,Ri=(bn=lt.f,mi=Qe,_r.set),Di=ae,Li=(Ie=Oi.MutationObserver||Oi.WebKitMutationObserver,Oi.process),Mi=Oi.Promise,Fi="process"==mi(Li);function Ui(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=ji(t),this.reject=ji(n)}di=bn(Oi,"queueMicrotask"),(O=di&&di.value)||(Ti=function(){var e,t;for(Fi&&(e=Li.domain)&&e.exit();Ei;){t=Ei.fn,Ei=Ei.next;try{t()}catch(e){throw Ei?Si():Ii=void 0,e}}Ii=void 0,e&&e.enter()},Si=Fi?function(){Li.nextTick(Ti)}:Ie&&!Di?(Ci=!0,Ai=document.createTextNode(""),new Ie(Ti).observe(Ai,{characterData:!0}),function(){Ai.data=Ci=!Ci}):Mi&&Mi.resolve?(Ni=Mi.resolve(void 0),Pi=Ni.then,function(){Pi.call(Ni,Ti)}):function(){Ri.call(Oi,Ti)}),tt=O||function(e){e={fn:e,next:void 0},Ii&&(Ii.next=e),Ei||(Ei=e,Si()),Ii=e};var ji=_;(Tn={}).f=function(e){return new Ui(e)};var qi=b,Vi=C,Bi=Tn,zi=(ht=function(e,t){return qi(e),Vi(t)&&t.constructor===e?t:((0,(e=Bi.f(e)).resolve)(t),e.promise)},T);ae=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},mi=Q,di=(bn=T.process)&&bn.versions,(Di=di&&di.v8)?ta=(Xi=Di.split("."))[0]+Xi[1]:mi&&(!(Xi=mi.match(/Edge\/(\d+)/))||74<=Xi[1])&&(Xi=mi.match(/Chrome\/(\d+)/))&&(ta=Xi[1]),Ie=ta&&+ta,Mi=ce;var Wi,Ki,Hi,Gi,Qi=T,$i=(O=At,Q=Se,bn=ve.exports,di=jr,Di=pt,mi=Fe,C),Yi=_,Ji=$e,Xi=Qe,Zi=sa,ea=A.exports,ta=x,na=Xt,ra=_r.set,ia=tt,aa=ht,oa=function(e,t){var n=zi.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))},sa=Tn,ua=ae,ca=(_r=Ue,tt=ie,Ie),la=de("species"),fa="Promise",ha=_r.get,da=_r.set,pa=_r.getterFor(fa),va=Q,ya=Qi.TypeError,ga=Qi.document,ma=Qi.process,ka=O("fetch"),wa=sa.f,ba=wa,_a="process"==Xi(ma),xa=!!(ga&&ga.createEvent&&Qi.dispatchEvent),Ta="unhandledrejection",Ea="rejectionhandled",Ia=1,Sa=2,Ca=1,Aa=2,Na=(tt=tt(fa,(function(){if(Zi(va)===String(va)){if(66===ca)return!0;if(!_a&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=ca&&/native code/.test(va))return!1;function e(e){e((function(){}),(function(){}))}var t=va.resolve(1);return(t.constructor={})[la]=e,!(t.then((function(){}))instanceof e)})),ta=tt||!ta((function(e){va.all(e).catch((function(){}))})),function(e){var t;return!(!$i(e)||"function"!=typeof(t=e.then))&&t}),Pa=function(e,t,n){var r;t.notified||(t.notified=!0,r=t.reactions,ia((function(){for(var i,a,o=t.value,s=t.state==Ia,u=0;r.length>u;){var c,l,f,h=r[u++],d=s?h.ok:h.fail,p=h.resolve,v=h.reject,y=h.domain;try{d?(s||(t.rejection===Aa&&function(e,t){ra.call(Qi,(function(){_a?ma.emit("rejectionHandled",e):Oa(Ea,e,t.value)}))}(e,t),t.rejection=Ca),!0===d?c=o:(y&&y.enter(),c=d(o),y&&(y.exit(),f=!0)),c===h.promise?v(ya("Promise-chain cycle")):(l=Na(c))?l.call(c,p,v):p(c)):v(o)}catch(o){y&&!f&&y.exit(),v(o)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&(i=e,a=t,ra.call(Qi,(function(){var e,t=a.value;if(Ra(a)&&(e=ua((function(){_a?ma.emit("unhandledRejection",t,i):Oa(Ta,i,t)})),a.rejection=_a||Ra(a)?Aa:Ca,e.error))throw e.value})))})))},Oa=function(e,t,n){var r;xa?((r=ga.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),Qi.dispatchEvent(r)):r={promise:t,reason:n},(t=Qi["on"+e])?t(r):e===Ta&&oa("Unhandled promise rejection",n)},Ra=function(e){return e.rejection!==Ca&&!e.parent},Da=function(e,t,n,r){return function(i){e(t,n,i,r)}},La=function(e,t,n,r){t.done||(t.done=!0,(t=r||t).value=n,t.state=Sa,Pa(e,t,!0))},Ma=function e(t,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(t===r)throw ya("Promise can't be resolved itself");var a=Na(r);a?ia((function(){var i={done:!1};try{a.call(r,Da(e,t,i,n),Da(La,t,i,n))}catch(r){La(t,i,r,n)}})):(n.value=r,n.state=Ia,Pa(t,n,!1))}catch(r){La(t,{done:!1},r,n)}}};tt&&(va=function(e){Ji(this,va,fa),Yi(e),Wi.call(this);var t=ha(this);try{e(Da(Ma,this,t),Da(La,this,t))}catch(e){La(this,t,e)}},(Wi=function(e){da(this,{type:fa,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=di(va.prototype,{then:function(e,t){var n=pa(this),r=wa(na(this,va));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=_a?ma.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Pa(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),Ki=function(){var e=new Wi,t=ha(e);this.promise=e,this.resolve=Da(Ma,e,t),this.reject=Da(La,e,t)},sa.f=wa=function(e){return e===va||e===Hi?new Ki:ba(e)},"function"==typeof Q&&(Gi=Q.prototype.then,bn(Q.prototype,"then",(function(e,t){var n=this;return new va((function(e,t){Gi.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof ka&&Mi({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return aa(va,ka.apply(Qi,arguments))}}))),Mi({global:!0,wrap:!0,forced:tt},{Promise:va}),Di(va,fa,!1),mi(fa),Hi=O(fa),Mi({target:fa,stat:!0,forced:tt},{reject:function(e){var t=wa(this);return t.reject.call(void 0,e),t.promise}}),Mi({target:fa,stat:!0,forced:tt},{resolve:function(e){return aa(this,e)}}),Mi({target:fa,stat:!0,forced:ta},{all:function(e){var t=this,n=wa(t),r=n.resolve,i=n.reject,a=ua((function(){var n=Yi(t.resolve),a=[],o=0,s=1;ea(e,(function(e){var u=o++,c=!1;a.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,a[u]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=wa(t),r=n.reject,i=ua((function(){var i=Yi(t.resolve);ea(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),O=ce;var Fa=_,Ua=Tn,ja=ae,qa=A.exports;O({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Ua.f(t),r=n.resolve,i=n.reject,a=ja((function(){var n=Fa(t.resolve),i=[],a=0,o=1;qa(e,(function(e){var s=a++,u=!1;i.push(void 0),o++,n.call(t,e).then((function(e){u||(u=!0,i[s]={status:"fulfilled",value:e},--o||r(i))}),(function(e){u||(u=!0,i[s]={status:"rejected",reason:e},--o||r(i))}))})),--o||r(i)}));return a.error&&i(a.value),n.promise}}),tt=ce;var Va=Se,Ba=(Mi=n,At),za=Xt,Wa=ht;function Ka(e,t){var n=this;if(!(n instanceof Ka))return new Ka(e,t);Qa&&(n=Qa(new Error(t),Ga(n)));var r=[];return $a(e,r.push,r),Ha?Ja(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==t&&Ya(n,"message",String(t)),n}ta=ve.exports,tt({target:"Promise",proto:!0,real:!0,forced:!!Va&&Mi((function(){Va.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=za(this,Ba("Promise")),n="function"==typeof e;return this.then(n?function(n){return Wa(t,e()).then((function(){return n}))}:e,n?function(n){return Wa(t,e()).then((function(){throw n}))}:e)}}),"function"!=typeof Va||Va.prototype.finally||ta(Va.prototype,"finally",Ba("Promise").prototype.finally),E_.Promise,O=ce;var Ha=I,Ga=ye,Qa=tr,$a=(Se=ut,ht=S,tt=B,A.exports),Ya=K,Ja=(Mi=Ue).set,Xa=Mi.getterFor("AggregateError");Ka.prototype=Se(Error.prototype,{constructor:tt(5,Ka),message:tt(5,""),name:tt(5,"AggregateError")}),Ha&&ht.f(Ka.prototype,"errors",{get:function(){return Xa(this).errors},configurable:!0}),O({global:!0},{AggregateError:Ka});var Za=Tn,eo=ae;ce({target:"Promise",stat:!0},{try:function(e){var t=Za.f(this);return((e=eo(e)).error?t.reject:t.resolve)(e.value),t.promise}}),ta=ce;var to=_,no=At,ro=Tn,io=ae,ao=A.exports,oo="No one promise resolved";function so(e){throw e}ta({target:"Promise",stat:!0},{any:function(e){var t=this,n=ro.f(t),r=n.resolve,i=n.reject,a=io((function(){var n=to(t.resolve),a=[],o=0,s=1,u=!1;ao(e,(function(e){var c=o++,l=!1;a.push(void 0),s++,n.call(t,e).then((function(e){l||u||(u=!0,r(e))}),(function(e){l||u||(l=!0,a[c]=e,--s||i(new(no("AggregateError"))(a,oo)))}))})),--s||i(new(no("AggregateError"))(a,oo))}));return a.error&&i(a.value),n.promise}});var uo=Qe,co=(Mi=Array.isArray||function(e){return"Array"==uo(e)},C),lo=Mi,fo=de("species"),ho=(Se=function(e,t){var n;return new(void 0===(n=lo(e)&&("function"==typeof(n=e.constructor)&&(n===Array||lo(n.prototype))||co(n)&&null===(n=n[fo]))?void 0:n)?Array:n)(0===t?0:t)},Me),po=mt,vo=se,yo=Lt,go=Se,mo=[].push,ko=(tt=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,a=6==e,o=5==e||a;return function(s,u,c,l){for(var f,h,d=vo(s),p=po(d),v=ho(u,c,3),y=yo(p.length),g=0,m=(l=l||go,t?l(s,y):n?l(s,0):void 0);g<y;g++)if((o||g in p)&&(h=v(f=p[g],g,d),e))if(t)m[g]=h;else if(h)switch(e){case 3:return!0;case 5:return f;case 6:return g;case 2:mo.call(m,f)}else if(i)return!1;return a?-1:r||i?i:m}},ht={forEach:tt(0),map:tt(1),filter:tt(2),some:tt(3),every:tt(4),find:tt(5),findIndex:tt(6)},I),wo=n,bo=J,_o=Object.defineProperty,xo={},To=(O=function(e,t){if(bo(xo,e))return xo[e];var n=[][e],r=!!bo(t=t||{},"ACCESSORS")&&t.ACCESSORS,i=bo(t,0)?t[0]:so,a=bo(t,1)?t[1]:void 0;return xo[e]=!!n&&!wo((function(){if(r&&!ko)return!0;var e={length:-1};r?_o(e,1,{enumerable:!0,get:so}):e[1]=1,n.call(e,i,a)}))},Tn=ce,ht.find),Eo=(ae=mn,!0);tt=O(ta="find"),ta in[]&&Array(1)[ta]((function(){Eo=!1})),Tn({target:"Array",proto:!0,forced:Eo||!tt},{find:function(e){return To(this,e,1<arguments.length?arguments[1]:void 0)}}),ae(ta);var Io=T,So=Me,Co=Function.call;Tn=function(e,t,n){return So(Co,Io[e].prototype[t],n)},Tn("Array","find"),tt=ce;var Ao=ht.findIndex,No=(ae=mn,!0);mn=O(ta="findIndex"),ta in[]&&Array(1)[ta]((function(){No=!1})),tt({target:"Array",proto:!0,forced:No||!mn},{findIndex:function(e){return Ao(this,e,1<arguments.length?arguments[1]:void 0)}}),ae(ta),Tn("Array","findIndex");var Po=F,Oo=S,Ro=B,Do=(mn=function(e,t,n){(t=Po(t))in e?Oo.f(e,t,Ro(0,n)):e[t]=n},Me),Lo=se,Mo=ct,Fo=pe,Uo=Lt,jo=mn,qo=D;ae=function(e){var t,n,r,i,a,o,s=Lo(e),u="function"==typeof this?this:Array,c=arguments.length,l=1<c?arguments[1]:void 0,f=void 0!==l,h=(e=qo(s),0);if(f&&(l=Do(l,2<c?arguments[2]:void 0,2)),null==e||u==Array&&Fo(e))for(n=new u(t=Uo(s.length));h<t;h++)o=f?l(s[h],h):s[h],jo(n,h,o);else for(a=(i=e.call(s)).next,n=new u;!(r=a.call(i)).done;h++)o=f?Mo(i,l,[r.value,h],!0):r.value,jo(n,h,o);return n.length=h,n},ce({target:"Array",stat:!0,forced:!x((function(e){Array.from(e)}))},{from:ae}),E_.Array.from;var Vo=n,Bo=(ta=ce,ht.some);function zo(e){return Go(e)&&Qo(os,$o(e))}ct=O,pe=function(e,t){var n=[].some;return!!n&&Vo((function(){n.call(null,t||function(){throw 1},1)}))}(),ae=ct("some"),ta({target:"Array",proto:!0,forced:!pe||!ae},{some:function(e){return Bo(this,e,1<arguments.length?arguments[1]:void 0)}}),Tn("Array","some"),O="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView;var Wo,Ko=I,Ho=T,Go=C,Qo=J,$o=Ze,Yo=K,Jo=ve.exports,Xo=(ct=S.f,ta=ye,tr),Zo=(pe=de,ae=X,Ho.Int8Array),es=Zo&&Zo.prototype,ts=(ye=(Ze=Ho.Uint8ClampedArray)&&Ze.prototype,Zo&&ta(Zo)),ns=es&&ta(es),rs=(Ze=Object.prototype).isPrototypeOf,is=(pe=pe("toStringTag"),ae("TYPED_ARRAY_TAG")),as=O&&!!Xo&&"Opera"!==$o(Ho.opera),os=(O=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(Wo in os)Ho[Wo]||(as=!1);if((!as||"function"!=typeof ts||ts===Function.prototype)&&(ts=function(){throw TypeError("Incorrect invocation")},as))for(Wo in os)Ho[Wo]&&Xo(Ho[Wo],ts);if((!as||!ns||ns===Ze)&&(ns=ts.prototype,as))for(Wo in os)Ho[Wo]&&Xo(Ho[Wo].prototype,ns);if(as&&ta(ye)!==ns&&Xo(ye,ns),Ko&&!Qo(ns,pe))for(Wo in O=!0,ct(ns,pe,{get:function(){return Go(this)?this[is]:void 0}}),os)Ho[Wo]&&Yo(Ho[Wo],is,Wo);ct=T,pe={NATIVE_ARRAY_BUFFER_VIEWS:as,TYPED_ARRAY_TAG:O&&is,aTypedArray:function(e){if(zo(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(Xo){if(rs.call(ts,e))return e}else for(var t in os)if(Qo(os,Wo)&&(t=Ho[t])&&(e===t||rs.call(t,e)))return e;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(Ko){if(n)for(var r in os)(r=Ho[r])&&Qo(r.prototype,e)&&delete r.prototype[e];ns[e]&&!n||Jo(ns,e,!n&&as&&es[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(Ko){if(Xo){if(n)for(r in os)(i=Ho[r])&&Qo(i,e)&&delete i[e];if(ts[e]&&!n)return;try{return Jo(ts,e,!n&&as&&Zo[e]||t)}catch(e){}}for(r in os)!(i=Ho[r])||i[e]&&!n||Jo(i,e,t)}},isView:function(e){return"DataView"===(e=$o(e))||Qo(os,e)},isTypedArray:zo,TypedArray:ts,TypedArrayPrototype:ns},O=Ce,Ce=de("iterator"),ct=ct.Uint8Array;var ss=O.values,us=O.keys,cs=O.entries,ls=pe.aTypedArray;O=pe.exportTypedArrayMethod,ct=!!(pe=ct&&ct.prototype[Ce])&&("values"==pe.name||null==pe.name),pe=function(){return ss.call(ls(this))},O("entries",(function(){return cs.call(ls(this))})),O("keys",(function(){return us.call(ls(this))})),O("values",pe,!ct),O(Ce,pe,!ct);var fs=I,hs=(pe=n,Le),ds=$,ps=ft,vs=se,ys=mt,gs=Object.assign,ms=Object.defineProperty;ct=!gs||pe((function(){if(fs&&1!==gs({b:1},gs(ms({},"a",{enumerable:!0,get:function(){ms(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=gs({},e)[n]||hs(gs({},t)).join("")!=r}))?function(e,t){for(var n=vs(e),r=arguments.length,i=1,a=ds.f,o=ps.f;i<r;)for(var s,u=ys(arguments[i++]),c=a?hs(u).concat(a(u)):hs(u),l=c.length,f=0;f<l;)s=c[f++],fs&&!o.call(u,s)||(n[s]=u[s]);return n}:gs,ce({target:"Object",stat:!0,forced:Object.assign!==ct},{assign:ct}),E_.Object.assign;var ks=I,ws=Le,bs=vt,_s=ft.f,xs=(mt=function(e){return function(t){for(var n,r=bs(t),i=ws(r),a=i.length,o=0,s=[];o<a;)n=i[o++],ks&&!_s.call(r,n)||s.push(e?[n,r[n]]:r[n]);return s}},pe={entries:mt(!0),values:mt(!1)},ct=ce,pe.entries);ct({target:"Object",stat:!0},{entries:function(e){return xs(e)}}),E_.Object.entries,mt=ce;var Ts=pe.values;mt({target:"Object",stat:!0},{values:function(e){return Ts(e)}}),E_.Object.values;var Es=C,Is=Qe,Ss=de("match"),Cs=function(e){var t;return Es(e)&&(void 0!==(t=e[Ss])?!!t:"RegExp"==Is(e))},As=(ct=function(e){if(Cs(e))throw TypeError("The method doesn't accept regular expressions");return e},de("match")),Ns=(pe=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[As]=!1,"/./"[e](t)}catch(n){}}return!1},ct),Ps=at;ce({target:"String",proto:!0,forced:!pe("includes")},{includes:function(e){return!!~String(Ps(this)).indexOf(Ns(e),1<arguments.length?arguments[1]:void 0)}}),Tn("String","includes"),mt=ce,Qe=lt.f;var Os=Lt,Rs=ct,Ds=at,Ls=(pe=pe,"".startsWith),Ms=Math.min;pe=pe("startsWith"),mt({target:"String",proto:!0,forced:!(!pe&&(Qe=Qe(String.prototype,"startsWith"))&&!Qe.writable)&&!pe},{startsWith:function(e){var t=String(Ds(this));Rs(e);var n=Os(Ms(1<arguments.length?arguments[1]:void 0,t.length));return e=String(e),Ls?Ls.call(t,e,n):t.slice(n,n+e.length)===e}}),Tn("String","startsWith");var Fs=it,Us=at;ce({target:"String",proto:!0},{repeat:"".repeat||function(e){var t=String(Us(this)),n="",r=Fs(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}}),Tn("String","repeat");var js=n,qs=Ie,Vs=de("species"),Bs=(it=ce,at=n,Mi),zs=C,Ws=se,Ks=Lt,Hs=mn,Gs=Se,Qs=(Tn=function(e){return 51<=qs||!js((function(){var t=[];return(t.constructor={})[Vs]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Lt=Ie,de("isConcatSpreadable")),$s=9007199254740991,Ys="Maximum allowed index exceeded";mn=51<=Lt||!at((function(){var e=[];return e[Qs]=!1,e.concat()[0]!==e})),Se=Tn("concat"),it({target:"Array",proto:!0,forced:!mn||!Se},{concat:function(e){for(var t,n,r,i=Ws(this),a=Gs(i,0),o=0,s=-1,u=arguments.length;s<u;s++)if(function(e){if(!zs(e))return!1;var t=e[Qs];return void 0!==t?!!t:Bs(e)}(r=-1===s?i:arguments[s])){if(n=Ks(r.length),$s<o+n)throw TypeError(Ys);for(t=0;t<n;t++,o++)t in r&&Hs(a,o,r[t])}else{if($s<=o)throw TypeError(Ys);Hs(a,o++,r)}return a.length=o,a}}),Ie={};var Js=vt,Xs=Ot.f,Zs={}.toString,eu="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];function tu(e,t){var n=Fu[e]=gu(Pu[Su]);return Cu(n,{type:Iu,tag:e,description:t}),su||(n.description=t),n}function nu(e,t){hu(e);var n=pu(t);return t=mu(n).concat(Hu(n)),Tu(t,(function(t){su&&!Ku.call(n,t)||Wu(e,t,n[t])})),e}Ie.f=function(e){return eu&&"[object Window]"==Zs.call(e)?function(e){try{return Xs(e)}catch(e){return eu.slice()}}(e):Xs(Js(e))},(Lt={}).f=de;var ru=E_,iu=J,au=Lt,ou=S.f,su=(at=function(e){var t=ru.Symbol||(ru.Symbol={});iu(t,e)||ou(t,e,{value:au.f(e)})},Tn=ce,it=T,mn=At,I),uu=(Se=uu,re),cu=(re=n,J),lu=Mi,fu=C,hu=b,du=se,pu=vt,vu=F,yu=B,gu=ut,mu=Le,ku=(F=Ot,B=Ie,$),wu=(Le=lt,Ot=S,Ie=ft,$=K,lt=ve.exports,ft=E.exports,K=Pe,nc),bu=X,_u=de,xu=(E=Lt,at),Tu=(Pe=pt,de=Ue,ht.forEach),Eu=K("hidden"),Iu="Symbol",Su="prototype",Cu=(K=_u("toPrimitive"),de.set),Au=de.getterFor(Iu),Nu=Object[Su],Pu=it.Symbol,Ou=mn("JSON","stringify"),Ru=Le.f,Du=Ot.f,Lu=B.f,Mu=Ie.f,Fu=ft("symbols"),Uu=ft("op-symbols"),ju=ft("string-to-symbol-registry"),qu=ft("symbol-to-string-registry"),Vu=(ft=ft("wks"),!(it=it.QObject)||!it[Su]||!it[Su].findChild),Bu=su&&re((function(){return 7!=gu(Du({},"a",{get:function(){return Du(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Ru(Nu,t);r&&delete Nu[t],Du(e,t,n),r&&e!==Nu&&Du(Nu,t,r)}:Du,zu=uu?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Pu},Wu=function e(t,n,r){return t===Nu&&e(Uu,n,r),hu(t),n=vu(n,!0),hu(r),cu(Fu,n)?(r.enumerable?(cu(t,Eu)&&t[Eu][n]&&(t[Eu][n]=!1),r=gu(r,{enumerable:yu(0,!1)})):(cu(t,Eu)||Du(t,Eu,yu(1,{})),t[Eu][n]=!0),Bu(t,n,r)):Du(t,n,r)},Ku=function(e){var t=vu(e,!0);return e=Mu.call(this,t),!(this===Nu&&cu(Fu,t)&&!cu(Uu,t))&&(!(e||!cu(this,t)||!cu(Fu,t)||cu(this,Eu)&&this[Eu][t])||e)},Hu=(it=function(e,t){var n=pu(e);if(e=vu(t,!0),n!==Nu||!cu(Fu,e)||cu(Uu,e))return!(t=Ru(n,e))||!cu(Fu,e)||cu(n,Eu)&&n[Eu][e]||(t.enumerable=!0),t},uu=function(e){e=Lu(pu(e));var t=[];return Tu(e,(function(e){cu(Fu,e)||cu(wu,e)||t.push(e)})),t},function(e){var t=e===Nu,n=(e=Lu(t?Uu:pu(e)),[]);return Tu(e,(function(e){!cu(Fu,e)||t&&!cu(Nu,e)||n.push(Fu[e])})),n});Se||(lt((Pu=function(){if(this instanceof Pu)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=bu(e),n=function e(n){this===Nu&&e.call(Uu,n),cu(this,Eu)&&cu(this[Eu],t)&&(this[Eu][t]=!1),Bu(this,t,yu(1,n))};return su&&Vu&&Bu(Nu,t,{configurable:!0,set:n}),tu(t,e)})[Su],"toString",(function(){return Au(this).tag})),lt(Pu,"withoutSetter",(function(e){return tu(bu(e),e)})),Ie.f=Ku,Ot.f=Wu,Le.f=it,F.f=B.f=uu,ku.f=Hu,E.f=function(e){return tu(_u(e),e)},su&&(Du(Pu[Su],"description",{configurable:!0,get:function(){return Au(this).description}}),lt(Nu,"propertyIsEnumerable",Ku,{unsafe:!0}))),Tn({global:!0,wrap:!0,forced:!Se,sham:!Se},{Symbol:Pu}),Tu(mu(ft),(function(e){xu(e)})),Tn({target:Iu,stat:!0,forced:!Se},{for:function(e){var t=String(e);return cu(ju,t)?ju[t]:(e=Pu(t),ju[t]=e,qu[e]=t,e)},keyFor:function(e){if(!zu(e))throw TypeError(e+" is not a symbol");if(cu(qu,e))return qu[e]},useSetter:function(){Vu=!0},useSimple:function(){Vu=!1}}),Tn({target:"Object",stat:!0,forced:!Se,sham:!su},{create:function(e,t){return void 0===t?gu(e):nu(gu(e),t)},defineProperty:Wu,defineProperties:nu,getOwnPropertyDescriptor:it}),Tn({target:"Object",stat:!0,forced:!Se},{getOwnPropertyNames:uu,getOwnPropertySymbols:Hu}),Tn({target:"Object",stat:!0,forced:re((function(){ku.f(1)}))},{getOwnPropertySymbols:function(e){return ku.f(du(e))}}),Ou&&Tn({target:"JSON",stat:!0,forced:!Se||re((function(){var e=Pu();return"[null]"!=Ou([e])||"{}"!=Ou({a:e})||"{}"!=Ou(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],a=1;a<arguments.length;)i.push(arguments[a++]);if((fu(r=t)||void 0!==e)&&!zu(e))return lu(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!zu(t))return t}),i[1]=t,Ou.apply(null,i)}}),Pu[Su][K]||$(Pu[Su],K,Pu[Su].valueOf),Pe(Pu,Iu),wu[Eu]=!0,at("asyncIterator"),K=ce;var Gu,Qu,$u,Yu,Ju,Xu=J,Zu=C,ec=(Pe=S.f,ne=ne,T.Symbol);function tc(e){ac(e,sc,{value:{objectID:"O"+ ++uc,weakData:{}}})}!I||"function"!=typeof ec||"description"in ec.prototype&&void 0===ec().description||(Gu={},ne(Qu=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Qu?new ec(e):void 0===e?ec():ec(e);return""===e&&(Gu[t]=!0),t},ec),(ne=Qu.prototype=ec.prototype).constructor=Qu,$u=ne.toString,Yu="Symbol(test)"==String(ec("test")),Ju=/^Symbol\((.*)\)[^)]+$/,Pe(ne,"description",{configurable:!0,get:function(){var e=Zu(this)?this.valueOf():this,t=$u.call(e);return Xu(Gu,e)?"":""===(t=Yu?t.slice(7,-1):t.replace(Ju,"$1"))?void 0:t}}),K({global:!0,forced:!0},{Symbol:Qu})),at("hasInstance"),at("isConcatSpreadable"),at("iterator"),at("match"),at("matchAll"),at("replace"),at("search"),at("species"),at("split"),at("toPrimitive"),at("toStringTag"),at("unscopables"),pt(Math,"Math",!0),pt(T.JSON,"JSON",!0),E_.Symbol,at("asyncDispose"),at("dispose"),at("observable"),at("patternMatch"),at("replaceAll"),Lt.f("iterator"),at={exports:{}},Lt=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}));var nc=nc,rc=C,ic=J,ac=S.f,oc=Lt,sc=X("meta"),uc=0,cc=Object.isExtensible||function(){return!0},lc=at.exports={REQUIRED:!1,fastKey:function(e,t){if(!rc(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!ic(e,sc)){if(!cc(e))return"F";if(!t)return"E";tc(e)}return e[sc].objectID},getWeakData:function(e,t){if(!ic(e,sc)){if(!cc(e))return!0;if(!t)return!1;tc(e)}return e[sc].weakData},onFreeze:function(e){return oc&&lc.REQUIRED&&cc(e)&&!ic(e,sc)&&tc(e),e}};nc[sc]=!0;var fc=C,hc=tr,dc=ce,pc=T,vc=ie,yc=ve.exports,gc=at.exports,mc=A.exports,kc=$e,wc=C,bc=n,_c=x,xc=pt,Tc=function(e,t,n){var r,i;return hc&&"function"==typeof(r=t.constructor)&&r!==n&&fc(i=r.prototype)&&i!==n.prototype&&hc(e,i),e},Ec=(pt=function(e,t,n){function r(e){var t=d[e];yc(d,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(l&&!wc(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return l&&!wc(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(l&&!wc(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})}var i,a,o,s,u,c=-1!==e.indexOf("Map"),l=-1!==e.indexOf("Weak"),f=c?"set":"add",h=pc[e],d=h&&h.prototype,p=h,v={};return vc(e,"function"!=typeof h||!(l||d.forEach&&!bc((function(){(new h).entries().next()}))))?(p=n.getConstructor(t,e,c,f),gc.REQUIRED=!0):vc(e,!0)&&(a=(i=new p)[f](l?{}:-0,1)!=i,o=bc((function(){i.has(1)})),s=_c((function(e){new h(e)})),u=!l&&bc((function(){for(var e=new h,t=5;t--;)e[f](t,t);return!e.has(-0)})),s||(((p=t((function(t,n){return kc(t,p,e),t=Tc(new h,t,p),null!=n&&mc(n,t[f],t,c),t}))).prototype=d).constructor=p),(o||u)&&(r("delete"),r("has"),c&&r("get")),(u||a)&&r(f),l&&d.clear&&delete d.clear),v[e]=p,dc({global:!0,forced:p!=h},v),xc(p,e),l||n.setStrong(p,e,c),p},S.f),Ic=ut,Sc=jr,Cc=Me,Ac=$e,Nc=A.exports,Pc=Bt,Oc=Fe,Rc=I,Dc=at.exports.fastKey,Lc=Ue.set,Mc=Ue.getterFor;Bt={getConstructor:function(e,t,n,r){function i(e,t,n){var r,i=s(e),o=a(e,t);return o?o.value=n:(i.last=o={index:r=Dc(t,!0),key:t,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),Rc?i.size++:e.size++,"F"!==r&&(i.index[r]=o)),e}function a(e,t){var n,r=s(e);if("F"!==(e=Dc(t)))return r.index[e];for(n=r.first;n;n=n.next)if(n.key==t)return n}var o=e((function(e,i){Ac(e,o,t),Lc(e,{type:t,index:Ic(null),first:void 0,last:void 0,size:0}),Rc||(e.size=0),null!=i&&Nc(i,e[r],e,n)})),s=Mc(t);return Sc(o.prototype,{clear:function(){for(var e=s(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,Rc?e.size=0:this.size=0},delete:function(e){var t,n=s(this),r=a(this,e);return r&&(t=r.next,e=r.previous,delete n.index[r.index],r.removed=!0,e&&(e.next=t),t&&(t.previous=e),n.first==r&&(n.first=t),n.last==r&&(n.last=e),Rc?n.size--:this.size--),!!r},forEach:function(e){for(var t,n=s(this),r=Cc(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),Sc(o.prototype,n?{get:function(e){return(e=a(this,e))&&e.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),Rc&&Ec(o.prototype,"size",{get:function(){return s(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",i=Mc(t),a=Mc(r);Pc(e,t,(function(e,t){Lc(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}}),n?"entries":"values",!n,!0),Oc(t)}},pt("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Bt),E_.Map;var Fc=_,Uc=Me,jc=A.exports;Fe=function(e){var t,n,r,i,a=arguments.length,o=1<a?arguments[1]:void 0;return Fc(this),(t=void 0!==o)&&Fc(o),null==e?new this:(n=[],t?(r=0,i=Uc(o,2<a?arguments[2]:void 0,2),jc(e,(function(e){n.push(i(e,r++))}))):jc(e,n.push,n),new this(n))},ce({target:"Map",stat:!0},{from:Fe}),I=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)},ce({target:"Map",stat:!0},{of:I});var qc=b,Vc=_,Bc=(at=function(){for(var e,t=qc(this),n=Vc(t.delete),r=!0,i=0,a=arguments.length;i<a;i++)e=n.call(t,arguments[i]),r=r&&e;return!!r},at);ce({target:"Map",proto:!0,real:!0,forced:!1},{deleteAll:function(){return Bc.apply(this,arguments)}});var zc=b,Wc=D,Kc=(Ue=function(e){return Map.prototype.entries.call(e)},D=ce,b),Hc=Me,Gc=Ue,Qc=A.exports;D({target:"Map",proto:!0,real:!0,forced:!1},{every:function(e){var t=Kc(this),n=Gc(t),r=Hc(e,1<arguments.length?arguments[1]:void 0,3);return!Qc(n,(function(e,n){if(!r(n,e,t))return Qc.stop()}),void 0,!0,!0).stopped}}),D=ce;var $c=At,Yc=b,Jc=_,Xc=Me,Zc=Xt,el=Ue,tl=A.exports;D({target:"Map",proto:!0,real:!0,forced:!1},{filter:function(e){var t=Yc(this),n=el(t),r=Xc(e,1<arguments.length?arguments[1]:void 0,3),i=new(Zc(t,$c("Map"))),a=Jc(i.set);return tl(n,(function(e,n){r(n,e,t)&&a.call(i,e,n)}),void 0,!0,!0),i}}),D=ce;var nl=b,rl=Me,il=Ue,al=A.exports;D({target:"Map",proto:!0,real:!0,forced:!1},{find:function(e){var t=nl(this),n=il(t),r=rl(e,1<arguments.length?arguments[1]:void 0,3);return al(n,(function(e,n){if(r(n,e,t))return al.stop(n)}),void 0,!0,!0).result}}),D=ce;var ol=b,sl=Me,ul=Ue,cl=A.exports;D({target:"Map",proto:!0,real:!0,forced:!1},{findKey:function(e){var t=ol(this),n=ul(t),r=sl(e,1<arguments.length?arguments[1]:void 0,3);return cl(n,(function(e,n){if(r(n,e,t))return cl.stop(e)}),void 0,!0,!0).result}}),D=ce;var ll=A.exports,fl=_;D({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;fl(t);var r=fl(n.has),i=fl(n.get),a=fl(n.set);return ll(e,(function(e){var o=t(e);r.call(n,o)?i.call(n,o).push(e):a.call(n,o,[e])})),n}}),D=ce;var hl=b,dl=Ue,pl=function(e,t){return e===t||e!=e&&t!=t},vl=A.exports;D({target:"Map",proto:!0,real:!0,forced:!1},{includes:function(e){return vl(dl(hl(this)),(function(t,n){if(pl(n,e))return vl.stop()}),void 0,!0,!0).stopped}}),D=ce;var yl=A.exports,gl=_;D({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;gl(t);var r=gl(n.set);return yl(e,(function(e){r.call(n,t(e),e)})),n}}),D=ce;var ml=b,kl=Ue,wl=A.exports;D({target:"Map",proto:!0,real:!0,forced:!1},{keyOf:function(e){return wl(kl(ml(this)),(function(t,n){if(n===e)return wl.stop(t)}),void 0,!0,!0).result}}),D=ce;var bl=At,_l=b,xl=_,Tl=Me,El=Xt,Il=Ue,Sl=A.exports;D({target:"Map",proto:!0,real:!0,forced:!1},{mapKeys:function(e){var t=_l(this),n=Il(t),r=Tl(e,1<arguments.length?arguments[1]:void 0,3),i=new(El(t,bl("Map"))),a=xl(i.set);return Sl(n,(function(e,n){a.call(i,r(n,e,t),n)}),void 0,!0,!0),i}}),D=ce;var Cl=At,Al=b,Nl=_,Pl=Me,Ol=Xt,Rl=Ue,Dl=A.exports;D({target:"Map",proto:!0,real:!0,forced:!1},{mapValues:function(e){var t=Al(this),n=Rl(t),r=Pl(e,1<arguments.length?arguments[1]:void 0,3),i=new(Ol(t,Cl("Map"))),a=Nl(i.set);return Dl(n,(function(e,n){a.call(i,e,r(n,e,t))}),void 0,!0,!0),i}}),D=ce;var Ll=b,Ml=_,Fl=A.exports;D({target:"Map",proto:!0,real:!0,forced:!1},{merge:function(e){for(var t=Ll(this),n=Ml(t.set),r=0;r<arguments.length;)Fl(arguments[r++],n,t,!0);return t}}),D=ce;var Ul=b,jl=_,ql=Ue,Vl=A.exports;D({target:"Map",proto:!0,real:!0,forced:!1},{reduce:function(e){var t=Ul(this),n=ql(t),r=arguments.length<2,i=r?void 0:arguments[1];if(jl(e),Vl(n,(function(n,a){i=r?(r=!1,a):e(i,a,n,t)}),void 0,!0,!0),r)throw TypeError("Reduce of empty map with no initial value");return i}}),D=ce;var Bl=b,zl=Me,Wl=Ue,Kl=A.exports;D({target:"Map",proto:!0,real:!0,forced:!1},{some:function(e){var t=Bl(this),n=Wl(t),r=zl(e,1<arguments.length?arguments[1]:void 0,3);return Kl(n,(function(e,n){if(r(n,e,t))return Kl.stop()}),void 0,!0,!0).stopped}});var Hl=b,Gl=_;ce({target:"Map",proto:!0,real:!0,forced:!1},{update:function(e,t){var n=Hl(this),r=arguments.length;Gl(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");return r=i?n.get(e):Gl(2<r?arguments[2]:void 0)(e,n),n.set(e,t(r,e,n)),n}});var Ql=b;D=function(e,t){var n,r=Ql(this),i=2<arguments.length?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof i)throw TypeError("At least one callback required");return r.has(e)?(n=r.get(e),"function"==typeof t&&(n=t(n),r.set(e,n))):"function"==typeof i&&(n=i(),r.set(e,n)),n},ce({target:"Map",proto:!0,real:!0,forced:!1},{upsert:D}),ce({target:"Map",proto:!0,real:!0,forced:!1},{updateOrInsert:D}),pt("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Bt),E_.Set,ce({target:"Set",stat:!0},{from:Fe}),ce({target:"Set",stat:!0},{of:I});var $l=b,Yl=_,Jl=function(){for(var e=$l(this),t=Yl(e.add),n=0,r=arguments.length;n<r;n++)t.call(e,arguments[n]);return e};ce({target:"Set",proto:!0,real:!0,forced:!1},{addAll:function(){return Jl.apply(this,arguments)}});var Xl=at;ce({target:"Set",proto:!0,real:!0,forced:!1},{deleteAll:function(){return Xl.apply(this,arguments)}}),I=function(e){return Set.prototype.values.call(e)},at=ce;var Zl=b,ef=Me,tf=I,nf=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{every:function(e){var t=Zl(this),n=tf(t),r=ef(e,1<arguments.length?arguments[1]:void 0,3);return!nf(n,(function(e){if(!r(e,e,t))return nf.stop()}),void 0,!1,!0).stopped}}),at=ce;var rf=At,af=b,of=_,sf=Xt,uf=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{difference:function(e){var t=af(this),n=new(sf(t,rf("Set")))(t),r=of(n.delete);return uf(e,(function(e){r.call(n,e)})),n}}),at=ce;var cf=At,lf=b,ff=_,hf=Me,df=Xt,pf=I,vf=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{filter:function(e){var t=lf(this),n=pf(t),r=hf(e,1<arguments.length?arguments[1]:void 0,3),i=new(df(t,cf("Set"))),a=ff(i.add);return vf(n,(function(e){r(e,e,t)&&a.call(i,e)}),void 0,!1,!0),i}}),at=ce;var yf=b,gf=Me,mf=I,kf=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{find:function(e){var t=yf(this),n=mf(t),r=gf(e,1<arguments.length?arguments[1]:void 0,3);return kf(n,(function(e){if(r(e,e,t))return kf.stop(e)}),void 0,!1,!0).result}}),at=ce;var wf=At,bf=b,_f=_,xf=Xt,Tf=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{intersection:function(e){var t=bf(this),n=new(xf(t,wf("Set"))),r=_f(t.has),i=_f(n.add);return Tf(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}}),at=ce;var Ef=b,If=_,Sf=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{isDisjointFrom:function(e){var t=Ef(this),n=If(t.has);return!Sf(e,(function(e){if(!0===n.call(t,e))return Sf.stop()})).stopped}}),at=ce;var Cf=At,Af=b,Nf=_,Pf=function(e){var t=Wc(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return zc(t.call(e))},Of=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{isSubsetOf:function(e){var t=Pf(this),n=Af(e),r=n.has;return"function"!=typeof r&&(n=new(Cf("Set"))(e),r=Nf(n.has)),!Of(t,(function(e){if(!1===r.call(n,e))return Of.stop()}),void 0,!1,!0).stopped}}),at=ce;var Rf=b,Df=_,Lf=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{isSupersetOf:function(e){var t=Rf(this),n=Df(t.has);return!Lf(e,(function(e){if(!1===n.call(t,e))return Lf.stop()})).stopped}}),at=ce;var Mf=b,Ff=I,Uf=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{join:function(e){var t=Mf(this),n=Ff(t);return t=void 0===e?",":String(e),Uf(n,(e=[]).push,e,!1,!0),e.join(t)}}),at=ce;var jf=At,qf=b,Vf=_,Bf=Me,zf=Xt,Wf=I,Kf=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{map:function(e){var t=qf(this),n=Wf(t),r=Bf(e,1<arguments.length?arguments[1]:void 0,3),i=new(zf(t,jf("Set"))),a=Vf(i.add);return Kf(n,(function(e){a.call(i,r(e,e,t))}),void 0,!1,!0),i}}),at=ce;var Hf=b,Gf=_,Qf=I,$f=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{reduce:function(e){var t=Hf(this),n=Qf(t),r=arguments.length<2,i=r?void 0:arguments[1];if(Gf(e),$f(n,(function(n){i=r?(r=!1,n):e(i,n,n,t)}),void 0,!1,!0),r)throw TypeError("Reduce of empty set with no initial value");return i}}),at=ce;var Yf=b,Jf=Me,Xf=I,Zf=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{some:function(e){var t=Yf(this),n=Xf(t),r=Jf(e,1<arguments.length?arguments[1]:void 0,3);return Zf(n,(function(e){if(r(e,e,t))return Zf.stop()}),void 0,!1,!0).stopped}}),at=ce;var eh=At,th=b,nh=_,rh=Xt,ih=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{symmetricDifference:function(e){var t=th(this),n=new(rh(t,eh("Set")))(t),r=nh(n.delete),i=nh(n.add);return ih(e,(function(e){r.call(n,e)||i.call(n,e)})),n}}),at=ce;var ah=At,oh=b,sh=_,uh=Xt,ch=A.exports;at({target:"Set",proto:!0,real:!0,forced:!1},{union:function(e){var t=oh(this);return t=new(uh(t,ah("Set")))(t),ch(e,sh(t.add),t),t}});var lh=C,fh=Math.floor;function hh(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function dh(e){return e=hh(e),gh.encodeByteArray(e,!0)}ce({target:"Number",stat:!0},{isInteger:function(e){return!lh(e)&&isFinite(e)&&fh(e)===e}}),E_.Number.isInteger;var ph={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},vh=function(e,t){if(!e)throw yh(t)},yh=function(e){return new Error("Firebase Database ("+ph.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},gh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&s)<<2|c>>6,f=63&c;u||(f=64,o||(l=64)),r.push(n[a>>2],n[(3&a)<<4|s>>4],n[l],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hh(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i,a,o=e[n++];o<128?t[r++]=String.fromCharCode(o):191<o&&o<224?(i=e[n++],t[r++]=String.fromCharCode((31&o)<<6|63&i)):239<o&&o<365?(a=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))):(i=e[n++],a=e[n++],t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a))}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();r.push(a<<2|o>>4),64!==s&&(r.push(o<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},mh=function(e){return dh(e).replace(/\./g,"")},kh=function(e){try{return gh.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wh(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=wh(e[n],t[n]));return e}var bh=function(){function e(){var t=this;k(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return w(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function _h(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0;if(!(t=e.sub||e.user_id))throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");return e=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:t,user_id:t,firebase:{sign_in_provider:"custom",identities:{}}},e),[mh(JSON.stringify({alg:"none",type:"JWT"})),mh(JSON.stringify(e)),""].join(".")}function xh(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Th(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xh())}function Eh(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(n){return!1}}function Ih(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Sh(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ch(){var e=xh();return 0<=e.indexOf("MSIE ")||0<=e.indexOf("Trident/")}function Ah(){return!0===ph.NODE_ADMIN}function Nh(){return"object"==typeof indexedDB}function Ph(){return new Promise((function(e,t){try{var r=!0,i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=function(){a.result.close(),r||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=function(){r=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}function Oh(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}var Rh=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(v(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(v(a),Dh.prototype.create),a}return n}(m(Error)),Dh=function(){function e(t,n,r){k(this,e),this.service=t,this.serviceName=n,this.errors=r}return w(e,[{key:"create",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a=n[0]||{};return n="".concat(this.service,"/").concat(e),e=(e=this.errors[e])?(i=a,e.replace(Lh,(function(e,t){var n=i[t];return null!=n?String(n):"<".concat(t,"?>")}))):"Error",e="".concat(this.serviceName,": ").concat(e," (").concat(n,")."),new Rh(n,e,a)}}]),e}(),Lh=/\{\$([^}]+)}/g;function Mh(e){return JSON.parse(e)}function Fh(e){return JSON.stringify(e)}function Uh(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Mh(kh(a[0])||""),n=Mh(kh(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}}function jh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qh(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Vh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Bh(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function zh(e,t){if(e===t)return 1;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return;var s=e[o],u=t[o];if(Wh(s)&&Wh(u)){if(!zh(s,u))return}else if(s!==u)return}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return}return 1}function Wh(e){return null!==e&&"object"==typeof e}function Kh(e){for(var t=[],n=function(){var e=p(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Hh(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){var n,r,i;e&&(n=e.split("="),i=(r=p(n,2))[0],e=r[1],t[decodeURIComponent(i)]=decodeURIComponent(e))})),t}function Gh(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,0<n?n:void 0)}var Qh=function(){function e(){k(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return w(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t=t||0;var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){u=p<40?p<20?(s=h^l&(f^h),1518500249):(s=l^f^h,1859775393):p<60?(s=l&f|h&(l|f),2400959708):(s=l^f^h,3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){for(var n=(t=void 0===t?e.length:t)-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;0<=a;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function $h(e,t){var n=new Yh(e,t);return n.subscribe.bind(n)}var Yh=function(){function e(t,n){var r=this;k(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return w(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=d(["next","error","complete"]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"==typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=Jh),void 0===r.error&&(r.error=Jh),void 0===r.complete&&(r.complete=Jh),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),n}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Jh(){}function Xh(e,t,n,r){var i;if(r<t?i="at least "+t:n<r&&(i=0===n?"none":"no more than "+n),i)throw r=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".",new Error(r)}function Zh(e,t){return"".concat(e," failed: ").concat(t," argument ")}function ed(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Zh(e,t)+"must be a valid function.")}function td(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Zh(e,t)+"must be a valid context object.")}var nd=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:55296<=r&&r<=56319?(t+=4,n++):t+=3}return t},rd=1e3,id=2,ad=144e5,od=.5;function sd(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:id;return t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:rd)*Math.pow(t,e),e=Math.round(od*t*(Math.random()-.5)*2),Math.min(ad,t+e)}function ud(e){return e&&e._delegate?e._delegate:e}function cd(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function ld(e,t,n,r){return new(n=n||Promise)((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function fd(e,t){var n,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,(o=i?[2&o[0],i.value]:o)[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function hd(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function dd(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function pd(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var vd=(yd.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},yd.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},yd.prototype.setServiceProps=function(e){return this.serviceProps=e,this},yd.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},yd);function yd(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var gd="[DEFAULT]",md=(kd.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)&&(e=new bh,this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize()))try{var n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}return this.instancesDeferred.get(t).promise},kd.prototype.getImmediate=function(e){var t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier);if(e=null!==(e=null==e?void 0:e.optional)&&void 0!==e&&e,!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(e)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(t){if(e)return null;throw t}},kd.prototype.getComponent=function(){return this.component},kd.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:gd})}catch(e){}try{for(var r=hd(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var a=dd(i.value,2),o=a[0],s=a[1],u=this.normalizeInstanceIdentifier(o);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},kd.prototype.clearInstance=function(e){this.instancesDeferred.delete(e=void 0===e?gd:e),this.instancesOptions.delete(e),this.instances.delete(e)},kd.prototype.delete=function(){return ld(this,void 0,void 0,(function(){var e;return fd(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(pd(pd([],dd(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),dd(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},kd.prototype.isComponentSet=function(){return null!=this.component},kd.prototype.isInitialized=function(e){return this.instances.has(e=void 0===e?gd:e)},kd.prototype.getOptions=function(e){return this.instancesOptions.get(e=void 0===e?gd:e)||{}},kd.prototype.initialize=function(e){var t,n,r=void 0===(r=(e=void 0===e?{}:e).options)?{}:r,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:i,options:r});try{for(var o=hd(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=dd(s.value,2),c=u[0],l=u[1];i===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},kd.prototype.onInit=function(e,t){var n=this.normalizeInstanceIdentifier(t),r=null!==(t=this.onInitCallbacks.get(n))&&void 0!==t?t:new Set;return r.add(e),this.onInitCallbacks.set(n,r),(t=this.instances.get(n))&&e(t,n),function(){r.delete(e)}},kd.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var a=hd(i),o=a.next();!o.done;o=a.next()){var s=o.value;try{s(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},kd.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n;if(!(e=this.instances.get(t))&&this.component&&(e=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t)===gd?void 0:n,options:r}),this.instances.set(t,e),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(e,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,e)}catch(e){}return e||null},kd.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=gd),!this.component||this.component.multipleInstances?e:gd},kd.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},kd);function kd(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}var wd,bd=(_d.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},_d.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},_d.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new md(e,this);return this.providers.set(e,t),t},_d.prototype.getProviders=function(){return Array.from(this.providers.values())},_d);function _d(e){this.name=e,this.providers=new Map}var xd=[];(at=wd=wd||{})[at.DEBUG=0]="DEBUG",at[at.VERBOSE=1]="VERBOSE",at[at.INFO=2]="INFO",at[at.WARN=3]="WARN",at[at.ERROR=4]="ERROR",at[at.SILENT=5]="SILENT";var Td,Ed={debug:wd.DEBUG,verbose:wd.VERBOSE,info:wd.INFO,warn:wd.WARN,error:wd.ERROR,silent:wd.SILENT},Id=wd.INFO,Sd=(h(e={},wd.DEBUG,"log"),h(e,wd.VERBOSE,"log"),h(e,wd.INFO,"info"),h(e,wd.WARN,"warn"),h(e,wd.ERROR,"error"),e),Cd=function(e,t){if(!(t<e.logLevel)){var n,r=(new Date).toISOString(),i=Sd[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(n=console)[i].apply(n,["[".concat(r,"]  ").concat(e.name,":")].concat(o))}},Ad=function(){function e(t){k(this,e),this.name=t,this._logLevel=Id,this._logHandler=Cd,this._userLogHandler=null,xd.push(this)}return w(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in wd))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?Ed[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wd.DEBUG].concat(t)),this._logHandler.apply(this,[this,wd.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wd.VERBOSE].concat(t)),this._logHandler.apply(this,[this,wd.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wd.INFO].concat(t)),this._logHandler.apply(this,[this,wd.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wd.WARN].concat(t)),this._logHandler.apply(this,[this,wd.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wd.ERROR].concat(t)),this._logHandler.apply(this,[this,wd.ERROR].concat(t))}}]),e}(),Nd=function(){function e(t){k(this,e),this.container=t}return w(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){return function(e){return"VERSION"===(null==(e=e.getComponent())?void 0:e.type)}(e)?(e=e.getImmediate(),"".concat(e.library,"/").concat(e.version)):null})).filter((function(e){return e})).join(" ")}}]),e}(),Pd="@firebase/app",Od=new Ad("@firebase/app"),Rd="[DEFAULT]",Dd={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ld=new Map,Md=new Map;function Fd(e,t){try{e.container.addComponent(t)}catch(n){Od.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ud(e,t){e.container.addOrOverwriteComponent(t)}function jd(e){var t=e.name;if(Md.has(t))return Od.debug("There were multiple attempts to register component ".concat(t,".")),!1;Md.set(t,e);var n,r=d(Ld.values());try{for(r.s();!(n=r.n()).done;)Fd(n.value,e)}catch(i){r.e(i)}finally{r.f()}return!0}function qd(e,t){return e.container.getProvider(t)}var Vd=new Dh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."}),Bd=function(){function e(t,n,r){var i=this;k(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vd("app",(function(){return i}),"PUBLIC"))}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Vd.create("app-deleted",{appName:this._name})}}]),e}(),zd="9.1.1";function Wd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!=typeof t&&(t={name:t});var n=Object.assign({name:Rd,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Vd.create("bad-app-name",{appName:String(r)});if(t=Ld.get(r)){if(zh(e,t.options)&&zh(n,t.config))return t;throw Vd.create("duplicate-app",{appName:r})}var i,a=new bd(r),o=d(Md.values());try{for(o.s();!(i=o.n()).done;){var s=i.value;a.addComponent(s)}}catch(u){o.e(u)}finally{o.f()}return n=new Bd(e,n,a),Ld.set(r,n),n}function Kd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rd,t=Ld.get(e);if(!t)throw Vd.create("no-app",{appName:e});return t}function Hd(e){return Gd.apply(this,arguments)}function Gd(){return Gd=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,e.t0=Ld.has(n),!e.t0){e.next=7;break}return Ld.delete(n),e.next=6,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 6:t.isDeleted=!0;case 7:case"end":return e.stop()}}),e)}))),Gd.apply(this,arguments)}function Qd(e,t,n){var r,i=null!==(r=Dd[e])&&void 0!==r?r:e;if(n&&(i+="-".concat(n)),e=i.match(/\s|\//),n=t.match(/\s|\//),e||n){var a=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return e&&a.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),e&&n&&a.push("and"),n&&a.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Od.warn(a.join(" "))}jd(new vd("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function $d(e,t){if(null!==e&&"function"!=typeof e)throw Vd.create("invalid-log-argument");!function(e,t){var n,r=d(xd);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ed[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:wd[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Yd(e){var t;t=e,xd.forEach((function(e){e.setLogLevel(t)}))}jd(new vd("platform-logger",(function(e){return new Nd(e)}),"PRIVATE")),Qd(Pd,"0.7.2",Td),Qd("fire-js","");var Jd=Object.freeze({__proto__:null,SDK_VERSION:zd,_DEFAULT_ENTRY_NAME:Rd,_addComponent:Fd,_addOrOverwriteComponent:Ud,_apps:Ld,_clearComponents:function(){Md.clear()},_components:Md,_getProvider:qd,_registerComponent:jd,_removeServiceInstance:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rd;qd(e,t).clearInstance(n)},deleteApp:Hd,getApp:Kd,getApps:function(){return Array.from(Ld.values())},initializeApp:Wd,onLog:$d,registerVersion:Qd,setLogLevel:Yd,FirebaseError:Rh}),Xd=function(){function e(t,n){var r=this;k(this,e),this._delegate=t,this.firebase=n,Fd(t,new vd("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Hd(e._delegate)}))}},{key:"_getService",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rd;this._delegate.checkDestroyed();var n=this._delegate.container.getProvider(e);return n.isInitialized()||"EXPLICIT"!==(null===(e=n.getComponent())||void 0===e?void 0:e.instantiationMode)||n.initialize(),n.getImmediate({identifier:t})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rd;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Fd(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ud(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Zd=new Dh("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function ep(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=Wd(r,i),jh(t,r.name)?t[r.name]:(i=new e(r,n),t[r.name]=i)},app:r,registerVersion:Qd,setLogLevel:Yd,onLog:$d,apps:null,SDK_VERSION:zd,INTERNAL:{registerComponent:function(t){var i,a=t.name,o=a.replace("-compat","");return jd(t)&&"PUBLIC"===t.type&&(i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!=typeof e[o])throw Zd.create("invalid-app-argument",{appName:a});return e[o]()},void 0!==t.serviceProps&&wh(i,t.serviceProps),n[o]=i,e.prototype[o]=function(){for(var e=this._getService.bind(this,a),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(this,t.multipleInstances?r:[])}),"PUBLIC"===t.type?n[o]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:Jd}};function r(e){if(!jh(t,e=e||Rd))throw Zd.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),r.App=e,n}C=function e(){var t=ep(Xd);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){wh(t,e)},createSubscribe:$h,ErrorFactory:Dh,deepExtend:wh}),t}();var tp=new Ad("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){tp.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var np=self.firebase.SDK_VERSION;np&&0<=np.indexOf("LITE")&&tp.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var rp=C;function ip(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function ap(e,t,n){var r,i=new Promise((function(i,a){ip(r=e[t].apply(e,n)).then(i,a)}));return i.request=r,i}function op(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function sp(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return ap(this[t],r,arguments)})}))}function up(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function cp(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return e=this[t],(n=ap(e,r,arguments)).then((function(e){if(e)return new fp(e,n.request)}));var e,n})}))}function lp(e){this._index=e}function fp(e,t){this._cursor=e,this._request=t}function hp(e){this._store=e}function dp(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function pp(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new dp(n)}function vp(e){this._db=e}function yp(e,t,n){var r=(t=ap(indexedDB,"open",[e,t])).request;return r&&(r.onupgradeneeded=function(e){n&&n(new pp(r.result,e.oldVersion,r.transaction))}),t.then((function(e){return new vp(e)}))}function gp(e){return ap(indexedDB,"deleteDatabase",[e])}Qd("@firebase/app-compat","0.1.3",void 0),rp.registerVersion("firebase","9.1.1","app-compat"),op(lp,"_index",["name","keyPath","multiEntry","unique"]),sp(lp,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),cp(lp,"_index",IDBIndex,["openCursor","openKeyCursor"]),op(fp,"_cursor",["direction","key","primaryKey","value"]),sp(fp,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(fp.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,n),ip(t._request).then((function(e){if(e)return new fp(e,t._request)}))}))})})),hp.prototype.createIndex=function(){return new lp(this._store.createIndex.apply(this._store,arguments))},hp.prototype.index=function(){return new lp(this._store.index.apply(this._store,arguments))},op(hp,"_store",["name","keyPath","indexNames","autoIncrement"]),sp(hp,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),cp(hp,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),up(hp,"_store",IDBObjectStore,["deleteIndex"]),dp.prototype.objectStore=function(){return new hp(this._tx.objectStore.apply(this._tx,arguments))},op(dp,"_tx",["objectStoreNames","mode"]),up(dp,"_tx",IDBTransaction,["abort"]),pp.prototype.createObjectStore=function(){return new hp(this._db.createObjectStore.apply(this._db,arguments))},op(pp,"_db",["name","version","objectStoreNames"]),up(pp,"_db",IDBDatabase,["deleteObjectStore","close"]),vp.prototype.transaction=function(){return new dp(this._db.transaction.apply(this._db,arguments))},op(vp,"_db",["name","version","objectStoreNames"]),up(vp,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[hp,lp].forEach((function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=(r=arguments,Array.prototype.slice.call(r)),n=t[t.length-1],r=this._store||this._index,i=r[e].apply(r,t.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[lp,hp].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})}));var mp=1e4,kp="w:0.5.1",wp="FIS_v2",bp="https://firebaseinstallations.googleapis.com/v1",_p=36e5,xp=new Dh("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tp(e){return e instanceof Rh&&e.code.includes("request-failed")}function Ep(e){var t=e.projectId;return"".concat(bp,"/projects/").concat(t,"/installations")}function Ip(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}function Sp(e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return n=e.sent.error,e.abrupt("return",xp.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status}));case 4:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}function Ap(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Np(e,t){var n=t.refreshToken,r=Ap(e);return r.append("Authorization",(n=n,"".concat(wp," ").concat(n))),r}function Pp(e){return Op.apply(this,arguments)}function Op(){return Op=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return n=e.sent,e.abrupt("return",500<=n.status&&n.status<600?t():n);case 4:case"end":return e.stop()}}),e)}))),Op.apply(this,arguments)}function Rp(e){return new Promise((function(t){setTimeout(t,e)}))}var Dp=/^[cdef][\w-]{21}$/,Lp="";function Mp(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=function(e){return btoa(String.fromCharCode.apply(String,l(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return Dp.test(t)?t:Lp}catch(t){return Lp}}function Fp(e){return"".concat(e.appName,"!").concat(e.appId)}var Up=new Map;function jp(e,t){qp(e=Fp(e),t),function(e,t){var n=(!Vp&&"BroadcastChannel"in self&&((Vp=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){qp(e.data.key,e.data.fid)}),Vp);n&&n.postMessage({key:e,fid:t}),0===Up.size&&Vp&&(Vp.close(),Vp=null)}(e,t)}function qp(e,t){if(e=Up.get(e)){var n,r=d(e);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(i){r.e(i)}finally{r.f()}}}var Vp=null,Bp="firebase-installations-store",zp=null;function Wp(){return zp=zp||yp("firebase-installations-database",1,(function(e){0===e.oldVersion&&e.createObjectStore(Bp)})),zp}function Kp(e,t){return Hp.apply(this,arguments)}function Hp(){return Hp=f(c.mark((function e(t,n){var r,i,a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fp(t),e.next=3,Wp();case 3:return i=e.sent,a=i.transaction(Bp,"readwrite"),o=a.objectStore(Bp),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.complete;case 13:return s&&s.fid===n.fid||jp(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Hp.apply(this,arguments)}function Gp(e){return Qp.apply(this,arguments)}function Qp(){return Qp=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fp(t),e.next=3,Wp();case 3:return n=e.sent,r=n.transaction(Bp,"readwrite"),e.next=7,r.objectStore(Bp).delete(t);case 7:return e.next=9,r.complete;case 9:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}function $p(e,t){return Yp.apply(this,arguments)}function Yp(){return Yp=f(c.mark((function e(t,n){var r,i,a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fp(t),e.next=3,Wp();case 3:return i=e.sent,a=i.transaction(Bp,"readwrite"),o=a.objectStore(Bp),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(n=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(n,r);case 17:return e.next=19,a.complete;case 19:return!n||s&&s.fid===n.fid||jp(t,n.fid),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e)}))),Yp.apply(this,arguments)}function Jp(e){return Xp.apply(this,arguments)}function Xp(){return Xp=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$p(t,(function(e){return e=function(e){return ev(e=e||{fid:Mp(),registrationStatus:0})}(e),e=function(e,t){return 0!==t.registrationStatus?1===t.registrationStatus?{installationEntry:t,registrationPromise:function(){var e=f(c.mark((function e(t){var n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zp(t);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Rp(100);case 6:return e.next=8,Zp(t);case 8:n=e.sent;case 9:e.next=3;break;case 11:if(0===n.registrationStatus){e.next=13;break}return e.abrupt("return",n);case 13:return e.next=15,Jp(t);case 15:return r=e.sent,i=r.installationEntry,a=r.registrationPromise,e.abrupt("return",a||i);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(e)}:{installationEntry:t}:navigator.onLine?(t={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},e=function(){var e=f(c.mark((function e(t,n){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(){var e=f(c.mark((function e(t,n){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.fid,e.abrupt("return",function(){var e=f(c.mark((function e(t){var n,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ep(t),i=Ap(t),t={fid:r,authVersion:wp,appId:t.appId,sdkVersion:kp},a={method:"POST",headers:i,body:JSON.stringify(t)},e.next=5,Pp((function(){return fetch(n,a)}));case 5:if(!(o=e.sent).ok){e.next=11;break}return e.next=9,o.json();case 9:return t=e.sent,e.abrupt("return",{fid:t.fid||r,registrationStatus:2,refreshToken:t.refreshToken,authToken:Ip(t.authToken)});case 11:return e.next=13,Sp("Create Installation",o);case 13:throw e.sent;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 3:return r=e.sent,e.abrupt("return",Kp(t,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Tp(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Gp(t);case 12:e.next=16;break;case 14:return e.next=16,Kp(t,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()(e,t),{installationEntry:t,registrationPromise:e}):{installationEntry:t,registrationPromise:Promise.reject(xp.create("app-offline"))}}(t,e),n=e.registrationPromise,e.installationEntry}));case 2:if((r=e.sent).fid!==Lp){e.next=10;break}return e.next=6,n;case 6:e.t1=e.sent,e.t0={installationEntry:e.t1},e.next=11;break;case 10:e.t0={installationEntry:r,registrationPromise:n};case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}function Zp(e){return $p(e,(function(e){if(!e)throw xp.create("installation-not-found");return ev(e)}))}function ev(e){return 1===(t=e).registrationStatus&&t.registrationTime+mp<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function tv(e,t){return nv.apply(this,arguments)}function nv(){return nv=f(c.mark((function e(t,n){var r,i,a,o,s,u,l,f,h,d;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.appConfig,a=t.platformLoggerProvider,r=[i,n.fid],s=r[0],u=r[1],o="".concat(Ep(s),"/").concat(u,"/authTokens:generate"),l=Np(i,n),(f=a.getImmediate({optional:!0}))&&l.append("x-firebase-client",f.getPlatformInfoString()),a={installation:{sdkVersion:kp}},h={method:"POST",headers:l,body:JSON.stringify(a)},e.next=8,Pp((function(){return fetch(o,h)}));case 8:if(!(d=e.sent).ok){e.next=15;break}return e.t0=Ip,e.next=13,d.json();case 13:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 15:return e.next=17,Sp("Generate Auth Token",d);case 17:throw e.sent;case 18:case"end":return e.stop()}}),e)}))),nv.apply(this,arguments)}function rv(e){return iv.apply(this,arguments)}function iv(){return iv=f(c.mark((function e(t){var n,r,i,a=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,$p(t.appConfig,(function(e){if(!ov(e))throw xp.create("not-registered");var i,a=e.authToken;if(n||2!==(i=a).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+_p}(i)){if(1===a.requestStatus)return r=function(){var e=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,av(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Rp(100);case 6:return e.next=8,av(t.appConfig);case 8:r=e.sent;case 9:e.next=3;break;case 11:return i=r.authToken,e.abrupt("return",0===i.requestStatus?rv(t,n):i);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n),e;if(!navigator.onLine)throw xp.create("app-offline");return i=e,a={requestStatus:1,requestTime:Date.now()},a=Object.assign(Object.assign({},i),{authToken:a}),r=function(){var e=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tv(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Kp(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),Tp(e.t0)&&(401===e.t0.customData.serverCode||404===e.t0.customData.serverCode)){e.next=18;break}return n=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=16,Kp(t.appConfig,n);case 16:e.next=20;break;case 18:return e.next=20,Gp(t.appConfig);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()(t,a),a}return e}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)}))),iv.apply(this,arguments)}function av(e){return $p(e,(function(e){if(!ov(e))throw xp.create("not-registered");var t=e.authToken;return 1===(t=t).requestStatus&&t.requestTime+mp<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function ov(e){return void 0!==e&&2===e.registrationStatus}function sv(e){return uv.apply(this,arguments)}function uv(){return uv=f(c.mark((function e(t){var n,r,i=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=t,e.next=4,Jp(t=r.appConfig);case 4:if(e.t0=t=e.sent.registrationPromise,!e.t0){e.next=9;break}return e.next=8,t;case 8:e.t0=e.sent;case 9:return e.next=11,e.t0;case 11:return e.next=13,rv(r,n);case 13:return e.abrupt("return",e.sent.token);case 14:case"end":return e.stop()}}),e)}))),uv.apply(this,arguments)}function cv(e){return xp.create("missing-app-config-values",{valueName:e})}var lv="installations",fv=function(e){return{app:e=e.getProvider("app").getImmediate(),appConfig:function(e){if(!e||!e.options)throw cv("App Configuration");if(!e.name)throw cv("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw cv(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(e),platformLoggerProvider:qd(e,"platform-logger"),_delete:function(){return Promise.resolve()}}},hv=function(e){var t=qd(e.getProvider("app").getImmediate(),lv).getImmediate();return{getId:function(){return function(){var e=f(c.mark((function e(t){var n,r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jp(t.appConfig);case 2:return n=e.sent,r=n.installationEntry,i=n.registrationPromise,e.abrupt("return",((i||rv(t)).catch(console.error),r.fid));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t)},getToken:function(e){return sv(t,e)}}};jd(new vd(lv,fv,"PUBLIC")),jd(new vd("installations-internal",hv,"PRIVATE")),Qd("@firebase/installations","0.5.1");var dv="analytics",pv="firebase_id",vv="origin",yv="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gv="https://www.googletagmanager.com/gtag/js",mv=new Ad("@firebase/analytics");function kv(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function wv(e,t,n,r){return function(){var i=f(c.mark((function i(a,o,s){return c.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,function(){var e=f(c.mark((function e(t,n,r,i,a){var o,s,u,l,f,h,p,v;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,kv(r);case 7:u=e.sent,l=d(s),e.prev=9,h=function(){var e=f.value;if(p=u.find((function(t){return t.measurementId===e})),!(v=p&&n[p.appId]))return o=[],"break";o.push(v)},l.s();case 12:if((f=l.n()).done){e.next=18;break}if("break"!==h()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),l.e(e.t0);case 23:return e.prev=23,l.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),mv.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,function(){var e=f(c.mark((function e(t,n,r,i,a,o){var s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=i[a],e.prev=1,!i){e.next=7;break}return e.next=5,n[i];case 5:e.next=15;break;case 7:return e.next=9,kv(r);case 9:if(s=e.sent,u=s.find((function(e){return e.measurementId===a})),e.t0=u,!e.t0){e.next=15;break}return e.next=15,n[u.appId];case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),mv.error(e.t1);case 20:t("config",a,o);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n,r,i,a,o){return e.apply(this,arguments)}}()(e,t,n,r,o,s);case 9:i.next=12;break;case 11:e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),mv.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})));return function(e,t,n){return i.apply(this,arguments)}}()}var bv=new Dh("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_v=30,xv=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;k(this,e),this.throttleMetadata=t,this.intervalMillis=n}return w(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}());function Tv(e){return Ev.apply(this,arguments)}function Ev(){return Ev=f(c.mark((function e(t){var n,r,i,a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(r=t).appId,t=r.apiKey,t={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":t})},i=yv.replace("{app-id}",i),e.next=3,fetch(i,t);case 3:if(200!==(a=e.sent).status&&304!==a.status){e.next=6;break}return e.abrupt("return",a.json());case 6:return o="",e.prev=7,e.next=10,a.json();case 10:s=e.sent,null!==(n=s.error)&&void 0!==n&&n.message&&(o=s.error.message),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(7);case 16:throw bv.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o});case 17:case"end":return e.stop()}}),e,null,[[7,14]])}))),Ev.apply(this,arguments)}function Iv(e){return Sv.apply(this,arguments)}function Sv(){return Sv=f(c.mark((function e(t){var n,r,i,a,o,s,u,l=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:xv,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw bv.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw bv.create("no-api-key");case 9:return t=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Nv,e.abrupt("return",(setTimeout(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:6e4),function(){var e=f(c.mark((function e(n,r,i){var a,o,s,u,l,f,h,d,p=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.throttleEndTimeMillis,o=r.backoffCount,s=p.length>3&&void 0!==p[3]?p[3]:xv,u=n.appId,l=n.measurementId,e.prev=3,e.next=6,Cv(i,a);case 6:e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=12;break}return e.abrupt("return",(mv.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t0.message,"]")),{appId:u,measurementId:l}));case 12:throw e.t0;case 13:return e.prev=13,e.next=16,Tv(n);case 16:return f=e.sent,e.abrupt("return",(s.deleteThrottleMetadata(u),f));case 20:if(e.prev=20,e.t1=e.catch(13),Av(e.t1)){e.next=26;break}if(s.deleteThrottleMetadata(u),!l){e.next=25;break}return e.abrupt("return",(mv.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t1.message,"]")),{appId:u,measurementId:l}));case 25:throw e.t1;case 26:return h=503===Number(e.t1.customData.httpStatus)?sd(o,s.intervalMillis,_v):sd(o,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:o+1},e.abrupt("return",(s.setThrottleMetadata(u,d),mv.debug("Calling attemptFetch again in ".concat(h," millis")),t(n,d,i,s)));case 28:case"end":return e.stop()}}),e,null,[[3,8],[13,20]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()({appId:a,apiKey:o,measurementId:s},t,u,n)));case 12:case"end":return e.stop()}}),e)}))),Sv.apply(this,arguments)}function Cv(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(bv.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function Av(e){return!!(e instanceof Rh&&e.customData)&&(429===(e=Number(e.customData.httpStatus))||500===e||503===e||504===e)}var Nv=function(){function e(){k(this,e),this.listeners=[]}return w(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function Pv(e,t,n,r,i,a,o){return Ov.apply(this,arguments)}function Ov(){return Ov=f(c.mark((function e(t,n,r,i,a,o,s){var u,l,h,d,v;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u=Iv(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&mv.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return mv.error(e)})),n.push(u),l=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nh()){e.next=2;break}return e.abrupt("return",(mv.warn(bv.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1));case 2:return e.prev=2,e.next=5,Ph();case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",(mv.warn(bv.create("indexeddb-unavailable",{errorInfo:e.t0}).message),!1));case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))().then((function(e){if(e)return i.getId()})),e.next=5,Promise.all([u,l]);case 5:return h=e.sent,d=p(h,2),n=d[0],l=d[1],!function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(gv))return r}}()&&function(e,t){var n=document.createElement("script");n.src="".concat(gv,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}(o,n.measurementId),a("js",new Date),v=null!==(s=null==s?void 0:s.config)&&void 0!==s?s:{},e.abrupt("return",(v[vv]="firebase",v.update=!0,null!=l&&(v[pv]=l),a("config",n.measurementId,v),n.measurementId));case 12:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}var Rv,Dv,Lv,Mv,Fv=function(){function e(t){k(this,e),this.app=t}return w(e,[{key:"_delete",value:function(){return delete Uv[this.app.options.appId],Promise.resolve()}}]),e}(),Uv={},jv=[],qv={},Vv="dataLayer",Bv="gtag",zv=!1;function Wv(e){if(zv)throw bv.create("already-initialized");e.dataLayerName&&(Vv=e.dataLayerName),e.gtagName&&(Bv=e.gtagName)}function Kv(e,t,n){var r;!function(){var e,t=[];Ih()&&t.push("This is a browser extension environment."),Oh()||t.push("Cookies are not available."),0<t.length&&(e=t.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),e=bv.create("invalid-analytics-context",{errorInfo:e}),mv.warn(e.message))}();var i,a,o=e.options.appId;if(!o)throw bv.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw bv.create("no-api-key");mv.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Uv[o])throw bv.create("already-exists",{id:o});return zv||(function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Vv),r=function(e,t,n,r,i){var a=function(){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=wv(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(Uv,jv,qv,Vv,Bv),i=r.wrappedGtag,a=r.gtagCore,Dv=i,Rv=a,zv=!0),Uv[o]=Pv(e,jv,qv,t,Rv,Vv,n),new Fv(e)}function Hv(){return Gv.apply(this,arguments)}function Gv(){return(Gv=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ih()){e.next=2;break}return e.abrupt("return",!1);case 2:if(Oh()){e.next=4;break}return e.abrupt("return",!1);case 4:if(Nh()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,Ph();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(6),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}function Qv(e,t,n){e=ud(e),function(){var e=f(c.mark((function e(t,n,r,i){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=2;break}return e.abrupt("return",(t("set",{screen_name:r}),Promise.resolve()));case 2:return e.t0=t,e.next=5,n;case 5:e.t1=e.sent,e.t2={update:!0,screen_name:r},(0,e.t0)("config",e.t1,e.t2);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(Dv,Uv[e.app.options.appId],t,n).catch((function(e){return mv.error(e)}))}function $v(e,t,n){e=ud(e),function(){var e=f(c.mark((function e(t,n,r,i){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=2;break}return e.abrupt("return",(t("set",{user_id:r}),Promise.resolve()));case 2:return e.t0=t,e.next=5,n;case 5:e.t1=e.sent,e.t2={update:!0,user_id:r},(0,e.t0)("config",e.t1,e.t2);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(Dv,Uv[e.app.options.appId],t,n).catch((function(e){return mv.error(e)}))}function Yv(e,t,n){e=ud(e),function(){var e=f(c.mark((function e(t,n,r,i){var a,o,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=4;break}for(a={},o=0,s=Object.keys(r);o<s.length;o++)u=s[o],a["user_properties.".concat(u)]=r[u];return e.abrupt("return",(t("set",a),Promise.resolve()));case 4:return e.t0=t,e.next=7,n;case 7:e.t1=e.sent,e.t2={update:!0,user_properties:r},(0,e.t0)("config",e.t1,e.t2);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(Dv,Uv[e.app.options.appId],t,n).catch((function(e){return mv.error(e)}))}function Jv(e,t){e=ud(e),function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:t=e.sent,window["ga-disable-".concat(t)]=!n;case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(Uv[e.app.options.appId],t).catch((function(e){return mv.error(e)}))}function Xv(e,t,n,r){e=ud(e),function(){var e=f(c.mark((function e(t,n,r,i,a){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=4;break}t("event",r,i),e.next=8;break;case 4:return e.next=6,n;case 6:n=e.sent,t("event",r,Object.assign(Object.assign({},i),{send_to:n}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()(Dv,Uv[e.app.options.appId],t,n,r).catch((function(e){return mv.error(e)}))}jd(new vd(dv,(function(e,t){var n=t.options;return Kv(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),jd(new vd("analytics-internal",(function(e){try{var t=e.getProvider(dv).getImmediate();return{logEvent:function(e,n,r){return Xv(t,e,n,r)}}}catch(e){throw bv.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),Qd("@firebase/analytics","0.7.1");var Zv=function(){function e(t,n){k(this,e),this.app=t,this._delegate=n}return w(e,[{key:"logEvent",value:function(e,t,n){Xv(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){Qv(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){$v(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){Yv(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){Jv(this._delegate,e)}}]),e}();(ce=Lv=Lv||{}).ADD_SHIPPING_INFO="add_shipping_info",ce.ADD_PAYMENT_INFO="add_payment_info",ce.ADD_TO_CART="add_to_cart",ce.ADD_TO_WISHLIST="add_to_wishlist",ce.BEGIN_CHECKOUT="begin_checkout",ce.CHECKOUT_PROGRESS="checkout_progress",ce.EXCEPTION="exception",ce.GENERATE_LEAD="generate_lead",ce.LOGIN="login",ce.PAGE_VIEW="page_view",ce.PURCHASE="purchase",ce.REFUND="refund",ce.REMOVE_FROM_CART="remove_from_cart",ce.SCREEN_VIEW="screen_view",ce.SEARCH="search",ce.SELECT_CONTENT="select_content",ce.SELECT_ITEM="select_item",ce.SELECT_PROMOTION="select_promotion",ce.SET_CHECKOUT_OPTION="set_checkout_option",ce.SHARE="share",ce.SIGN_UP="sign_up",ce.TIMING_COMPLETE="timing_complete",ce.VIEW_CART="view_cart",ce.VIEW_ITEM="view_item",ce.VIEW_ITEM_LIST="view_item_list",ce.VIEW_PROMOTION="view_promotion",ce.VIEW_SEARCH_RESULTS="view_search_results";var ey=function(e){var t=e.getProvider("app-compat").getImmediate();return e=e.getProvider("analytics").getImmediate(),new Zv(t,e)};Mv={Analytics:Zv,settings:Wv,isSupported:Hv,EventName:Lv},rp.INTERNAL.registerComponent(new vd("analytics-compat",ey,"PUBLIC").setServiceProps(Mv).setMultipleInstances(!0)),rp.registerVersion("@firebase/analytics-compat","0.1.2");var ty=new Map,ny={activated:!1,tokenObservers:[]},ry={initialized:!1,enabled:!1};function iy(e){return ty.get(e)||ny}function ay(e,t){ty.set(e,t)}var oy="https://content-firebaseappcheck.googleapis.com/v1beta",sy="exchangeDebugToken",uy={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},cy=function(){function e(t,n,r,i,a){if(k(this,e),this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,a<(this.nextErrorWaitInterval=i))throw new Error("Proactive refresh lower bound greater than upper bound!")}return w(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stop(),e.prev=1,this.pending=new bh,n=this.getNextRun(t),e.next=6,new Promise((function(e){setTimeout(e,n)}));case 6:return this.pending.resolve(),e.next=9,this.pending.promise;case 9:return this.pending=new bh,e.next=12,this.operation();case 12:return this.pending.resolve(),e.next=15,this.pending.promise;case 15:this.process(!0).catch((function(){})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),this.retryPolicy(e.t0)?this.process(!1).catch((function(){})):this.stop();case 21:case"end":return e.stop()}}),e,this,[[1,18]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNextRun",value:function(e){return e?(this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration()):(e=this.nextErrorWaitInterval,this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e)}}]),e}(),ly=new Dh("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function fy(){return self.grecaptcha}function hy(e){if(!iy(e).activated)throw ly.create("use-before-activation",{appName:e.name})}function dy(e,t){return py.apply(this,arguments)}function py(){return py=f(c.mark((function e(t,n){var r,i,a,o,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,i=t.body,a={"Content-Type":"application/json"},(o=n.getImmediate({optional:!0}))&&(a["X-Firebase-Client"]=o.getPlatformInfoString()),i={method:"POST",body:JSON.stringify(i),headers:a},e.prev=4,e.next=7,fetch(r,i);case 7:s=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),ly.create("fetch-network-error",{originalErrorMessage:e.t0.message});case 13:if(200===s.status){e.next=15;break}throw ly.create("fetch-status-error",{httpStatus:s.status});case 15:return e.prev=15,e.next=18,s.json();case 18:u=e.sent,e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(15),ly.create("fetch-parse-error",{originalErrorMessage:e.t1.message});case 24:if((r=u.ttl.match(/^([\d.]+)(s)$/))&&r[2]&&!isNaN(Number(r[1]))){e.next=27;break}throw ly.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+"format: ".concat(u.ttl)});case 27:return i=1e3*Number(r[1]),r=Date.now(),e.abrupt("return",{token:u.attestationToken,expireTimeMillis:r+i,issuedAtTimeMillis:r});case 29:case"end":return e.stop()}}),e,null,[[4,10],[15,21]])}))),py.apply(this,arguments)}var vy="firebase-app-check-database",yy=1,gy="firebase-app-check-store",my="debug-token",ky=null;function wy(){return ky||(ky=new Promise((function(e,t){try{var r=indexedDB.open(vy,yy);r.onsuccess=function(t){e(t.target.result)},r.onerror=function(e){t(ly.create("storage-open",{originalErrorMessage:null===(e=e.target.error)||void 0===e?void 0:e.message}))},r.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(gy,{keyPath:"compositeKey"})}}catch(n){t(ly.create("storage-open",{originalErrorMessage:n.message}))}})),ky)}function by(e,t){return _y.apply(this,arguments)}function _y(){return _y=f(c.mark((function e(t,n){var r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wy();case 2:return r=e.sent,i=r.transaction(gy,"readwrite"),a=i.objectStore(gy),o=a.put({compositeKey:t,value:n}),e.abrupt("return",new Promise((function(e,t){o.onsuccess=function(t){e()},i.onerror=function(e){t(ly.create("storage-set",{originalErrorMessage:null===(e=e.target.error)||void 0===e?void 0:e.message}))}})));case 7:case"end":return e.stop()}}),e)}))),_y.apply(this,arguments)}function xy(e){return Ty.apply(this,arguments)}function Ty(){return Ty=f(c.mark((function e(t){var n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wy();case 2:return n=e.sent,r=n.transaction(gy,"readonly"),i=r.objectStore(gy),a=i.get(t),e.abrupt("return",new Promise((function(e,t){a.onsuccess=function(t){t=t.target.result,e(t?t.value:void 0)},r.onerror=function(e){t(ly.create("storage-get",{originalErrorMessage:null===(e=e.target.error)||void 0===e?void 0:e.message}))}})));case 7:case"end":return e.stop()}}),e)}))),Ty.apply(this,arguments)}function Ey(e){return"".concat(e.options.appId,"-").concat(e.name)}var Iy=new Ad("@firebase/app-check");function Sy(e){return Cy.apply(this,arguments)}function Cy(){return Cy=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nh()){e.next=12;break}return n=void 0,e.prev=2,e.next=5,xy(Ey(t));case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),Iy.warn("Failed to read token from IndexedDB. Error: ".concat(e.t0));case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),Cy.apply(this,arguments)}function Ay(e,t){return Nh()?by(Ey(e),t).catch((function(e){Iy.warn("Failed to write token to IndexedDB. Error: ".concat(e))})):Promise.resolve()}function Ny(){return Py.apply(this,arguments)}function Py(){return Py=f(c.mark((function e(){var t,n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,xy(my);case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(!t){e.next=11;break}return e.abrupt("return",t);case 11:return n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),e.abrupt("return",(by(my,n).catch((function(e){return Iy.warn("Failed to persist debug token to IndexedDB. Error: ".concat(e))})),n));case 13:case"end":return e.stop()}}),e,null,[[1,7]])}))),Py.apply(this,arguments)}function Oy(){return ry.enabled}function Ry(){return Dy.apply(this,arguments)}function Dy(){return Dy=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=ry).enabled||!t.token){e.next=3;break}return e.abrupt("return",t.token.promise);case 3:throw Error("\n            Can't get debug token in production mode.\n        ");case 4:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Ly(){var e=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof t)return t;throw new Error("Unable to locate global object.")}(),n=ry;if(n.initialized=!0,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){n.enabled=!0;var r=new bh;n.token=r,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?r.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):r.resolve(Ny())}}var My={error:"UNKNOWN_ERROR"};function Fy(e){return Uy.apply(this,arguments)}function Uy(){return Uy=f(c.mark((function e(t){var n,r,i,a,o,s,u,l,f=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]&&f[1],hy(i=t.app),a=iy(i),o=a.token,s=void 0,e.t0=o,e.t0){e.next=15;break}return e.next=9,a.cachedTokenPromise;case 9:if(e.t1=r=e.sent,!e.t1){e.next=12;break}e.t1=By(r);case 12:if(e.t2=e.t1,!e.t2){e.next=15;break}o=r,ay(i,Object.assign(Object.assign({},a),{token:o})),Vy(i,{token:o.token});case 15:if(n||!o||!By(o)){e.next=17;break}return e.abrupt("return",{token:o.token});case 17:if(!Oy()){e.next=33;break}return e.t3=dy,e.t4=function(e,t){var n=e.options,r=n.projectId,i=n.appId;return e=n.apiKey,{url:"".concat(oy,"/projects/").concat(r,"/apps/").concat(i,":").concat(sy,"?key=").concat(e),body:{debug_token:t}}},e.t5=i,e.next=23,Ry();case 23:return e.t6=e.sent,e.t7=(0,e.t4)(e.t5,e.t6),e.t8=t.platformLoggerProvider,e.next=28,(0,e.t3)(e.t7,e.t8);case 28:return u=e.sent,e.next=31,Ay(i,u);case 31:return ay(i,Object.assign(Object.assign({},a),{token:u})),e.abrupt("return",{token:u.token});case 33:return e.prev=33,e.next=36,a.provider.getToken();case 36:o=e.sent,e.next=42;break;case 39:e.prev=39,e.t9=e.catch(33),Iy.error(e.t9),s=e.t9;case 42:if(!o){e.next=49;break}return l={token:o.token},ay(i,Object.assign(Object.assign({},a),{token:o})),e.next=47,Ay(i,o);case 47:e.next=50;break;case 49:u=s,l={token:function(e){return gh.encodeString(JSON.stringify(e),!1)}(My),error:u};case 50:return Vy(i,l),e.abrupt("return",l);case 52:case"end":return e.stop()}}),e,null,[[33,39]])}))),Uy.apply(this,arguments)}function jy(e,t,n,r){var i=e.app,a=iy(i);t={next:n,error:r,type:t};var o=Object.assign(Object.assign({},a),{tokenObservers:[].concat(l(a.tokenObservers),[t])});if(o.tokenRefresher||(e=function(e){var t=e.app;return new cy(f(c.mark((function n(){var r;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!iy(t).token){n.next=7;break}return n.next=4,Fy(e,!0);case 4:n.t0=n.sent,n.next=10;break;case 7:return n.next=9,Fy(e);case 9:n.t0=n.sent;case 10:if(!(r=n.t0).error){n.next=13;break}throw r.error;case 13:case"end":return n.stop()}}),n)}))),(function(){return!0}),(function(){if((n=iy(t)).token){var e=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5,n=n.token.expireTimeMillis-3e5;return e=Math.min(e,n),Math.max(0,e-Date.now())}return 0}),uy.RETRIAL_MIN_WAIT,uy.RETRIAL_MAX_WAIT)}(e),o.tokenRefresher=e),!o.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&o.tokenRefresher.start(),a.token&&By(a.token)){var s=a.token;Promise.resolve().then((function(){return n({token:s.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&By(e)&&n({token:e.token})})).catch((function(){}));ay(i,o)}function qy(e,t){var n=iy(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),ay(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Vy(e,t){var n,r=d(iy(e).tokenObservers);try{for(r.s();!(n=r.n()).done;){var i=n.value;try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(e){}}}catch(a){r.e(a)}finally{r.f()}}function By(e){return 0<e.expireTimeMillis-Date.now()}var zy=function(){function e(t,n){k(this,e),this.app=t,this.platformLoggerProvider=n}return w(e,[{key:"_delete",value:function(){var e,t=iy(this.app).tokenObservers,n=d(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;qy(this.app,r.next)}}catch(i){n.e(i)}finally{n.f()}return Promise.resolve()}}]),e}(),Wy="https://www.google.com/recaptcha/api.js";function Ky(e,t){var n=iy(e),r=new bh;ay(e,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_".concat(e.name),a=document.createElement("div");a.id=i,a.style.display="none",document.body.appendChild(a);var o=fy();return o?o.ready((function(){Hy(e,t,o,i),r.resolve(o)})):function(e){var t=document.createElement("script");t.src="".concat(Wy),t.onload=e,document.head.appendChild(t)}((function(){var n=fy();if(!n)throw new Error("no recaptcha");n.ready((function(){Hy(e,t,n,i),r.resolve(n)}))})),r.promise}function Hy(e,t,n,r){r=n.render(r,{sitekey:t,size:"invisible"}),t=iy(e),ay(e,Object.assign(Object.assign({},t),{reCAPTCHAState:Object.assign(Object.assign({},t.reCAPTCHAState),{widgetId:r})}))}var Gy=function(){function e(t){k(this,e),this._siteKey=t}return w(e,[{key:"getToken",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._app&&this._platformLoggerProvider){e.next=2;break}throw ly.create("use-before-activation",{appName:""});case 2:return e.next=4,function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hy(t),e.next=3,iy(t).reCAPTCHAState.initialized.promise;case 3:return n=e.sent,e.abrupt("return",new Promise((function(e,r){var i=iy(t).reCAPTCHAState;n.ready((function(){e(n.execute(i.widgetId,{action:"fire_app_check"}))}))})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this._app).catch((function(e){throw ly.create("recaptcha-error")}));case 4:return t=e.sent,e.abrupt("return",dy(function(e,t){var n=e.options,r=n.projectId,i=n.appId;return e=n.apiKey,{url:"".concat(oy,"/projects/").concat(r,"/apps/").concat(i,":exchangeRecaptchaToken?key=").concat(e),body:{recaptcha_token:t}}}(this._app,t),this._platformLoggerProvider));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initialize",value:function(e){this._app=e,this._platformLoggerProvider=qd(e,"platform-logger"),Ky(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),Qy=function(){function e(t){k(this,e),this._customProviderOptions=t}return w(e,[{key:"getToken",value:function(){var e=f(c.mark((function e(){var t,n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._app){e.next=2;break}throw ly.create("use-before-activation",{appName:""});case 2:return e.next=4,this._customProviderOptions.getToken();case 4:return t=e.sent,n=function(e){var t=Uh(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null}(t.token),n=null!==n&&n<Date.now()&&0<n?1e3*n:Date.now(),e.abrupt("return",Object.assign(Object.assign({},t),{issuedAtTimeMillis:n}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initialize",value:function(e){this._app=e}},{key:"isEqual",value:function(t){return t instanceof e&&this._customProviderOptions.getToken.toString()===t._customProviderOptions.getToken.toString()}}]),e}();function $y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kd(),t=arguments.length>1?arguments[1]:void 0,n=qd(e=ud(e),"app-check");if(ry.initialized||Ly(),Oy()&&Ry().then((function(e){return console.log("App Check debug token: ".concat(e,". You will need to add it to your app's App Check settings in the Firebase console for it to work."))})),n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw ly.create("already-initialized",{appName:e.name})}return r=n.initialize({options:t}),function(e,t,n){var r=iy(e),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=t,i.cachedTokenPromise=Sy(e).then((function(t){return t&&By(t)&&ay(e,Object.assign(Object.assign({},iy(e)),{token:t})),t})),i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,ay(e,i),i.provider.initialize(e)}(e,t.provider,t.isTokenAutoRefreshEnabled),r}var Yy="app-check-internal";jd(new vd("app-check",(function(e){var t=e.getProvider("app").getImmediate();return e=e.getProvider("platform-logger"),new zy(t=t,e=e)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(Yy).initialize()}))),jd(new vd(Yy,(function(e){var t;return e=e.getProvider("app-check").getImmediate(),t=e,{getToken:function(e){return Fy(t,e)},addTokenListener:function(e){return jy(t,"INTERNAL",e)},removeTokenListener:function(e){return qy(t.app,e)}}}),"PUBLIC").setInstantiationMode("EXPLICIT")),Qd("@firebase/app-check","0.4.1");var Jy=new Dh("appCheck","AppCheck",{"use-before-activation":"App Check is being used before activate() is called for FirebaseApp {$appName}. Call activate() before instantiating other Firebase services."}),Xy=function(){function e(t){k(this,e),this.app=t}return w(e,[{key:"activate",value:function(e,t){var n;n="string"==typeof e?new Gy(e):new Qy({getToken:e.getToken}),this._delegate=$y(this.app,{provider:n,isTokenAutoRefreshEnabled:t})}},{key:"setTokenAutoRefreshEnabled",value:function(e){if(!this._delegate)throw Jy.create("use-before-activation",{appName:this.app.name});!function(e,t){var n=iy(e=e.app);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),ay(e,Object.assign(Object.assign({},n),{isTokenAutoRefreshEnabled:t}))}(this._delegate,e)}},{key:"getToken",value:function(e){if(!this._delegate)throw Jy.create("use-before-activation",{appName:this.app.name});return function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fy(t,n);case 2:if(!(n=e.sent).error){e.next=4;break}throw n.error;case 4:return e.abrupt("return",{token:n.token});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,e)}},{key:"onTokenChanged",value:function(e,t,n){if(!this._delegate)throw Jy.create("use-before-activation",{appName:this.app.name});return function(e,t,n){var r=function(){},i=function(){};return r=null!=t.next?t.next.bind(t):t,null!=t.error?i=t.error.bind(t):n&&(i=n),jy(e,"EXTERNAL",r,i),function(){return qy(e.app,r)}}(this._delegate,e,t)}}]),e}(),Zy=function(e){return e=e.getProvider("app-compat").getImmediate(),new Xy(e)};rp.INTERNAL.registerComponent(new vd("appCheck-compat",Zy,"PUBLIC")),rp.registerVersion("@firebase/app-check-compat","0.1.2");var eg={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},tg={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function ng(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}function rg(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}var ig=ng,ag=new Dh("auth","Firebase",ng()),og=new Ad("@firebase/auth");function sg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];og.logLevel<=wd.ERROR&&og.error.apply(og,["Auth (".concat(zd,"): ").concat(e)].concat(n))}function ug(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw hg.apply(void 0,[e].concat(n))}function cg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return hg.apply(void 0,[e].concat(n))}function lg(e,t,n){return n=Object.assign(Object.assign({},ig()),h({},t,n)),new Dh("auth","Firebase",n).create(t,{appName:e.name})}function fg(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ug(e,"argument-error"),lg(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function hg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"==typeof e)return ag.create.apply(ag,[e].concat(n));var i,a=n[0],o=l(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(l(o)))}function dg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e)throw hg.apply(void 0,[t].concat(r))}function pg(e){throw sg(e="INTERNAL ASSERTION FAILED: "+e),new Error(e)}function vg(e,t){e||pg(t)}var yg=new Map;function gg(e){vg(e instanceof Function,"Expected a class definition");var t=yg.get(e);return t?vg(t instanceof e,"Instance stored in cache mismatched with class"):(t=new e,yg.set(e,t)),t}function mg(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function kg(){return"http:"===wg()||"https:"===wg()}function wg(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var bg=function(){function e(t,n){k(this,e),vg((this.shortDelay=t)<(this.longDelay=n),"Short delay should be less than long delay!"),this.isMobile=Th()||Sh()}return w(e,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kg()||Ih()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function _g(e,t){return vg(e.emulator,"Emulator should always be set here"),e=e.emulator.url,t?"".concat(e).concat(t.startsWith("/")?t.slice(1):t):e}var xg=function(){function e(){k(this,e)}return w(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl||("undefined"!=typeof self&&"fetch"in self?self.fetch:void pg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill"))}},{key:"headers",value:function(){return this.headersImpl||("undefined"!=typeof self&&"Headers"in self?self.Headers:void pg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill"))}},{key:"response",value:function(){return this.responseImpl||("undefined"!=typeof self&&"Response"in self?self.Response:void pg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill"))}}]),e}(),Tg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Eg=new bg(3e4,6e4);function Ig(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Sg(e,t,n,r){return Cg.apply(this,arguments)}function Cg(){return Cg=f(c.mark((function e(t,n,r,i){var a,o=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ag(t,a,(function(){var e={},a={};i&&("GET"===n?a=i:e={body:JSON.stringify(i)});var o=Kh(Object.assign({key:t.config.apiKey},a)).slice(1),s=new(xg.headers());return s.set("Content-Type","application/json"),s.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&s.set("X-Firebase-Locale",t.languageCode),xg.fetch()(Rg(t,t.config.apiHost,r,o),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},e))})));case 2:case"end":return e.stop()}}),e)}))),Cg.apply(this,arguments)}function Ag(e,t,n){return Ng.apply(this,arguments)}function Ng(){return Ng=f(c.mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,n=Object.assign(Object.assign({},Tg),n),e.prev=2,i=new Dg(t),e.next=6,Promise.race([r(),i.promise]);case 6:return a=e.sent,i.clearNetworkTimeout(),e.next=10,a.json();case 10:if(!("needConfirmation"in(o=e.sent))){e.next=13;break}throw Lg(t,"account-exists-with-different-credential",o);case 13:if(!a.ok||"errorMessage"in o){e.next=15;break}return e.abrupt("return",o);case 15:if(s=a.ok?o.errorMessage:o.error.message,u=s.split(" : "),l=p(u,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=18;break}throw Lg(t,"credential-already-in-use",o);case 18:if("EMAIL_EXISTS"!==f){e.next=20;break}throw Lg(t,"email-already-in-use",o);case 20:if(d=n[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=23;break}throw lg(t,d,h);case 23:ug(t,d),e.next=31;break;case 26:if(e.prev=26,e.t0=e.catch(2),!(e.t0 instanceof Rh)){e.next=30;break}throw e.t0;case 30:ug(t,"network-request-failed");case 31:case"end":return e.stop()}}),e,null,[[2,26]])}))),Ng.apply(this,arguments)}function Pg(e,t,n,r){return Og.apply(this,arguments)}function Og(){return Og=f(c.mark((function e(t,n,r,i){var a,o=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.next=3,Sg(t,n,r,i,a);case 3:return a=e.sent,e.abrupt("return",("mfaPendingCredential"in a&&ug(t,"multi-factor-auth-required",{serverResponse:a}),a));case 5:case"end":return e.stop()}}),e)}))),Og.apply(this,arguments)}function Rg(e,t,n,r){return r="".concat(t).concat(n,"?").concat(r),e.config.emulator?_g(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}var Dg=function(){function e(t){var n=this;k(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(cg(n.auth,"timeout"))}),Eg.get())}))}return w(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Lg(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=cg(e,t,r);return i.customData._tokenResponse=n,i}function Mg(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Fg(e){return 1e3*Number(e)}function Ug(e){var t=e.split("."),n=p(t,3),r=n[0],i=n[1];if(e=n[2],void 0===r||void 0===i||void 0===e)return sg("JWT malformed, contained fewer than 3 sections"),null;try{var a=kh(i);return a?JSON.parse(a):(sg("Failed to decode base64 JWT payload"),null)}catch(e){return sg("Caught error parsing JWT payload as JSON",e),null}}function jg(e,t){return qg.apply(this,arguments)}function qg(){return qg=f(c.mark((function e(t,n){var r=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(3),e.t1=e.t0 instanceof Rh&&("auth/user-disabled"===(n=e.t0.code)||"auth/user-token-expired"===n)&&t.auth.currentUser===t,!e.t1){e.next=13;break}return e.next=13,t.auth.signOut();case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,7]])}))),qg.apply(this,arguments)}var Vg=function(){function e(t){k(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return w(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){if(e){var t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}return this.errorBackoff=3e4,t=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5,Math.max(0,t)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isRunning&&(t=this.getInterval(t),this.timerId=setTimeout(f(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),t))}},{key:"iteration",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",void("auth/network-request-failed"===e.t0.code&&this.schedule(!0)));case 8:this.schedule();case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Bg=function(){function e(t,n){k(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return w(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Mg(this.lastLoginAt),this.creationTime=Mg(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function zg(e){return Wg.apply(this,arguments)}function Wg(){return Wg=f(c.mark((function e(t){var n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,e.next=3,t.getIdToken();case 3:return r=e.sent,e.next=6,jg(t,function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sg(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n,{idToken:r}));case 6:dg(null==(i=e.sent)?void 0:i.users.length,n,"internal-error"),a=i.users[0],t._notifyReloadListener(a),n=null!==(r=a.providerUserInfo)&&void 0!==r&&r.length?a.providerUserInfo.map((function(e){return{providerId:e.providerId,uid:(e=cd(e,["providerId"])).rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}})):[],i=function(e,t){return e=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))})),[].concat(l(e),l(t))}(t.providerData,n),r=t.isAnonymous,n=!(t.email&&a.passwordHash||null!=i&&i.length),n=!!r&&n,n={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new Bg(a.createdAt,a.lastLoginAt),isAnonymous:n},Object.assign(t,n);case 12:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}var Kg=function(){function e(){k(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return w(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){dg(e.idToken,"internal-error"),dg(void 0!==e.idToken,"internal-error"),dg(void 0!==e.refreshToken,"internal-error");var t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):(dg(t=Ug(t=e.idToken),"internal-error"),dg(void 0!==t.exp,"internal-error"),dg(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat));this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=f(c.mark((function e(t){var n,r=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],dg(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired){e.next=13;break}if(!this.refreshToken){e.next=9;break}return e.next=6,this.refresh(t,this.refreshToken);case 6:e.t1=this.accessToken,e.next=10;break;case 9:e.t1=null;case 10:e.t0=e.t1,e.next=14;break;case 13:e.t0=this.accessToken;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=f(c.mark((function e(t,n){var r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Ag(r=t,{},(function(){var e=Kh({grant_type:"refresh_token",refresh_token:i}).slice(1),t=r.config,n=t.tokenApiHost,a=t.apiKey;return a=Rg(r,n,"/v1/token","key=".concat(a)),xg.fetch()(a,{method:"POST",headers:{"X-Client-Version":r._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:e})}));case 3:return e.t0=(o=e.sent).access_token,e.t1=o.expires_in,e.t2=o.refresh_token,e.next=8,{accessToken:e.t0,expiresIn:e.t1,refreshToken:e.t2};case 8:a=e.sent,n=a.accessToken,t=a.refreshToken,o=a.expiresIn,this.updateTokensAndExpiration(n,t,Number(o));case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return pg("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n,i=r.refreshToken,a=r.accessToken,o=(n=r.expirationTime,new e);return i&&(dg("string"==typeof i,"internal-error",{appName:t}),o.refreshToken=i),a&&(dg("string"==typeof a,"internal-error",{appName:t}),o.accessToken=a),n&&(dg("number"==typeof n,"internal-error",{appName:t}),o.expirationTime=n),o}}]),e}();function Hg(e,t){dg("string"==typeof e||void 0===e,"internal-error",{appName:t})}var Gg=function(){function e(t){k(this,e);var n=t,r=n.uid,i=n.auth,a=n.stsTokenManager;t=cd(t,["uid","auth","stsTokenManager"]),this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Vg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=t.displayName||null,this.email=t.email||null,this.emailVerified=t.emailVerified||!1,this.phoneNumber=t.phoneNumber||null,this.photoURL=t.photoURL||null,this.isAnonymous=t.isAnonymous||!1,this.metadata=new Bg(t.createdAt||void 0,t.lastLoginAt||void 0)}return w(e,[{key:"getIdToken",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jg(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(dg(t=e.sent,this.auth,"internal-error"),e.t0=this.accessToken!==t,!e.t0){e.next=10;break}return this.accessToken=t,e.next=9,this.auth._persistUserIfCurrent(this);case 9:this.auth._notifyListenersIfCurrent(this);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getIdTokenResult",value:function(e){return function(){var e=f(c.mark((function e(t){var n,r,i,a,o=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],r=ud(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,a=Ug(i),e.abrupt("return",(dg(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),t="object"==typeof a.firebase?a.firebase:void 0,n=null==t?void 0:t.sign_in_provider,{claims:a,token:i,authTime:Mg(Fg(a.auth_time)),issuedAtTime:Mg(Fg(a.iat)),expirationTime:Mg(Fg(a.exp)),signInProvider:n||null,signInSecondFactor:(null==t?void 0:t.sign_in_second_factor)||null}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this,e)}},{key:"reload",value:function(){return function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ud(t),e.next=3,zg(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this)}},{key:"_assign",value:function(e){this!==e&&(dg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){dg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=f(c.mark((function e(t){var n,r,i=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e.t0=n,!e.t0){e.next=7;break}return e.next=7,zg(this);case 7:return e.next=9,this.auth._persistUserIfCurrent(this);case 9:r&&this.auth._notifyListenersIfCurrent(this);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,jg(this,function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sg(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r=null!==(l=n.displayName)&&void 0!==l?l:void 0,i=null!==(s=n.email)&&void 0!==s?s:void 0,a=null!==(c=n.phoneNumber)&&void 0!==c?c:void 0,o=null!==(u=n.photoURL)&&void 0!==u?u:void 0,s=null!==(l=n.tenantId)&&void 0!==l?l:void 0,u=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,c=null!==(l=n.createdAt)&&void 0!==l?l:void 0,l=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,f=n,h=f.uid,d=f.emailVerified,p=f.isAnonymous,v=f.providerData,y=f.stsTokenManager;dg(h&&y,t,"internal-error"),n=Kg.fromJSON(this.name,y),dg("string"==typeof h,t,"internal-error"),Hg(r,t.name),Hg(i,t.name),dg("boolean"==typeof d,t,"internal-error"),dg("boolean"==typeof p,t,"internal-error"),Hg(a,t.name),Hg(o,t.name),Hg(s,t.name),Hg(u,t.name),Hg(c,t.name),Hg(l,t.name);var g=new e({uid:h,auth:t,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:n,createdAt:c,lastLoginAt:l});return v&&Array.isArray(v)&&(g.providerData=v.map((function(e){return Object.assign({},e)}))),u&&(g._redirectEventId=u),g}},{key:"_fromIdTokenResponse",value:function(){var t=f(c.mark((function t(n,r){var i,a,o=arguments;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=o.length>2&&void 0!==o[2]&&o[2],(a=new Kg).updateFromServerResponse(r),i=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,zg(i);case 6:return t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()}]),e}(),Qg=function(){function e(){k(this,e),this.type="NONE",this.storage={}}return w(e,[{key:"_isAvailable",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_set",value:function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage[t],e.abrupt("return",void 0===t?null:t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_remove",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Qg.type="NONE";var $g=Qg;function Yg(e,t,n){return"firebase:".concat(e,":").concat(t,":").concat(n)}var Jg=function(){function e(t,n,r){k(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth;t=i.config,r=i.name,this.fullUserKey=Yg(this.userKey,t.apiKey,r),this.fullPersistenceKey=Yg("persistence",t.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return w(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Gg._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence===t){e.next=8;break}return e.next=3,this.getCurrentUser();case 3:return n=e.sent,e.next=6,this.removeCurrentUser();case 6:return this.persistence=t,e.abrupt("return",n?this.setCurrentUser(n):void 0);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=f(c.mark((function t(n,r){var i,a,o,s,u,l,h,p,v,y,g,m=arguments;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(gg($g),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||gg($g),s=Yg(i,n.config.apiKey,n.name),u=null,l=d(r),t.prev=10,l.s();case 12:if((h=l.n()).done){t.next=28;break}return p=h.value,t.prev=14,t.next=17,p._get(s);case 17:if(!(v=t.sent)){t.next=22;break}return y=Gg._fromJSON(n,v),p!==o&&(u=y),o=p,t.abrupt("break",28);case 22:t.next=26;break;case 24:t.prev=24,t.t0=t.catch(14);case 26:t.next=12;break;case 28:t.next=33;break;case 30:t.prev=30,t.t1=t.catch(10),l.e(t.t1);case 33:return t.prev=33,l.f(),t.finish(33);case 36:if(g=a.filter((function(e){return e._shouldAllowMigration})),t.t2=o._shouldAllowMigration&&g.length,!t.t2){t.next=46;break}if(o=g[0],t.t3=u,!t.t3){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,30,33,36],[14,24]])})));function n(e,n){return t.apply(this,arguments)}return n}()}]),e}();function Xg(e){var t=e.toLowerCase();return t.includes("opera/")||t.includes("opr/")||t.includes("opios/")?"Opera":nm(t)?"IEMobile":t.includes("msie")||t.includes("trident/")?"IE":t.includes("edge/")?"Edge":Zg(t)?"Firefox":t.includes("silk/")?"Silk":im(t)?"Blackberry":am(t)?"Webos":em(t)?"Safari":!t.includes("chrome/")&&!tm(t)||t.includes("edge/")?rm(t)?"Android":2===(null==(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))?void 0:e.length)?e[1]:"Other":"Chrome"}function Zg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xh();return/firefox\//i.test(e)}function em(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:xh()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xh();return/crios\//i.test(e)}function nm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xh();return/iemobile/i.test(e)}function rm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xh();return/android/i.test(e)}function im(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xh();return/blackberry/i.test(e)}function am(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xh();return/webos/i.test(e)}function om(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xh();return/iphone|ipad|ipod/i.test(e)}function sm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xh();return om(e)||rm(e)||am(e)||im(e)||/windows phone/i.test(e)||nm(e)}function um(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Xg(xh());break;case"Worker":t="".concat(Xg(xh()),"-").concat(e);break;default:t=e}return n=n.length?n.join(","):"FirebaseCore-web","".concat(t,"/JsCore/").concat(zd,"/").concat(n)}var cm=function(){function e(t,n){k(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fm(this),this.idTokenSubscription=new fm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ag,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return w(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=gg(t)),this._initializationPromise=this.queue(f(c.mark((function r(){var i;return c.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=n._deleted,r.t0){r.next=14;break}return r.next=4,Jg.create(n,e);case 4:if(n.persistenceManager=r.sent,r.t1=n._deleted,r.t1){r.next=14;break}if(r.t2=null!==(i=n._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively,!r.t2){r.next=11;break}return r.next=11,n._popupRedirectResolver._initialize(n);case 11:return r.next=13,n.initializeCurrentUser(t);case 13:n._deleted||(n._isInitialized=!0);case 14:case"end":return r.stop()}}),r)})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._deleted){e.next=16;break}return e.next=3,this.assertedPersistence.getCurrentUser();case 3:if(t=e.sent,!this.currentUser&&!t){e.next=16;break}if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=9,this.currentUser.getIdToken();case 9:e.t0=void e.sent,e.next=15;break;case 12:return e.next=14,this._updateCurrentUser(t);case 14:e.t0=void e.sent;case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeCurrentUser",value:function(){var e=f(c.mark((function e(t){var n,r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(i=e.sent,e.t0=t&&this.config.authDomain,!e.t0){e.next=13;break}return e.next=7,this.getOrInitRedirectPersistenceManager();case 7:return n=null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,e.next=11,this.tryRedirectSignIn(t);case 11:t=e.sent,n&&n!==r||null==t||!t.user||(i=t.user);case 13:if(!i){e.next=25;break}if(!i._redirectEventId){e.next=21;break}return dg(this._popupRedirectResolver,this,"argument-error"),e.next=18,this.getOrInitRedirectPersistenceManager();case 18:e.t2=this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i),e.next=22;break;case 21:e.t2=this.reloadAndSetCurrentUserOrClear(i);case 22:e.t1=e.t2,e.next=26;break;case 25:e.t1=this.directlySetCurrentUser(null);case 26:return e.abrupt("return",e.t1);case 27:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"tryRedirectSignIn",value:function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zg(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),"auth/network-request-failed"===e.t0.code){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateCurrentUser",value:function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?ud(t):null,e.abrupt("return",(n&&dg(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_updateCurrentUser",value:function(){var e=f(c.mark((function e(t){var n=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._deleted){e.next=2;break}return e.abrupt("return",(t&&dg(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),this.queue(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)}))))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signOut",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.redirectPersistenceManager||this._popupRedirectResolver,!e.t0){e.next=4;break}return e.next=4,this._setRedirectUser(null);case 4:return e.abrupt("return",this._updateCurrentUser(null));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(f(c.mark((function n(){return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(gg(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Dh("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=f(c.mark((function e(t,n){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.redirectPersistenceManager,e.t0){e.next=9;break}return dg(t=t&&gg(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Jg.create(this,[gg(t._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_redirectUserForId",value:function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._isInitialized,!e.t0){e.next=4;break}return e.next=4,this.queue(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 4:return e.abrupt("return",(null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_persistUserIfCurrent",value:function(){var e=f(c.mark((function e(t){var n=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e;this._isInitialized&&(this.idTokenSubscription.next(this.currentUser),e=null!==(e=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==e?e:null,this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser)))}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return dg(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),!(this.currentUser=t)){e.next=6;break}return e.next=4,this.assertedPersistence.setCurrentUser(t);case 4:e.next=8;break;case 6:return e.next=8,this.assertedPersistence.removeCurrentUser();case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return dg(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=um(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getSdkClientVersion",value:function(){return this.clientVersion}}]),e}();function lm(e){return ud(e)}var fm=function(){function e(t){var n=this;k(this,e),this.auth=t,this.observer=null,this.addObserver=$h((function(e){return n.observer=e}))}return w(e,[{key:"next",get:function(){return dg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function hm(e,t,n){var r=lm(e);dg(r._canInitEmulator,r,"emulator-config-failed"),dg(/^https?:\/\//.test(t),r,"invalid-emulator-scheme"),e=!(null==n||!n.disableWarnings);var i=dm(t),a=function(e){var t=dm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i)return{host:a=i[1],port:pm(r.substr(a.length+1))};var a,o=r.split(":"),s=p(o,2);return{host:e=s[0],port:pm(a=s[1])}}(t);n=a.host,t=a.port,r.config.emulator={url:"".concat(i,"//").concat(n).concat(null===t?"":":".concat(t),"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:n,port:t,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:e})}),function(e){function t(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(e)}function dm(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pm(e){return e?(e=Number(e),isNaN(e)?null:e):null}var vm=function(){function e(t,n){k(this,e),this.providerId=t,this.signInMethod=n}return w(e,[{key:"toJSON",value:function(){return pg("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return pg("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return pg("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return pg("not implemented")}}]),e}();function ym(e,t){return gm.apply(this,arguments)}function gm(){return gm=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sg(t,"POST","/v1/accounts:resetPassword",Ig(t,n)));case 1:case"end":return e.stop()}}),e)}))),gm.apply(this,arguments)}function mm(e,t){return km.apply(this,arguments)}function km(){return km=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sg(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function wm(e,t){return bm.apply(this,arguments)}function bm(){return bm=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sg(t,"POST","/v1/accounts:sendOobCode",Ig(t,n)));case 1:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}var _m=function(e){y(n,e);var t=g(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return k(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return w(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pg(t,"POST","/v1/accounts:signInWithPassword",Ig(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pg(t,"POST","/v1/accounts:signInWithEmailLink",Ig(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,{email:this._email,oobCode:this._password}));case 5:ug(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_linkToIdToken",value:function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",mm(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pg(t,"POST","/v1/accounts:signInWithEmailLink",Ig(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ug(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){if(null!=(e="string"==typeof e?JSON.parse(e):e)&&e.email&&null!=e&&e.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}}]),n}(vm);function xm(e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pg(t,"POST","/v1/accounts:signInWithIdp",Ig(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tm.apply(this,arguments)}var Em=function(e){y(n,e);var t=g(n);function n(){var e;return k(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return w(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return xm(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xm(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xm(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kh(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ug("argument-error"),t}},{key:"fromJSON",value:function(e){var t=i="string"==typeof e?JSON.parse(e):e,r=t.providerId,i=(e=t.signInMethod,cd(i,["providerId","signInMethod"]));return r&&e?(e=new n(r,e),Object.assign(e,i),e):null}}]),n}(vm),Im={USER_NOT_FOUND:"user-not-found"},Sm=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this,"phone","phone")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pg(t,"POST","/v1/accounts:signInWithPhoneNumber",Ig(t,n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pg(t,"POST","/v1/accounts:signInWithPhoneNumber",Ig(t,n));case 2:if(!(n=e.sent).temporaryProof){e.next=4;break}throw Lg(t,"account-exists-with-different-credential",n);case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pg(t,"POST","/v1/accounts:signInWithPhoneNumber",Ig(t,Object.assign(Object.assign({},n),{operation:"REAUTH"})),Im));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){var t=e="string"==typeof e?JSON.parse(e):e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber;return e=t.temporaryProof,i||r||a||e?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:e}):null}}]),n}(vm),Cm=function(){function e(t){k(this,e);var n=Hh(Gh(t)),r=null!==(i=n.apiKey)&&void 0!==i?i:null,i=null!==(t=n.oobCode)&&void 0!==t?t:null;t=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(t=n.mode)&&void 0!==t?t:null),dg(r&&i&&t,"argument-error"),this.apiKey=r,this.operation=t,this.code=i,this.continueUrl=null!==(i=n.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(i=n.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(n=n.tenantId)&&void 0!==n?n:null}return w(e,null,[{key:"parseLink",value:function(t){var n,r,i=(r=(n=Hh(Gh(i=t)).link)?Hh(Gh(n)).deep_link_id:null,((t=Hh(Gh(i)).deep_link_id)?Hh(Gh(t)).link:null)||t||r||n||i);try{return new e(i)}catch(t){return null}}}]),e}(),Am=function(){function e(){k(this,e),this.providerId=e.PROVIDER_ID}return w(e,null,[{key:"credential",value:function(e,t){return _m._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){return dg(t=Cm.parseLink(t),"argument-error"),_m._fromEmailAndCode(e,t.code,t.tenantId)}}]),e}();Am.PROVIDER_ID="password",Am.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Am.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Nm=function(){function e(t){k(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return w(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Pm=function(e){y(n,e);var t=g(n);function n(){var e;return k(this,n),(e=t.apply(this,arguments)).scopes=[],e}return w(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return l(this.scopes)}}]),n}(Nm),Om=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"credential",value:function(e){return this._credential(e)}},{key:"_credential",value:function(e){return dg(e.idToken||e.accessToken,"argument-error"),Em._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){return dg("providerId"in(e="string"==typeof e?JSON.parse(e):e)&&"signInMethod"in e,"argument-error"),Em._fromParams(e)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){return function(e){if(!e)return null;var t=e,r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce;if(e=t.providerId,!(i||a||r||o))return null;if(!e)return null;try{return new n(e)._credential({idToken:r,accessToken:i,rawNonce:s,pendingToken:o})}catch(e){return null}}(e._tokenResponse)}}]),n}(Pm),Rm=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.call(this,"facebook.com")}return w(n,null,[{key:"credential",value:function(e){return Em._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(t){return null}}}]),n}(Pm);Rm.FACEBOOK_SIGN_IN_METHOD="facebook.com",Rm.PROVIDER_ID="facebook.com";var Dm=function(e){y(n,e);var t=g(n);function n(){var e;return k(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return w(n,null,[{key:"credential",value:function(e,t){return Em._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){return function(e){if(!e)return null;var t=e,r=t.oauthIdToken;if(e=t.oauthAccessToken,!r&&!e)return null;try{return n.credential(r,e)}catch(e){return null}}(e._tokenResponse)}}]),n}(Pm);Dm.GOOGLE_SIGN_IN_METHOD="google.com",Dm.PROVIDER_ID="google.com";var Lm=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.call(this,"github.com")}return w(n,null,[{key:"credential",value:function(e){return Em._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(t){return null}}}]),n}(Pm);Lm.GITHUB_SIGN_IN_METHOD="github.com",Lm.PROVIDER_ID="github.com";var Mm=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return w(n,[{key:"_getIdTokenResponse",value:function(e){return xm(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xm(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xm(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod;return e=t.pendingToken,r&&i&&e&&r===i?new n(r,e):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(vm),Fm=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.call(this,"twitter.com")}return w(n,null,[{key:"credential",value:function(e,t){return Em._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){return function(e){if(!e)return null;var t=e,r=t.oauthAccessToken;if(e=t.oauthTokenSecret,!r||!e)return null;try{return n.credential(r,e)}catch(e){return null}}(e._tokenResponse)}}]),n}(Pm);function Um(e,t){return jm.apply(this,arguments)}function jm(){return jm=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pg(t,"POST","/v1/accounts:signUp",Ig(t,n)));case 1:case"end":return e.stop()}}),e)}))),jm.apply(this,arguments)}Fm.TWITTER_SIGN_IN_METHOD="twitter.com",Fm.PROVIDER_ID="twitter.com";var qm=function(){function e(t){k(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return w(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=f(c.mark((function t(n,r,i){var a,o=arguments;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>3&&void 0!==o[3]&&o[3],t.next=3,Gg._fromIdTokenResponse(n,i,a);case 3:return n=t.sent,a=Vm(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 6:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()},{key:"_forOperation",value:function(){var t=f(c.mark((function t(n,r,i){var a;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Vm(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()}]),e}();function Vm(e){return e.providerId||("phoneNumber"in e?"phone":null)}var Bm=function(e){y(n,e);var t=g(n);function n(e,r,i,a){var o;return k(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,o.name="FirebaseError",Object.setPrototypeOf(v(o),n.prototype),o.appName=e.name,o.code=r.code,o.tenantId=null!==(e=e.tenantId)&&void 0!==e?e:void 0,o.serverResponse=r.customData.serverResponse,o}return w(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Rh);function zm(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if("auth/multi-factor-auth-required"===n.code)throw Bm._fromErrorAndOperation(e,n,t,r);throw n}))}function Wm(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Km(e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ud(t),e.next=3,$m(!0,r,n);case 3:return t=r.auth,e.next=6,r.getIdToken();case 6:return e.t0=e.sent,e.t1=[n],n={idToken:e.t0,deleteProvider:e.t1},e.next=11,Sg(t,"POST","/v1/accounts:update",n);case 11:return n=e.sent.providerUserInfo,i=Wm(n||[]),r.providerData=r.providerData.filter((function(e){return i.has(e.providerId)})),i.has("phone")||(r.phoneNumber=null),e.next=17,r.auth._persistUserIfCurrent(r);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}function Gm(e,t){return Qm.apply(this,arguments)}function Qm(){return Qm=f(c.mark((function e(t,n){var r,i=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]&&i[2],e.t0=jg,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return r=e.sent,e.abrupt("return",qm._forOperation(t,"link",r));case 14:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}function $m(e,t,n){return Ym.apply(this,arguments)}function Ym(){return Ym=f(c.mark((function e(t,n,r){var i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zg(n);case 2:i=Wm(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",dg(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Ym.apply(this,arguments)}function Jm(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=f(c.mark((function e(t,n){var r,i,a,o,s,u,l=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=2,e.next=5,jg(t,zm(i,a,n,t),r);case 5:return dg((o=e.sent).idToken,i,"internal-error"),dg(s=Ug(o.idToken),i,"internal-error"),u=s.sub,e.abrupt("return",(dg(t.uid===u,i,"user-mismatch"),qm._forOperation(t,a,o)));case 13:throw e.prev=13,e.t0=e.catch(2),"auth/user-not-found"===(null==e.t0?void 0:e.t0.code)&&ug(i,"user-mismatch"),e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,13]])}))),Xm.apply(this,arguments)}function Zm(e,t){return ek.apply(this,arguments)}function ek(){return ek=f(c.mark((function e(t,n){var r,i=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]&&i[2],e.next=3,zm(t,"signIn",n);case 3:return n=e.sent,e.next=6,qm._fromIdTokenResponse(t,"signIn",n);case 6:if(n=e.sent,e.t0=r,e.t0){e.next=11;break}return e.next=11,t._updateCurrentUser(n.user);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)}))),ek.apply(this,arguments)}function tk(e,t){return nk.apply(this,arguments)}function nk(){return nk=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zm(lm(t),n));case 1:case"end":return e.stop()}}),e)}))),nk.apply(this,arguments)}function rk(e,t){return ik.apply(this,arguments)}function ik(){return ik=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ud(t),e.next=3,$m(!1,t,n.providerId);case 3:return e.abrupt("return",Gm(t,n));case 4:case"end":return e.stop()}}),e)}))),ik.apply(this,arguments)}function ak(e,t){return ok.apply(this,arguments)}function ok(){return ok=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jm(ud(t),n));case 1:case"end":return e.stop()}}),e)}))),ok.apply(this,arguments)}function sk(e,t){return uk.apply(this,arguments)}function uk(){return uk=f(c.mark((function e(t,n){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lm(t),e.next=3,Pg(r,"POST","/v1/accounts:signInWithCustomToken",Ig(r,{token:n,returnSecureToken:!0}));case 3:return n=e.sent,e.next=6,qm._fromIdTokenResponse(r,"signIn",n);case 6:return n=e.sent,e.next=9,r._updateCurrentUser(n.user);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),uk.apply(this,arguments)}var ck=function(){function e(t,n){k(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return w(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?lk._fromServerResponse(e,t):ug(e,"internal-error")}}]),e}(),lk=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return w(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ck);function fk(e,t,n){var r;dg(0<(null===(r=n.url)||void 0===r?void 0:r.length),e,"invalid-continue-uri"),dg(void 0===n.dynamicLinkDomain||0<n.dynamicLinkDomain.length,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(dg(0<n.iOS.bundleId.length,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(dg(0<n.android.packageName.length,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function hk(e,t,n){return dk.apply(this,arguments)}function dk(){return dk=f(c.mark((function e(t,n,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ud(t),n={requestType:"PASSWORD_RESET",email:n},r&&fk(t,n,r),e.next=4,wm(t,n);case 4:case"end":return e.stop()}}),e)}))),dk.apply(this,arguments)}function pk(e,t){return vk.apply(this,arguments)}function vk(){return vk=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sg(t=ud(t),"POST","/v1/accounts:update",Ig(t,{oobCode:n}));case 2:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}function yk(e,t){return gk.apply(this,arguments)}function gk(){return gk=f(c.mark((function e(t,n){var r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ud(t),e.next=3,ym(r,{oobCode:n});case 3:i=e.sent,n=i.requestType,e.t0=(dg(n,r,"internal-error"),n),e.next="EMAIL_SIGNIN"===e.t0?8:"VERIFY_AND_CHANGE_EMAIL"===e.t0?9:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?11:12;break;case 8:return e.abrupt("break",13);case 9:return dg(i.newEmail,r,"internal-error"),e.abrupt("break",13);case 11:dg(i.mfaInfo,r,"internal-error");case 12:dg(i.email,r,"internal-error");case 13:return a=null,e.abrupt("return",(i.mfaInfo&&(a=ck._fromServerResponse(lm(r),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:a},operation:n}));case 15:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function mk(e,t,n){return kk.apply(this,arguments)}function kk(){return kk=f(c.mark((function e(t,n,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ud(t),n={requestType:"EMAIL_SIGNIN",email:n},dg(r.handleCodeInApp,t,"argument-error"),r&&fk(t,n,r),e.next=5,wm(t,n);case 5:case"end":return e.stop()}}),e)}))),kk.apply(this,arguments)}function wk(e,t){return bk.apply(this,arguments)}function bk(){return bk=f(c.mark((function e(t,n){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kg()?mg():"http://localhost",e.next=3,Sg(t=ud(t),"POST","/v1/accounts:createAuthUri",Ig(t,{identifier:n,continueUri:r}));case 3:return r=e.sent.signinMethods,e.abrupt("return",r||[]);case 5:case"end":return e.stop()}}),e)}))),bk.apply(this,arguments)}function _k(e,t){return xk.apply(this,arguments)}function xk(){return xk=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ud(t),e.next=3,t.getIdToken();case 3:return e.t0=e.sent,i={requestType:"VERIFY_EMAIL",idToken:e.t0},n&&fk(r.auth,i,n),e.next=8,wm(r.auth,i);case 8:if(i=e.sent.email,e.t1=i!==t.email,!e.t1){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),xk.apply(this,arguments)}function Tk(e,t,n){return Ek.apply(this,arguments)}function Ek(){return Ek=f(c.mark((function e(t,n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ud(t),e.next=3,t.getIdToken();case 3:return e.t0=e.sent,e.t1=n,n={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e.t0,newEmail:e.t1},r&&fk(i.auth,n,r),e.next=9,wm(i.auth,n);case 9:if(n=e.sent.email,e.t2=n!==t.email,!e.t2){e.next=14;break}return e.next=14,t.reload();case 14:case"end":return e.stop()}}),e)}))),Ek.apply(this,arguments)}function Ik(e,t){return Sk.apply(this,arguments)}function Sk(){return Sk=f(c.mark((function e(t,n){var r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0===r&&void 0===i){e.next=14;break}return a=ud(t),e.next=5,a.getIdToken();case 5:return t=e.sent,e.next=8,jg(a,function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sg(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(a.auth,{idToken:t,displayName:r,photoUrl:i,returnSecureToken:!0}));case 8:return i=e.sent,a.displayName=i.displayName||null,a.photoURL=i.photoUrl||null,(o=a.providerData.find((function(e){return"password"===e.providerId})))&&(o.displayName=a.displayName,o.photoURL=a.photoURL),e.next=14,a._updateTokensIfNecessary(i);case 14:case"end":return e.stop()}}),e)}))),Sk.apply(this,arguments)}function Ck(e,t,n){return Ak.apply(this,arguments)}function Ak(){return Ak=f(c.mark((function e(t,n,r){var i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return e.t0=e.sent,e.t1=!0,a={idToken:e.t0,returnSecureToken:e.t1},n&&(a.email=n),r&&(a.password=r),e.next=9,jg(t,mm(i,a));case 9:return i=e.sent,e.next=12,t._updateTokensIfNecessary(i,!0);case 12:case"end":return e.stop()}}),e)}))),Ak.apply(this,arguments)}var Nk=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};k(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},Pk=function(e){y(n,e);var t=g(n);function n(e,r,i,a){var o;return k(this,n),(o=t.call(this,e,r,i)).username=a,o}return n}(Nk),Ok=function(e){y(n,e);var t=g(n);function n(e,r){return k(this,n),t.call(this,e,"facebook.com",r)}return n}(Nk),Rk=function(e){y(n,e);var t=g(n);function n(e,r){return k(this,n),t.call(this,e,"github.com",r,"string"==typeof(null==r?void 0:r.login)?null==r?void 0:r.login:null)}return n}(Pk),Dk=function(e){y(n,e);var t=g(n);function n(e,r){return k(this,n),t.call(this,e,"google.com",r)}return n}(Nk),Lk=function(e){y(n,e);var t=g(n);function n(e,r,i){return k(this,n),t.call(this,e,"twitter.com",r,i)}return n}(Pk);function Mk(e){var t=e,n=t.user;return e=t._tokenResponse,n.isAnonymous&&!e?{providerId:null,isNewUser:!1,profile:null}:function(e){if(!e)return null;var t=e.providerId,n=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},r=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!t&&null!=e&&e.idToken){var i=null===(i=null===(i=Ug(e.idToken))||void 0===i?void 0:i.firebase)||void 0===i?void 0:i.sign_in_provider;if(i)return new Nk(r,i="anonymous"!==i&&"custom"!==i?i:null)}if(!t)return null;switch(t){case"facebook.com":return new Ok(r,n);case"github.com":return new Rk(r,n);case"google.com":return new Dk(r,n);case"twitter.com":return new Lk(r,n,e.screenName||null);case"custom":case"anonymous":return new Nk(r,null);default:return new Nk(r,t,n)}}(e)}var Fk=function(){function e(t,n){k(this,e),this.type=t,this.credential=n}return w(e,[{key:"toJSON",value:function(){return{multiFactorSession:h({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n;if(null!=t&&t.multiFactorSession){if(null!==(n=t.multiFactorSession)&&void 0!==n&&n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null!==(n=t.multiFactorSession)&&void 0!==n&&n.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Uk=function(){function e(t,n,r){k(this,e),this.session=t,this.hints=n,this.signInResolver=r}return w(e,[{key:"resolveSignIn",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signInResolver(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"_fromError",value:function(t,n){var r=lm(t);t=(n.serverResponse.mfaInfo||[]).map((function(e){return ck._fromServerResponse(r,e)})),dg(n.serverResponse.mfaPendingCredential,r,"internal-error");var i=Fk._fromMfaPendingCredential(n.serverResponse.mfaPendingCredential);return new e(i,t,function(){var e=f(c.mark((function e(t){var a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,i);case 2:t=e.sent,delete n.serverResponse.mfaInfo,delete n.serverResponse.mfaPendingCredential,a=Object.assign(Object.assign({},n.serverResponse),{idToken:t.idToken,refreshToken:t.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?8:"reauthenticate"===e.t0?14:15;break;case 8:return e.next=10,qm._fromIdTokenResponse(r,n.operationType,a);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:return e.abrupt("return",(dg(n.user,r,"internal-error"),qm._forOperation(n.user,n.operationType,a)));case 15:ug(r,"internal-error");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}(),jk=function(){function e(t){var n=this;k(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ck._fromServerResponse(t.auth,e)})))}))}return w(e,[{key:"getSession",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Fk,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"enroll",value:function(){var e=f(c.mark((function e(t,n){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return t=e.sent,e.next=6,jg(this.user,r._process(this.user.auth,t,n));case 6:return n=e.sent,e.next=9,this.user._updateTokensIfNecessary(n);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unenroll",value:function(){var e=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"==typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,jg(this.user,Sg(t=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Ig(t,r={idToken:r,mfaEnrollmentId:n})));case 6:return r=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(r);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),"auth/user-token-expired"===e.t0.code){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),qk=new WeakMap,Vk="__sak",Bk=function(){function e(t,n){k(this,e),this.storage=t,this.type=n}return w(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Vk,"1"),this.storage.removeItem(Vk),Promise.resolve(!0)):Promise.resolve(!1)}catch(n){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){return e=this.storage.getItem(e),Promise.resolve(e?JSON.parse(e):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}}]),e}(),zk=function(e){y(n,e);var t=g(n);function n(){var e,r;return k(this,n),(e=t.call(this,window.localStorage,"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=(em(r=xh())||om(r))&&function(){try{return!(!window||window===window.top)}catch(r){return!1}}(),e.fallbackToPolling=sm(),e._shouldAllowMigration=!0,e}return w(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);!n&&t.localCache[r]===e||t.notifyListeners(r,e)},o=this.storage.getItem(r);Ch()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){if(this.localCache[e]=t,e=this.listeners[e])for(var n=0,r=Array.from(e);n<r.length;n++)(0,r[n])(t&&JSON.parse(t))}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=f(c.mark((function e(t,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(u(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(){var e=f(c.mark((function e(t){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(u(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,e.abrupt("return",(this.localCache[t]=JSON.stringify(r),r));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_remove",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(u(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(Bk);zk.type="LOCAL";var Wk=zk,Kk=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.call(this,window.sessionStorage,"SESSION")}return w(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Bk);Kk.type="SESSION";var Hk=Kk,Gk=function(){function e(t){k(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return w(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=f(c.mark((function e(t){var n,r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,t=this.handlersMap[a],e.t0=null!=t&&t.size,!e.t0){e.next=10;break}return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),t=Array.from(t).map(function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=8,Promise.all(t.map(function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=!0,e.next=4,t;case 4:return e.t1=e.sent,e.abrupt("return",{fulfilled:e.t0,value:e.t1});case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t2});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));case 8:t=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:t});case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));return n||(n=new e(t),this.receivers.push(n),n)}}]),e}();function Qk(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Gk.receivers=[];var $k=function(){function e(t){k(this,e),this.target=t,this.handlers=new Set}return w(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=f(c.mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!=typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Qk("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}();function Yk(){return window}function Jk(){return void 0!==Yk().WorkerGlobalScope&&"function"==typeof Yk().importScripts}var Xk="firebaseLocalStorageDb",Zk="firebaseLocalStorage",ew="fbase_key",tw=function(){function e(t){k(this,e),this.request=t}return w(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function nw(e,t){return e.transaction([Zk],t?"readwrite":"readonly").objectStore(Zk)}function rw(){var e=indexedDB.open(Xk,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Zk,{keyPath:ew})}catch(t){n(t)}})),e.addEventListener("success",f(c.mark((function n(){var r,i;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=e.result).objectStoreNames.contains(Zk)){n.next=5;break}t(r),n.next=14;break;case 5:return r.close(),i=indexedDB.deleteDatabase(Xk),n.next=9,new tw(i).toPromise();case 9:return n.t0=t,n.next=12,rw();case 12:n.t1=n.sent,(0,n.t0)(n.t1);case 14:case"end":return n.stop()}}),n)}))))}))}function iw(e,t,n){return aw.apply(this,arguments)}function aw(){return aw=f(c.mark((function e(t,n,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nw(t,!0).put({fbase_key:n,value:r}),e.abrupt("return",new tw(r).toPromise());case 2:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e,t){return t=nw(e,!0).delete(t),new tw(t).toPromise()}var sw=function(){function e(){k(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return w(e,[{key:"_openDb",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return e.next=4,rw();case 4:this.db=e.sent,e.t0=this.db;case 6:return e.abrupt("return",e.t0);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_withRetries",value:function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=1,e.t0=t,e.next=5,this._openDb();case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:if(e.prev=9,e.t2=e.catch(1),!(3<n++)){e.next=13;break}throw e.t2;case 13:this.db&&(this.db.close(),this.db=void 0);case 14:e.next=1;break;case 16:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jk()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeReceiver",value:function(){var e=f(c.mark((function e(){var t=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Gk._getInstance(Jk()?self:null),this.receiver._subscribe("keyChanged",function(){var e=f(c.mark((function e(n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initializeSender",value:function(){var e=f(c.mark((function e(){var t,n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==navigator&&void 0!==navigator&&navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return e.abrupt("return",e.sent.active);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))();case 2:if(this.activeServiceWorker=e.sent,e.t0=this.activeServiceWorker,!e.t0){e.next=29;break}return this.sender=new $k(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(e.t6=r=e.sent,!e.t6){e.next=11;break}e.t6=null!==(t=r[0]);case 11:if(e.t5=e.t6,!e.t5){e.next=14;break}e.t5=void 0!==t;case 14:if(e.t4=e.t5,!e.t4){e.next=17;break}e.t4=t.fulfilled;case 17:if(e.t3=e.t4,!e.t3){e.next=20;break}e.t3=null!==(n=r[0]);case 20:if(e.t2=e.t3,!e.t2){e.next=23;break}e.t2=void 0!==n;case 23:if(e.t1=e.t2,!e.t1){e.next=26;break}e.t1=n.value.includes("keyChanged");case 26:if(e.t7=e.t1,!e.t7){e.next=29;break}this.serviceWorkerReceiverAvailable=!0;case 29:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"notifyServiceWorker",value:function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.sender||!this.activeServiceWorker||((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)!==this.activeServiceWorker){e.next=8;break}return e.prev=1,e.next=4,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_isAvailable",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,rw();case 5:return t=e.sent,e.next=8,iw(t,Vk,"1");case 8:return e.next=10,ow(t,Vk);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"_withPendingWrite",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_set",value:function(){var e=f(c.mark((function e(t,n){var r=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return iw(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nw(t,!1).get(n),e.t0=void 0,e.next=4,new tw(n).toPromise();case 4:if(e.t1=n=e.sent,e.t0!==e.t1){e.next=9;break}e.t2=null,e.next=10;break;case 9:e.t2=n.value;case 10:return e.abrupt("return",e.t2);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e,t)}));case 2:return n=e.sent,e.abrupt("return",this.localCache[t]=n);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_remove",value:function(){var e=f(c.mark((function e(t){var n=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ow(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_poll",value:function(){var e=f(c.mark((function e(){var t,n,r,i,a,o,s,u,l,f,h;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return e=nw(e,!1).getAll(),new tw(e).toPromise()}));case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:i=[],a=new Set,o=d(r);try{for(o.s();!(s=o.n()).done;)u=s.value,t=u.fbase_key,n=u.value,a.add(t),JSON.stringify(this.localCache[t])!==JSON.stringify(n)&&(this.notifyListeners(t,n),i.push(t))}catch(c){o.e(c)}finally{o.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!a.has(h)&&(this.notifyListeners(h,null),i.push(h));return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"notifyListeners",value:function(e,t){if(this.localCache[e]=t,e=this.listeners[e])for(var n=0,r=Array.from(e);n<r.length;n++)(0,r[n])(t)}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(f(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();sw.type="LOCAL";var uw=sw;function cw(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=cg("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(t=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==t?t:document).appendChild(r)}))}function lw(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var fw=function(){function e(t){k(this,e),this.auth=t,this.counter=1e12,this._widgets=new Map}return w(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new hw(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t=e||1e12;null===(e=this._widgets.get(t))||void 0===e||e.delete(),this._widgets.delete(t)}},{key:"getResponse",value:function(e){return(null===(e=this._widgets.get(e||1e12))||void 0===e?void 0:e.getResponse())||""}},{key:"execute",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(t=this._widgets.get(t||1e12))||void 0===t||t.execute(),""));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),hw=function(){function e(t,n,r){var i=this;k(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()},dg(t="string"==typeof t?document.getElementById(t):t,"argument-error",{appName:n}),this.container=t,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return w(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(n){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(n){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}(),dw=lw("rcb"),pw=new bg(3e4,6e4),vw=function(){function e(){k(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Yk().grecaptcha}return w(e,[{key:"load",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return dg((t=r).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t),e,"argument-error"),this.shouldResolveImmediately(r)?Promise.resolve(Yk().grecaptcha):new Promise((function(t,i){var a=Yk().setTimeout((function(){i(cg(e,"network-request-failed"))}),pw.get());Yk()[dw]=function(){Yk().clearTimeout(a),delete Yk()[dw];var o=Yk().grecaptcha;if(o){var s=o.render;o.render=function(e,t){return t=s(e,t),n.counter++,t},n.hostLanguage=r,t(o)}else i(cg(e,"internal-error"))},cw("https://www.google.com/recaptcha/api.js??".concat(Kh({onload:dw,render:"explicit",hl:r}))).catch((function(){clearTimeout(a),i(cg(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Yk().grecaptcha&&(e===this.hostLanguage||0<this.counter||this.librarySeparatelyLoaded)}}]),e}(),yw=function(){function e(){k(this,e)}return w(e,[{key:"load",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new fw(t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clearedOneInstance",value:function(){}}]),e}(),gw="recaptcha",mw={theme:"light",type:"image"},kw=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},mw),r=arguments.length>2?arguments[2]:void 0;k(this,e),this.parameters=n,this.type=gw,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lm(r),this.isInvisible="invisible"===this.parameters.size,dg("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment"),dg(t="string"==typeof t?document.getElementById(t):t,this.auth,"argument-error"),this.container=t,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=new(this.auth.settings.appVerificationDisabledForTesting?yw:vw),this.validateStartingState()}return w(e,[{key:"verify",value:function(){var e=f(c.mark((function e(){var t,n,r,i=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:return t=e.sent,n=this.getAssertedRecaptcha(),r=n.getResponse(t),e.abrupt("return",r||new Promise((function(e){var r=function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))};i.tokenChangeListeners.add(r),i.isInvisible&&n.execute(t)})));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(n){return Promise.reject(n)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t})),this.renderPromise)}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){dg(!this.parameters.sitekey,this.auth,"argument-error"),dg(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),dg("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"==typeof e)e(n);else if("string"==typeof e){var r=Yk()[e];"function"==typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){dg(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=f(c.mark((function e(){var t,n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:if(this.widgetId){e.next=5;break}t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters);case 5:return e.abrupt("return",this.widgetId);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dg(kg()&&!Jk(),this.auth,"internal-error"),e.next=3,function(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Sg(this.auth,"GET","/v1/recaptchaParams");case 8:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=11;break}e.t0="";case 11:return e.next=13,e.t0;case 13:dg(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAssertedRecaptcha",value:function(){return dg(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}(),ww=function(){function e(t,n){k(this,e),this.verificationId=t,this.onConfirmation=n}return w(e,[{key:"confirm",value:function(e){return e=Sm._fromVerification(this.verificationId,e),this.onConfirmation(e)}}]),e}();function bw(e,t,n){return _w.apply(this,arguments)}function _w(){return _w=f(c.mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,p,v;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(f=e.sent,e.prev=3,dg("string"==typeof f,t,"argument-error"),dg(r.type===gw,t,"argument-error"),!("session"in(h="string"==typeof n?{phoneNumber:n}:n))){e.next=21;break}if(d=h.session,!("phoneNumber"in h)){e.next=14;break}return dg("enroll"===d.type,t,"internal-error"),u=t,l={idToken:d.credential,phoneEnrollmentInfo:{phoneNumber:h.phoneNumber,recaptchaToken:f}},e.next=13,Sg(u,"POST","/v2/accounts/mfaEnrollment:start",Ig(u,l));case 13:return e.abrupt("return",e.sent.phoneSessionInfo.sessionInfo);case 14:return dg("signin"===d.type,t,"internal-error"),dg(p=(null===(i=h.multiFactorHint)||void 0===i?void 0:i.uid)||h.multiFactorUid,t,"missing-multi-factor-info"),s={mfaPendingCredential:d.credential,mfaEnrollmentId:p,phoneSignInInfo:{recaptchaToken:f}},e.next=20,Sg(t,"POST","/v2/accounts/mfaSignIn:start",Ig(t,s));case 20:return e.abrupt("return",e.sent.phoneResponseInfo.sessionInfo);case 21:return a=t,o={phoneNumber:h.phoneNumber,recaptchaToken:f},e.next=25,Sg(a,"POST","/v1/accounts:sendVerificationCode",Ig(a,o));case 25:return v=e.sent.sessionInfo,e.abrupt("return",v);case 27:return e.prev=27,r._reset(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[3,,27,30]])}))),_w.apply(this,arguments)}var xw=function(){function e(t){k(this,e),this.providerId=e.PROVIDER_ID,this.auth=lm(t)}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return bw(this.auth,e,ud(t))}}],[{key:"credential",value:function(e,t){return Sm._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){return e.credentialFromTaggedObject(t)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){return function(e){if(!e)return null;var t=e,n=t.phoneNumber;return e=t.temporaryProof,n&&e?Sm._fromTokenResponse(n,e):null}(e._tokenResponse)}}]),e}();function Tw(e,t){return t?gg(t):(dg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xw.PROVIDER_ID="phone",xw.PHONE_SIGN_IN_METHOD="phone";var Ew=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this,"custom","custom")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return xm(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return xm(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return xm(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(vm);function Iw(e){return Zm(e.auth,new Ew(e),e.bypassAuthState)}function Sw(e){var t=e.auth,n=e.user;return dg(n,t,"internal-error"),Jm(n,new Ew(e),e.bypassAuthState)}function Cw(e){return Aw.apply(this,arguments)}function Aw(){return Aw=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,r=t.user,e.abrupt("return",(dg(r,n,"internal-error"),Gm(r,new Ew(t),t.bypassAuthState)));case 2:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}var Nw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];k(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return w(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=f(c.mark((function t(n,r){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=f(c.mark((function e(t){var n,r,i,a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).urlResponse,i=n.sessionId,a=n.postBody,o=n.tenantId,s=n.error,t=n.type,!s){e.next=5;break}this.reject(s),e.next=17;break;case 5:return a={auth:this.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=6,e.t0=this,e.next=10,this.getIdpTask(t)(a);case 10:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=17;break;case 14:e.prev=14,e.t2=e.catch(6),this.reject(e.t2);case 17:case"end":return e.stop()}}),e,this,[[6,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Iw;case"linkViaPopup":case"linkViaRedirect":return Cw;case"reauthViaPopup":case"reauthViaRedirect":return Sw;default:ug(this.auth,"internal-error")}}},{key:"resolve",value:function(e){vg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){vg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Pw=new bg(2e3,1e4),Ow=function(e){y(n,e);var t=g(n);function n(e,r,i,a,o){var s;return k(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=v(s),s}return w(n,[{key:"executeNotNull",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return t=e.sent,e.abrupt("return",(dg(t,this.auth,"internal-error"),t));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onExecution",value:function(){var e=f(c.mark((function e(){var t,n=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vg(1===this.filter.length,"Popup operations only handle one event"),t=Qk(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(cg(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(cg(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this,t=function t(){var n;null!==(n=null===(n=e.authWindow)||void 0===n?void 0:n.window)&&void 0!==n&&n.closed?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(cg(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Pw.get())};t()}}]),n}(Nw);Ow.currentPopupAction=null;var Rw="pendingRedirect",Dw=new Map,Lw=function(e){y(n,e);var t=g(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return k(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return w(n,[{key:"execute",value:function(){var e=f(c.mark((function e(){var t,r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Dw.get(this.auth._key())){e.next=29;break}return e.prev=2,i=this.resolver,a=this.auth,o=jw(a),e.next=8,Uw(i)._get(o);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,Uw(i)._remove(o);case 12:return e.next=14,a;case 14:if(!e.sent){e.next=20;break}return e.next=17,s(u(n.prototype),"execute",this).call(this);case 17:e.t1=e.sent,e.next=21;break;case 20:e.t1=null;case 21:r=e.t1,t=function(){return Promise.resolve(r)},e.next=28;break;case 25:e.prev=25,e.t2=e.catch(2),t=function(){return Promise.reject(e.t2)};case 28:Dw.set(this.auth._key(),t);case 29:return e.abrupt("return",t());case 30:case"end":return e.stop()}}),e,this,[[2,25]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onAuthEvent",value:function(){var e=f(c.mark((function e(t){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=2;break}return e.abrupt("return",s(u(n.prototype),"onAuthEvent",this).call(this,t));case 2:if("unknown"===t.type){e.next=12;break}if(!t.eventId){e.next=10;break}return e.next=6,this.auth._redirectUserForId(t.eventId);case 6:if(!(r=e.sent)){e.next=9;break}return e.abrupt("return",(this.user=r,s(u(n.prototype),"onAuthEvent",this).call(this,t)));case 9:this.resolve(null);case 10:e.next=13;break;case 12:this.resolve(null);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onExecution",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cleanUp",value:function(){}}]),n}(Nw);function Mw(e,t){return Fw.apply(this,arguments)}function Fw(){return Fw=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uw(t)._set(jw(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Fw.apply(this,arguments)}function Uw(e){return gg(e._redirectPersistence)}function jw(e){return Yg(Rw,e.config.apiKey,e.name)}function qw(e,t,n){return function(){var e=f(c.mark((function e(t,n,r){var i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lm(t),fg(t,n,Nm),a=Tw(i,r),e.next=5,Mw(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(e,t,n)}function Vw(e,t,n){return function(){var e=f(c.mark((function e(t,n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fg((t=ud(t)).auth,n,Nm),i=Tw(t.auth,r),e.next=5,Mw(i,t.auth);case 5:return e.next=7,Kw(t);case 7:return r=e.sent,e.abrupt("return",i._openRedirect(t.auth,n,"reauthViaRedirect",r));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(e,t,n)}function Bw(e,t,n){return function(){var e=f(c.mark((function e(t,n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fg((t=ud(t)).auth,n,Nm),i=Tw(t.auth,r),e.next=5,$m(!1,t,n.providerId);case 5:return e.next=7,Mw(i,t.auth);case 7:return e.next=9,Kw(t);case 9:return r=e.sent,e.abrupt("return",i._openRedirect(t.auth,n,"linkViaRedirect",r));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(e,t,n)}function zw(e,t){return Ww.apply(this,arguments)}function Ww(){return Ww=f(c.mark((function e(t,n){var r,i,a,o,s=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=lm(t),t=Tw(i,n),a=new Lw(i,t,r),e.next=6,a.execute();case 6:if(o=e.sent,e.t0=o&&!r,!e.t0){e.next=14;break}return delete o.user._redirectEventId,e.next=12,i._persistUserIfCurrent(o.user);case 12:return e.next=14,i._setRedirectUser(null,n);case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Kw(e){return Hw.apply(this,arguments)}function Hw(){return Hw=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qk("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}var Gw=function(){function e(t){k(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return w(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $w(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;e.error&&!$w(e)?(n=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error",t.onError(cg(this.auth,n))):t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return 6e5<=Date.now()-this.lastProcessedEventTime&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qw(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Qw(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Qw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function $w(e){var t=e.type,n=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==n?void 0:n.code)}function Yw(e){return Jw.apply(this,arguments)}function Jw(){return Jw=f(c.mark((function e(t){var n,r=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Sg(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Jw.apply(this,arguments)}var Xw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zw=/^https?/;function eb(e){return tb.apply(this,arguments)}function tb(){return tb=f(c.mark((function e(t){var n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.config.emulator){e.next=27;break}return e.next=3,Yw(t);case 3:n=e.sent.authorizedDomains,r=d(n),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=18;break}if(a=i.value,e.prev=9,!function(e){var t=mg(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Zw.test(r))return!1;if(Xw.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}(a)){e.next=12;break}return e.abrupt("return");case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(9);case 16:e.next=7;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(5),r.e(e.t1);case 23:return e.prev=23,r.f(),e.finish(23);case 26:ug(t,"unauthorized-domain");case 27:case"end":return e.stop()}}),e,null,[[5,20,23,26],[9,14]])}))),tb.apply(this,arguments)}var nb=new bg(3e4,6e4);function rb(){var e=Yk().___jsl;if(null!==e&&void 0!==e&&e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=l(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ib=null;function ab(e){var t;return ib=ib||(t=e,new Promise((function(e,n){function r(){rb(),gapi.load("gapi.iframes",{callback:function(){e(gapi.iframes.getContext())},ontimeout:function(){rb(),n(cg(t,"network-request-failed"))},timeout:nb.get()})}if(null!==(i=null===(i=Yk().gapi)||void 0===i?void 0:i.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(i=Yk().gapi)||void 0===i||!i.load){var i=lw("iframefcb");return Yk()[i]=function(){gapi.load?r():n(cg(t,"network-request-failed"))},cw("https://apis.google.com/js/api.js?onload=".concat(i))}r()}})).catch((function(e){throw ib=null,e}))),ib}var ob=new bg(5e3,15e3),sb="__/auth/iframe",ub="emulator/auth/iframe",cb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},lb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fb(e){return hb.apply(this,arguments)}function hb(){return hb=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ab(t);case 2:return n=e.sent,r=Yk().gapi,e.abrupt("return",(dg(r,t,"internal-error"),n.open({where:document.body,url:function(e){var t=e.config;dg(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?_g(t,ub):"https://".concat(e.config.authDomain,"/").concat(sb),r={apiKey:t.apiKey,appName:e.name,v:zd};(t=lb.get(e.config.apiHost))&&(r.eid=t);var i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(Kh(r).slice(1))}(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cb,dontclear:!0},(function(e){return new Promise(function(){var n=f(c.mark((function n(r,i){var a,o,s;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Yk().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=cg(t,"network-request-failed"),o=Yk().setTimeout((function(){i(a)}),ob.get()),e.ping(s).then(s,(function(){i(a)}));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}))));case 5:case"end":return e.stop()}}),e)}))),hb.apply(this,arguments)}var db={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pb=function(){function e(t){k(this,e),this.window=t,this.associatedEvent=null}return w(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(n){}}}]),e}();function vb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;return function(n){var a,o,s=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",l=Object.assign(Object.assign({},db),{width:r.toString(),height:i.toString(),top:s,left:u});if(u=xh().toLowerCase(),n&&(c=tm(u)?"_blank":n),Zg(u)&&(t=t||"http://localhost",l.scrollbars="yes"),n=Object.entries(l).reduce((function(e,t){var n=p(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),""),om(u=void 0===(a=[u][0])?xh():a)&&null!==(o=window.navigator)&&void 0!==o&&o.standalone&&"_self"!==c)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new pb(null);var f=window.open(t||"",c,n);dg(f,e,"popup-blocked");try{f.focus()}catch(e){}return new pb(f)}(n)}var yb="__/auth/handler",gb="emulator/auth/handler";function mb(e,t,n,r,i,a){dg(e.config.authDomain,e,"auth-domain-config-required"),dg(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:zd,eventId:i};if(t instanceof Nm){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Vh(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=p(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Pm){var h=t.getScopes().filter((function(e){return""!==e}));0<h.length&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,v=0,y=Object.keys(d);v<y.length;v++){var g=y[v];void 0===d[g]&&delete d[g]}return"".concat((e=e.config,e.emulator?_g(e,gb):"https://".concat(e.authDomain,"/").concat(yb)),"?").concat(Kh(d).slice(1))}var kb,wb="webStorageSupport",bb=function(){function e(){k(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hk,this._completeRedirectFn=zw}return w(e,[{key:"_openPopup",value:function(){var e=f(c.mark((function e(t,n,r,i){var a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(vg(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),vb(t,mb(t,n,r,mg(),i),Qk())));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_openRedirect",value:function(){var e=f(c.mark((function e(t,n,r,i){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return i=mb(t,n,r,mg(),i),Yk().location.href=i,e.abrupt("return",new Promise((function(){})));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_initialize",value:function(e){var t=e._key();if(this.eventManagers[t]){var n=this.eventManagers[t],r=n.manager,i=n.promise;return r?Promise.resolve(r):(vg(i,"If manager is not set, promise should be"),i)}var a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a}},{key:"initAndGetManager",value:function(){var e=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fb(t);case 2:return n=e.sent,r=new Gw(t),e.abrupt("return",(n.register("authEvent",(function(e){return dg(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(wb,{type:wb},(function(n){void 0!==(n=null===(n=null==n?void 0:n[0])||void 0===n?void 0:n[wb])&&t(!!n),ug(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eb(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return sm()||em()||om()}}]),e}(),_b=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this,"phone")).credential=e,r}return w(n,[{key:"_finalizeEnroll",value:function(e,t,n){return Sg(e=e,"POST","/v2/accounts/mfaEnrollment:finalize",Ig(e,n={idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}},{key:"_finalizeSignIn",value:function(e,t){return Sg(e=e,"POST","/v2/accounts/mfaSignIn:finalize",Ig(e,t={mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){k(this,e),this.factorId=t}return w(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return pg("unexpected MultiFactorSessionType")}}}]),e}()),xb=function(){function e(){k(this,e)}return w(e,null,[{key:"assertion",value:function(e){return _b._fromCredential(e)}}]),e}();xb.FACTOR_ID="phone";var Tb=function(){function e(t){k(this,e),this.auth=t,this.internalListeners=new Map}return w(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(!this.auth.currentUser){e.next=10;break}return e.next=6,this.auth.currentUser.getIdToken(t);case 6:e.t1=e.sent,e.t0={accessToken:e.t1},e.next=11;break;case 10:e.t0=null;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addAuthTokenListener",value:function(e){var t;this.assertAuthConfigured(),this.internalListeners.has(e)||(t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)})),this.internalListeners.set(e,t),this.updateProactiveRefresh())}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){dg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){0<this.internalListeners.size?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Eb(){return window}function Ib(e,t,n){return Sb.apply(this,arguments)}function Sb(){return Sb=f(c.mark((function e(t,n,r){var i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Eb().BuildInfo,vg(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,function(){var e=f(c.mark((function e(t){var n,r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){if(vg(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(n.sessionId);case 4:return a=e.sent,o={},e.abrupt("return",(om()?o.ibi=i.packageName:rm()?o.apn=i.packageName:ug(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=a,mb(t,r,n.type,void 0,null!==(n=n.eventId)&&void 0!==n?n:void 0,o)));case 7:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function Cb(e){var t=Eb().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,(r=xh(),/(iPad|iPhone|iPod).*OS 7_\d/i.test(r)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(r)?"_blank":"_system"),"location=yes"),n(i)}))}))}kb="Browser",jd(new vd("auth",(function(e,t){var n=t.options,r=(e=e.getProvider("app").getImmediate()).options,i=r.apiKey,a=r.authDomain;return function(e){dg(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),dg(!(null!==a&&void 0!==a&&a.includes(":")),"argument-error",{appName:e.name});var t={apiKey:i,authDomain:a,clientPlatform:kb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:um(kb)};return function(e,t){var n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gg);null!=t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(t=new cm(e,t),n),t}(e)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),jd(new vd("auth-internal",(function(e){return e=lm(e.getProvider("auth").getImmediate()),new Tb(e=e)}),"PRIVATE").setInstantiationMode("EXPLICIT")),Qd("@firebase/auth","0.18.1",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(kb));var Ab=20,Nb=function(e){y(n,e);var t=g(n);function n(){var e;return k(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return w(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),s(u(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Gw);function Pb(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:function(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Ab;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}(),postBody:null,tenantId:e.tenantId,error:cg(e,"no-auth-event")}}function Ob(e){return Rb.apply(this,arguments)}function Rb(){return Rb=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lb()._get(Mb(t));case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=7;break}return e.next=7,Lb()._remove(Mb(t));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),Rb.apply(this,arguments)}function Db(e,t){var n,r,i,a=(n=Fb(o=t),i=Fb(r=n.link?decodeURIComponent(n.link):void 0).link,(n=Fb(t=n.deep_link_id?decodeURIComponent(n.deep_link_id):void 0).link)||t||i||r||o);if(a.includes("/__/auth/callback")){var o=(o=Fb(a)).firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(o.firebaseError)):null;return(o=(o=null===(o=null===(o=null==o?void 0:o.code)||void 0===o?void 0:o.split("auth/"))||void 0===o?void 0:o[1])?cg(o):null)?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:a,postBody:null}}return null}function Lb(){return gg(Wk)}function Mb(e){return Yg("authEvent",e.config.apiKey,e.name)}function Fb(e){if(null==e||!e.includes("?"))return{};var t=e.split("?");return Hh(o(t).slice(1).join("?"))}var Ub,jb=function(){function e(){k(this,e),this._redirectPersistence=Hk,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zw}return w(e,[{key:"_initialize",value:function(){var e=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),r=this.eventManagers.get(n),e.abrupt("return",(r||(r=new Nb(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),r));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_openPopup",value:function(e){ug(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=f(c.mark((function e(t,n,r,i){var a,o,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=t,o=Eb(),dg("function"==typeof(null===(a=null==o?void 0:o.universalLinks)||void 0===a?void 0:a.subscribe),u,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),dg(void 0!==(null===(a=null==o?void 0:o.BuildInfo)||void 0===a?void 0:a.packageName),u,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),dg("function"==typeof(null===(a=null===(a=null===(a=null==o?void 0:o.cordova)||void 0===a?void 0:a.plugins)||void 0===a?void 0:a.browsertab)||void 0===a?void 0:a.openUrl),u,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),dg("function"==typeof(null===(a=null===(a=null===(a=null==o?void 0:o.cordova)||void 0===a?void 0:a.plugins)||void 0===a?void 0:a.browsertab)||void 0===a?void 0:a.isAvailable),u,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),dg("function"==typeof(null===(o=null===(o=null==o?void 0:o.cordova)||void 0===o?void 0:o.InAppBrowser)||void 0===o?void 0:o.open),u,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"}),e.next=3,this._initialize(t);case 3:return s=e.sent,e.next=6,s.initialized();case 6:return s.resetRedirect(),Dw.clear(),e.next=10,this._originValidation(t);case 10:return u=Pb(t,r,i),r=t,i=u,e.next=15,Lb()._set(Mb(r),i);case 15:return e.t0=Cb,e.next=18,Ib(t,u,n);case 18:return e.t1=e.sent,e.next=21,(0,e.t0)(e.t1);case 21:return n=e.sent,e.abrupt("return",function(){var e=f(c.mark((function e(t,n,r){var i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Eb().cordova,a=function(){},e.prev=2,e.next=5,new Promise((function(e,o){var s=null;function u(){var t;e();var n=null===(t=i.plugins.browsertab)||void 0===t?void 0:t.close;"function"==typeof n&&n(),"function"==typeof(null==r?void 0:r.close)&&r.close()}function c(){s=s||window.setTimeout((function(){o(cg(t,"redirect-cancelled-by-user"))}),2e3)}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),rm()&&document.addEventListener("visibilitychange",l,!1),a=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,a(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})));return function(t,n,r){return e.apply(this,arguments)}}()(t,s,n));case 23:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(){var e=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Eb().BuildInfo,r={},om()?r.iosBundleId=n.packageName:rm()?r.androidPackageName=n.packageName:ug(t,"operation-not-supported-in-this-environment"),e.next=5,Yw(t,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Eb(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(f(c.mark((function n(){return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ob(e);case 2:t.onEvent(qb());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=f(c.mark((function n(r){var i,a;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Ob(e);case 3:i=n.sent,a=null,i&&null!=r&&r.url&&(a=Db(i,r.url)),t.onEvent(a||qb());case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();void 0!==r&&"function"==typeof r.subscribe&&r.subscribe(null,s);var u=i,l="".concat(a.packageName.toLowerCase(),"://");Eb().handleOpenURL=function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&s({url:t}),"function"==typeof u)try{u(t)}catch(t){console.error(t)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}();function qb(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:cg("no-auth-event")}}function Vb(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Bb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xh();return!("file:"!==Vb()&&"ionic:"!==Vb()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function zb(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xh();return Ch()&&11===(null===document||void 0===document?void 0:document.documentMode)||(t=void 0===(e=[t][0])?xh():e,/Edge\/\d+/.test(t))}function Wb(){try{var e=self.localStorage,t=Qk();if(e)return e.setItem(t,"1"),e.removeItem(t),!zb()||Nh()}catch(t){return Kb()&&Nh()}return!1}function Kb(){return"undefined"!=typeof t&&"WorkerGlobalScope"in t&&"importScripts"in t}function Hb(){return("http:"===Vb()||"https:"===Vb()||Ih()||Bb())&&!(Sh()||Eh())&&Wb()&&!Kb()}function Gb(){return Bb()&&"undefined"!=typeof document}var Qb={LOCAL:"local",NONE:"none",SESSION:"session"},$b=dg,Yb="persistence";function Jb(e){return Xb.apply(this,arguments)}function Xb(){return Xb=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Zb(),r=Yg(Yb,t.config.apiKey,t.name),null!==n&&void 0!==n&&n.sessionStorage&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Xb.apply(this,arguments)}function Zb(){return"undefined"!=typeof window?window:null}var e_=dg,t_=function(){function e(){k(this,e),this.browserResolver=gg(bb),this.cordovaResolver=gg(jb),this.underlyingResolver=null,this._redirectPersistence=Hk,this._completeRedirectFn=zw}return w(e,[{key:"_initialize",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_openPopup",value:function(){var e=f(c.mark((function e(t,n,r,i){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_openRedirect",value:function(){var e=f(c.mark((function e(t,n,r,i){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Gb()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return e_(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.underlyingResolver,e.t0){e.next=6;break}return e.next=4,!!Gb()&&new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))}));case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function n_(e){return e.unwrap()}function r_(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new c_(e,(n=t,e=ud(i=e),dg((i=n).operationType,e,"argument-error"),dg(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,e,"argument-error"),Uk._fromError(e,i)));else if(r){var i=i_(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function i_(e){var t=(e instanceof Rh?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Rh)&&"temporaryProof"in t&&"phoneNumber"in t)return xw.credentialFromResult(e);var n,r=t.providerId;if(!r||r===eg.PASSWORD)return null;switch(r){case eg.GOOGLE:n=Dm;break;case eg.FACEBOOK:n=Rm;break;case eg.GITHUB:n=Lm;break;case eg.TWITTER:n=Fm;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Mm._create(r,s):Em._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Om(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Rh?n.credentialFromError(e):n.credentialFromResult(e)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n;case 3:r=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0 instanceof Rh&&r_(t,e.t0),e.t0;case 9:return n=(i=r).operationType,t=i.user,e.abrupt("return",{operationType:n,credential:i_(r),additionalUserInfo:Mk(r),user:l_.getOrCreate(t)});case 11:case"end":return e.stop()}}),e,null,[[0,6]])}))),o_.apply(this,arguments)}function s_(e,t){return u_.apply(this,arguments)}function u_(){return u_=f(c.mark((function e(t,n){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return a_(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),u_.apply(this,arguments)}var c_=function(){function e(t,n){k(this,e),this.resolver=n,this.auth=t.wrapped()}return w(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return a_(n_(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),l_=function(){function e(t){k(this,e),this._delegate=t,this.multiFactor=(t=ud(t=t),qk.has(t)||qk.set(t,jk._fromUser(t)),qk.get(t))}return w(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(this.auth,rk(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"linkWithPhoneNumber",value:function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s_(this.auth,function(){var e=f(c.mark((function e(t,n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ud(t),e.next=3,$m(!1,i,"phone");case 3:return e.next=5,bw(i.auth,n,ud(r));case 5:return r=e.sent,e.abrupt("return",new ww(r,(function(e){return rk(i,e)})));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"linkWithPopup",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(this.auth,function(){var e=f(c.mark((function e(t,n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fg((t=ud(t)).auth,n,Nm),r=Tw(t.auth,r),i=new Ow(t.auth,"linkViaPopup",n,r,t),e.abrupt("return",i.executeNotNull());case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,t,t_)));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"linkWithRedirect",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jb(lm(this.auth));case 2:return e.abrupt("return",Bw(this._delegate,t,t_));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(this.auth,ak(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return s_(this.auth,function(){var e=f(c.mark((function e(t,n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ud(t),e.next=3,bw(i.auth,n,ud(r));case 3:return r=e.sent,e.abrupt("return",new ww(r,(function(e){return ak(i,e)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return a_(this.auth,function(){var e=f(c.mark((function e(t,n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fg((t=ud(t)).auth,n,Nm),r=Tw(t.auth,r),i=new Ow(t.auth,"reauthViaPopup",n,r,t),e.abrupt("return",i.executeNotNull());case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t_))}},{key:"reauthenticateWithRedirect",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jb(lm(this.auth));case 2:return e.abrupt("return",Vw(this._delegate,t,t_));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendEmailVerification",value:function(e){return _k(this._delegate,e)}},{key:"unlink",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Km(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateEmail",value:function(e){return Ck(ud(this._delegate),e,null)}},{key:"updatePassword",value:function(e){return Ck(ud(this._delegate),null,e)}},{key:"updatePhoneNumber",value:function(e){return function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gm(ud(t),n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,e)}},{key:"updateProfile",value:function(e){return Ik(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return Tk(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();l_.USER_MAP=new WeakMap;var f_=dg,h_=function(){function e(t,n){if(k(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;f_(r,"invalid-api-key",{appName:t.name});var i=[$g];if("undefined"!=typeof window){i=function(e,t){var n=Zb();if(null===n||void 0===n||!n.sessionStorage)return[];switch(t=Yg(Yb,e,t),n.sessionStorage.getItem(t)){case Qb.NONE:return[$g];case Qb.LOCAL:return[uw,Hk];case Qb.SESSION:return[Hk];default:return[]}}(r,t.name);for(var a=0,o=[uw,Wk,Hk];a<o.length;a++){var s=o[a];i.includes(s)||i.push(s)}}f_(r,"invalid-api-key",{appName:t.name}),t="undefined"!=typeof window?t_:void 0,this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:t}}),this._delegate._updateErrorMap(rg),this.linkUnderlyingAuth()}return w(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?l_.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){hm(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return pk(this._delegate,e)}},{key:"checkActionCode",value:function(e){return yk(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(){var e=f(c.mark((function e(t,n,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ym(ud(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(this._delegate,function(){var e=f(c.mark((function e(t,n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lm(t),e.next=3,Um(i,{returnSecureToken:!0,email:n,password:r});case 3:return r=e.sent,e.next=6,qm._fromIdTokenResponse(i,"signIn",r);case 6:return r=e.sent,e.next=9,i._updateCurrentUser(r.user);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return wk(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return this._delegate,e=e,"EMAIL_SIGNIN"===(null==(e=Cm.parseLink(e))?void 0:e.operation)}},{key:"getRedirectResult",value:function(){var e=f(c.mark((function e(){var t,n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f_(Hb(),this._delegate,"operation-not-supported-in-this-environment"),t=this._delegate,n=t_,e.next=5,lm(t)._initializationPromise;case 5:return e.next=7,zw(t,n,!1);case 7:return n=e.sent,e.abrupt("return",n?a_(this._delegate,Promise.resolve(n)):{credential:null,user:null});case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addFrameworkForLogging",value:function(e){lm(this._delegate)._logFramework(e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=d_(e,t,n);return e=r.next,t=r.error,n=r.complete,this._delegate.onAuthStateChanged(e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=d_(e,t,n);return e=r.next,t=r.error,n=r.complete,this._delegate.onIdTokenChanged(e,t,n)}},{key:"sendSignInLinkToEmail",value:function(e,t){return mk(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return hk(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=f(c.mark((function e(t){var n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this._delegate,r=t,$b(Object.values(Qb).includes(r),n,"invalid-persistence-type"),Sh()?$b(r!==Qb.SESSION,n,"unsupported-persistence-type"):Eh()?$b(r===Qb.NONE,n,"unsupported-persistence-type"):Kb()?$b(r===Qb.NONE||r===Qb.LOCAL&&Nh(),n,"unsupported-persistence-type"):$b(r===Qb.NONE||Wb(),n,"unsupported-persistence-type"),e.t0=t,e.next=e.t0===Qb.SESSION?4:e.t0===Qb.LOCAL?6:e.t0===Qb.NONE?11:13;break;case 4:return i=Hk,e.abrupt("break",14);case 6:return e.next=8,gg(uw)._isAvailable();case 8:return a=e.sent,i=a?uw:Wk,e.abrupt("break",14);case 11:return i=$g,e.abrupt("break",14);case 13:return e.abrupt("return",ug("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(i));case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return a_(this._delegate,function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lm(t),e.next=3,n._initializationPromise;case 3:if(null===(t=n.currentUser)||void 0===t||!t.isAnonymous){e.next=7;break}e.t0=new qm({user:n.currentUser,providerId:null,operationType:"signIn"}),e.next=16;break;case 7:return e.next=9,Um(n,{returnSecureToken:!0});case 9:return t=e.sent,e.next=12,qm._fromIdTokenResponse(n,"signIn",t,!0);case 12:return t=e.sent,e.next=15,n._updateCurrentUser(t.user);case 15:e.t0=t;case 16:return e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this._delegate))}},{key:"signInWithCredential",value:function(e){return a_(this._delegate,tk(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return a_(this._delegate,sk(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return a_(this._delegate,(e=e,t=t,tk(ud(this._delegate),Am.credential(e,t))))}},{key:"signInWithEmailLink",value:function(e,t){return a_(this._delegate,function(){var e=f(c.mark((function e(t,n,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(t=ud(t),dg((r=Am.credentialWithLink(n,r||mg()))._tenantId===(t.tenantId||null),t,"tenant-id-mismatch"),tk(t,r)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return s_(this._delegate,function(){var e=f(c.mark((function e(t,n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lm(t),e.next=3,bw(i,n,ud(r));case 3:return r=e.sent,e.abrupt("return",new ww(r,(function(e){return tk(i,e)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(f_(Hb(),this._delegate,"operation-not-supported-in-this-environment"),a_(this._delegate,function(){var e=f(c.mark((function e(t,n,r){var i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lm(t),fg(t,n,Nm),r=Tw(i,r),a=new Ow(i,"signInViaPopup",n,r),e.abrupt("return",a.executeNotNull());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(this._delegate,t,t_))));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signInWithRedirect",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f_(Hb(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Jb(this._delegate);case 3:return e.abrupt("return",qw(this._delegate,t,t_));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yk(ud(t),n);case 2:return e.abrupt("return",(n=e.sent.data).email);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function d_(e,t,n){var r,i=e;"function"!=typeof e&&(i=(r=e).next,t=r.error,n=r.complete);var a=i;return{next:function(e){return a(e&&l_.getOrCreate(e))},error:t,complete:n}}h_.Persistence=Qb;var p_=function(){function e(){k(this,e),this.providerId="phone",this._delegate=new xw(n_(rp.auth()))}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return xw.credential(e,t)}}]),e}();p_.PHONE_SIGN_IN_METHOD=xw.PHONE_SIGN_IN_METHOD,p_.PROVIDER_ID=xw.PROVIDER_ID;var v_=dg,y_=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rp.app();k(this,e),v_(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new kw(t,n,i.auth()),this.type=this._delegate.type}return w(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Ub=rp).INTERNAL.registerComponent(new vd("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate();return e=e.getProvider("auth"),new h_(t,e)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:tg.EMAIL_SIGNIN,PASSWORD_RESET:tg.PASSWORD_RESET,RECOVER_EMAIL:tg.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:tg.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:tg.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:tg.VERIFY_EMAIL}},EmailAuthProvider:Am,FacebookAuthProvider:Rm,GithubAuthProvider:Lm,GoogleAuthProvider:Dm,OAuthProvider:Om,PhoneAuthProvider:p_,PhoneMultiFactorGenerator:xb,RecaptchaVerifier:y_,TwitterAuthProvider:Fm,Auth:h_,AuthCredential:vm,Error:Rh}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ub.registerVersion("@firebase/auth-compat","0.1.4");var g_="";function m_(e){g_=e}var k_,w_,b_,__,x_=function(){function e(t){k(this,e),this.domStorage_=t,this.prefix_="firebase:"}return w(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fh(t))}},{key:"get",value:function(e){return null==(e=this.domStorage_.getItem(this.prefixedName_(e)))?null:Mh(e)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),T_=function(){function e(){k(this,e),this.cache_={},this.isInMemoryStorage=!0}return w(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return jh(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),E_=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new x_(t)}}catch(e){}return new T_};function I_(e){e=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i,a=e.charCodeAt(r);55296<=a&&a<=56319&&(i=a-55296,r++,vh(r<e.length,"Surrogate pair missing trail surrogate."),a=65536+(i<<10)+(e.charCodeAt(r)-56320)),a<128?t[n++]=a:(a<2048?t[n++]=a>>6|192:(a<65536?t[n++]=a>>12|224:(t[n++]=a>>18|240,t[n++]=a>>12&63|128),t[n++]=a>>6&63|128),t[n++]=63&a|128)}return t}(e);var t=new Qh;return t.update(e),e=t.digest(),gh.encodeByteArray(e)}var S_=E_("localStorage"),C_=E_("sessionStorage"),A_=new Ad("@firebase/database"),N_=function(){var e=1;return function(){return e++}}(),P_=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=e.apply(null,r):t+="object"==typeof r?Fh(r):r,t+=" "}return t},O_=null,R_=!0;function D_(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];V_.apply(void 0,[e].concat(n))}}function L_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t="FIREBASE INTERNAL ERROR: "+P_.apply(void 0,l(t)),A_.error(t)}function M_(e,t){return e===t?0:e<t?-1:1}function F_(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Fh(t))}function U_(e){if("object"!=typeof e||null===e)return Fh(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=Fh(t[i]),r+=":",r+=U_(e[t[i]]);return r+="}"}function j_(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r}var q_=function(e,t){vh(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(A_.logLevel=wd.VERBOSE,O_=A_.log.bind(A_),t&&C_.set("logging_enabled",!0)):"function"==typeof e?O_=e:(O_=null,C_.remove("logging_enabled"))},V_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];!0===R_&&(R_=!1,null===O_&&!0===C_.get("logging_enabled")&&q_(!0)),O_&&(t=P_.apply(null,t),O_(t))},B_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];throw t="FIREBASE FATAL ERROR: ".concat(P_.apply(void 0,l(t))),A_.error(t),new Error(t)},z_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t="FIREBASE WARNING: "+P_.apply(void 0,l(t)),A_.warn(t)},W_=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&z_("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},K_=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},H_="[MIN_NAME]",G_="[MAX_NAME]",Q_=function(e,t){if(e===t)return 0;if(e===H_||t===G_)return-1;if(t===H_||e===G_)return 1;var n=tx(e),r=tx(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null===r&&e<t?-1:1};function $_(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function Y_(e){var t,n,r,i,a;vh(!K_(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,r=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074))));var o=[];for(a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()}function J_(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n}var X_=new RegExp("^-?(0*)\\d{1,10}$"),Z_=-2147483648,ex=2147483647,tx=function(e){return X_.test(e)&&(e=Number(e))>=Z_&&e<=ex?e:null},nx=function(e){try{e()}catch(b){setTimeout((function(){var t=b.stack||"";throw z_("Exception was thrown by user callback.",t),b}),Math.floor(0))}},rx=function(){function e(t,n){var r=this;k(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null==n?void 0:n.getImmediate({optional:!0}),this.appCheck||null!=n&&n.get().then((function(e){return r.appCheck=e}))}return w(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null!==(t=this.appCheckProvider)&&void 0!==t&&t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){z_('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),ix=function(){function e(t,n,r){var i=this;k(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return w(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(V_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',z_(e)}}]),e}(),ax=function(){function e(t){k(this,e),this.accessToken=t}return w(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();ax.OWNER="owner";var ox=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sx="websocket",ux="long_polling",cx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];k(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=S_.get("host:"+t)||this._host}return w(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&S_.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function lx(e,t,n){var r;if(vh("string"==typeof t,"typeof type must == string"),vh("object"==typeof n,"typeof params must == object"),t===sx)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ux)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}((t=e).host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams)&&(n.ns=e.namespace);var i=[];return $_(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var fx=function(){function e(){k(this,e),this.counters_={}}return w(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;jh(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return wh(void 0,this.counters_)}}]),e}(),hx={},dx={};function px(e){return e=e.toString(),hx[e]||(hx[e]=new fx),hx[e]}var vx=function(){function e(t){k(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return w(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this,r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&nx((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););}}]),e}(),yx=function(){function e(t,n,r,i,a,o,s){var u=this;k(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=D_(t),this.stats_=px(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),lx(n,ux,e)}}return w(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new vx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new gx((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&ox.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){e=Fh(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var t=j_(e=dh(e),1840),n=0;n<t.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,t.length,t[n]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},{key:"incrementIncomingBytes_",value:function(e){e=Fh(e).length,this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)}}]),e}(),gx=function(){function e(t,n,r,i){k(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=N_(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+(o=document.domain)+'";<\/script>');var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(r){V_("frame writing exception"),r.stack&&V_(r.stack),V_(r)}}return w(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){V_("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||V_("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),mx=null;"undefined"!=typeof MozWebSocket?mx=MozWebSocket:"undefined"!=typeof WebSocket&&(mx=WebSocket);var kx=function(){function e(t,n,r,i,a,o,s){k(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=D_(this.connId),this.stats_=px(n),this.connURL=e.connectionURL_(n,o,s,i),this.nodeAdmin=n.nodeAdmin}return w(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,S_.set("previous_websocket_failure",!0);try{Ah()||(r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new mx(this.connURL,[],r))}catch(e){this.log_("Error instantiating WebSocket.");var r=e.message||e.data;return r&&this.log_(r),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection."),(e=e.message||e.data)&&n.log_(e),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){S_.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){this.frames.push(e),this.frames.length===this.totalFrames&&(e=this.frames.join(""),this.frames=null,e=Mh(e),this.onMessage(e))}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(vh(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){null!==this.mySock&&(e=e.data,this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),(null!==this.frames||null!==(e=this.extractFrameCount_(e)))&&this.appendFrame_(e))}},{key:"send",value:function(e){this.resetKeepAlive(),e=Fh(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var t=j_(e,16384);1<t.length&&this.sendString_(String(t.length));for(var n=0;n<t.length;n++)this.sendString_(t[n])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&ox.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),lx(e,sx,i)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t,n=!1;return"undefined"==typeof navigator||!navigator.userAgent||(t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<t.length&&parseFloat(t[1])<4.4&&(n=!0),!n&&null!==mx&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return S_.isInMemoryStorage||!0===S_.get("previous_websocket_failure")}}]),e}();kx.responsesRequiredToBeHealthy=2,kx.healthyTimeout=3e4;var wx=function(){function e(t){k(this,e),this.initTransports_(t)}return w(e,[{key:"initTransports_",value:function(t){var n=kx&&kx.isAvailable(),r=n&&!kx.previouslyFailed();if(t.webSocketOnly&&(n||z_("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kx];else{var i,a=this.transports_=[],o=d(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"initialTransport",value:function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return 1<this.transports_.length?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[yx,kx]}}]),e}(),bx=function(){function e(t,n,r,i,a,o,s,u,c,l){k(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=D_("c:"+this.id+":"),this.transportManager_=new wx(n),this.log_("Connection created"),this.start_()}return w(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;0<i&&(this.healthyTimeout_=J_((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&102400<e.conn_.bytesReceived?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&10240<e.conn_.bytesSent?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){this.sendData_({t:"d",d:e})}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){"t"in e&&("a"===(e=e.t)?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))}},{key:"onSecondaryMessageReceived_",value:function(e){var t=F_("t",e);if(e=F_("d",e),"c"===t)this.onSecondaryControl_(e);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(e)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=F_("t",e);e=F_("d",e),"c"===t?this.onControl_(e):"d"===t&&this.onDataMessage_(e)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=F_("t",e);if("d"in e)if(e=e.d,"h"===t)this.onHandshake_(e);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(e):"r"===t?this.onReset_(e):"e"===t?L_("Server Error: "+e):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):L_("Unknown control packet command: "+t)}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&z_("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_);e=this.disconnReceiver_(this.secondaryConn_),this.secondaryConn_.open(n,e),J_((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):J_((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(S_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),_x=function(){function e(){k(this,e)}return w(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),xx=function(){function e(t){k(this,e),this.allowedEvents_=t,this.listeners_={},vh(Array.isArray(t)&&0<t.length,"Requires a non-empty array")}return w(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=l(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n}),(e=this.getInitialEvent(e))&&t.apply(n,e)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){vh(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Tx=function(e){y(n,e);var t=g(n);function n(){var e;return k(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Th()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return w(n,[{key:"getInitialEvent",value:function(e){return vh("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(xx),Ex=function(){function e(t,n){if(k(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)0<this.pieces_[i].length&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return w(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Ix(){return new Ex("")}function Sx(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Cx(e){return e.pieces_.length-e.pieceNum_}function Ax(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ex(e.pieces_,t)}function Nx(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Px(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ox(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ex(t,0)}function Rx(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ex)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)0<a[o].length&&n.push(a[o]);return new Ex(n,0)}function Dx(e){return e.pieceNum_>=e.pieces_.length}function Lx(e,t){var n=Sx(e),r=Sx(t);if(null===n)return t;if(n===r)return Lx(Ax(e),Ax(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Mx(e,t){for(var n=Px(e,0),r=Px(t,0),i=0;i<n.length&&i<r.length;i++){var a=Q_(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Fx(e,t){if(Cx(e)!==Cx(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ux(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Cx(e)>Cx(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var jx=function e(t,n){k(this,e),this.errorPrefix_=n,this.parts_=Px(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=nd(this.parts_[r]);qx(this)};function qx(e){if(768<e.byteLength_)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(32<e.parts_.length)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Vx(e))}function Vx(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Bx=function(e){y(n,e);var t=g(n);function n(){var e,r,i;return k(this,n),e=t.call(this,["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(i="visibilitychange",r="hidden"):void 0!==document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):void 0!==document.msHidden?(i="msvisibilitychange",r="msHidden"):void 0!==document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return w(n,[{key:"getInitialEvent",value:function(e){return vh("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(xx),zx=function(e){y(n,e);var t=g(n);function n(e,r,i,o,s,u,c,l){var f;if(k(this,n),(f=t.call(this)).repoInfo_=e,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=o,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=n.nextPersistentConnectionId_++,f.log_=D_("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=1e3,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!Ah())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Bx.getInstance().on("visible",f.onVisible_,v(f)),-1===e.host.indexOf("fblocal")&&Tx.getInstance().on("online",f.onOnline_,v(f)),a(f)}return w(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_;t={r:r,a:e,b:t},this.log_(Fh(t)),vh(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(t),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new bh,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),vh(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),vh(!this.listens.get(a).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:t,query:e,tag:n},this.listens.get(a).set(i,n),this.connected_&&this.sendListen_(n)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){return"object"==typeof(e=Uh(e).claims)&&!0===e.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Uh(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s;n=n.d||"error",e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,n))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s;t=t.d||"error","ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,t)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),vh(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){n={p:t,d:n},this.log_("onDisconnect "+e,n),this.sendRequest(e,n,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;this.connected_&&(this.log_("reportStats",e={c:e}),this.sendRequest("s",e,(function(e){"ok"!==e.s&&(e=e.d,t.log_("reportStats","Error sending stats: "+e))})))}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Fh(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):L_("Unrecognized action received from server: "+Fh(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;vh(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){var e;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),e=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-e),e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=f(c.mark((function e(){var t,r,i,a,o,s,u,l,f,h,d,v,y,g=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=23;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},this.realtime_={close:l,sendRequest:function(e){vh(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)}},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=10,e.next=13,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 13:h=e.sent,d=p(h,2),v=d[0],y=d[1],s?V_("getToken() completed but was canceled"):(V_("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,u=new bx(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){z_(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&z_(e.t0),l());case 23:case"end":return e.stop()}}),e,this,[[10,20]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"interrupt",value:function(e){V_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){V_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vh(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){e-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:e})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return U_(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n;if(e=new Ex(e).toString(),this.listens.has(e)){var r=this.listens.get(e);n=r.get(t),r.delete(t),0===r.size&&this.listens.delete(e)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){V_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){V_("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,3<=this.invalidAppCheckTokenCount_&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=d(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=d(r.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;this.sendListen_(a)}}catch(c){i.e(c)}finally{i.f()}}}catch(c){t.e(c)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={};e["sdk.js."+g_.replace(/\./g,"-")]=1,Th()?e["framework.cordova"]=1:Sh()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Tx.getInstance().currentlyOnline();return Vh(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"==typeof e&&jh(e,"w")){var n=qh(e,"w");Array.isArray(n)&&~n.indexOf("no_index")&&(e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',t=t._path.toString(),z_("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(t," to your security rules for better performance.")))}}}]),n}(_x);zx.nextPersistentConnectionId_=0,zx.nextConnectionId_=0;var Wx,Kx=function(){function e(t,n){k(this,e),this.name=t,this.node=n}return w(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Hx=function(){function e(){k(this,e)}return w(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){return e=new Kx(H_,e),t=new Kx(H_,t),0!==this.compare(e,t)}},{key:"minPost",value:function(){return Kx.MIN}}]),e}(),Gx=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"compare",value:function(e,t){return Q_(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw yh("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Kx.MIN}},{key:"maxPost",value:function(){return new Kx(G_,Wx)}},{key:"makePost",value:function(e,t){return vh("string"==typeof e,"KeyIndex indexValue must always be a string."),new Kx(e,Wx)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Wx},set:function(e){Wx=e}}]),n}(Hx),Qx=new Gx,$x=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;k(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return w(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return 0<this.nodeStack_.length}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Yx=function(){function e(t,n,r,i,a){k(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Zx.EMPTY_NODE,this.right=null!=a?a:Zx.EMPTY_NODE}return w(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Zx.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Zx.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Yx.RED=!0,Yx.BLACK=!1;var Jx,Xx,Zx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;k(this,e),this.comparator_=t,this.root_=n}return w(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Yx.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Yx.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:0<t&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new $x(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new $x(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new $x(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new $x(this.root_,null,this.comparator_,!0,e)}}]),e}();function eT(e,t){return Q_(e.name,t.name)}function tT(e,t){return Q_(e,t)}function nT(e){return"number"==typeof e?"number:"+Y_(e):"string:"+e}function rT(e){var t;e.isLeafNode()?(t=e.val(),vh("string"==typeof t||"number"==typeof t||"object"==typeof t&&jh(t,".sv"),"Priority must be a string or number.")):vh(e===Jx||e.isEmpty(),"priority of unexpected type."),vh(e===Jx||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}Zx.EMPTY_NODE=new(function(){function e(){k(this,e)}return w(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Yx(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}());var iT,aT,oT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;k(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,vh(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rT(this.priorityNode_)}return w(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Dx(t)?this:".priority"===Sx(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Sx(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(vh(".priority"!==r||1===Cx(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ax(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nT(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"==t?Y_(this.value_):this.value_,this.lazyHash_=I_(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(vh(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return vh(0<=i,"Unknown leaf type: "+n),vh(0<=a,"Unknown leaf type: "+r),i===a?"object"==r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}}],[{key:"__childrenNodeConstructor",get:function(){return Xx},set:function(e){Xx=e}}]),e}();oT.VALUE_TYPE_ORDER=["object","boolean","number","string"];var sT,uT=new(function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority();return 0===(r=n.compareTo(r))?Q_(e.name,t.name):r}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Kx.MIN}},{key:"maxPost",value:function(){return new Kx(G_,new oT("[PRIORITY-POST]",aT))}},{key:"makePost",value:function(e,t){return e=iT(e),new Kx(t,new oT("[PRIORITY-POST]",e))}},{key:"toString",value:function(){return".priority"}}]),n}(Hx)),cT=Math.log(2),lT=function(){function e(t){var n;k(this,e),this.count=(n=t+1,parseInt(Math.log(n)/cT,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return w(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}();function fT(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;return 0==s?null:1==s?(a=e[r],o=n?n(a):a,new Yx(o,a.node,Yx.BLACK,null,null)):(r=t(r,s=parseInt(s/2,10)+r),i=t(s+1,i),a=e[s],o=n?n(a):a,new Yx(o,a.node,Yx.BLACK,r,i))},a=function(t){var r=null,a=null,o=e.length;function s(t,s){var u=o-t,c=o;o-=t,t=i(1+u,c),c=e[u],u=n?n(c):c,function(e){r?(r.left=e,r=e):(a=e,r=e)}(new Yx(u,c.node,s,null,t))}for(var u=0;u<t.count;++u){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(u+1));c?s(l,Yx.BLACK):(s(l,Yx.BLACK),s(l,Yx.RED))}return a}(new lT(e.length));return new Zx(r||t,a)}var hT,dT={},pT=function(){function e(t,n){k(this,e),this.indexes_=t,this.indexSet_=n}return w(e,[{key:"get",value:function(e){var t=qh(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Zx?t:null}},{key:"hasIndex",value:function(e){return jh(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){vh(t!==Qx,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Kx.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?fT(i,t.getCompare()):dT,n=t.toString();var u=Object.assign({},this.indexSet_);u[n]=t;var c=Object.assign({},this.indexes_);return c[n]=r,new e(c,u)}},{key:"addToIndexes",value:function(t,n){var r=this,i=Bh(this.indexes_,(function(e,i){var a=qh(r.indexSet_,i);if(vh(a,"Missing index implementation for "+i),e===dT){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Kx.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),fT(o,a.getCompare())}return dT}var c=e;return(i=n.get(t.name))&&(c=c.remove(new Kx(t.name,i))),c.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){var r=Bh(this.indexes_,(function(e){if(e===dT)return e;var r=n.get(t.name);return r?e.remove(new Kx(t.name,r)):e}));return new e(r,this.indexSet_)}}],[{key:"Default",get:function(){return vh(uT,"ChildrenNode.ts has not been loaded"),sT=sT||new e({".priority":dT},{".priority":uT})}}]),e}(),vT=function(){function e(t,n,r){k(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&rT(this.priorityNode_),this.children_.isEmpty()&&vh(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return w(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||hT}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){return".priority"===e?this.getPriority():null===(e=this.children_.get(e))?hT:e}},{key:"getChild",value:function(e){var t=Sx(e);return null===t?this:this.getImmediateChild(t).getChild(Ax(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(vh(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Kx(t,n);return i=n.isEmpty()?(r=this.children_.remove(t),this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),this.indexMap_.addToIndexes(a,this.children_)),a=r.isEmpty()?hT:this.priorityNode_,new e(r,a,i)}},{key:"updateChild",value:function(e,t){var n=Sx(e);return null===n?t:(vh(".priority"!==Sx(e)||1===Cx(e),".priority must be the last token in a path"),t=this.getImmediateChild(n).updateChild(Ax(e),t),this.updateImmediateChild(n,t))}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(uT,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+nT(this.getPriority().val())+":"),this.forEachChild(uT,(function(t,n){""!==(n=n.hash())&&(e+=":"+t+":"+n)})),this.lazyHash_=""===e?"":I_(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);return r?(t=r.getPredecessorKey(new Kx(e,t)))?t.name:null:this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);return t?(e=t.minKey())&&e.name:this.children_.minKey()}},{key:"getFirstChild",value:function(e){return(e=this.getFirstChildName(e))?new Kx(e,this.children_.get(e)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);return t?(e=t.maxKey())&&e.name:this.children_.maxKey()}},{key:"getLastChild",value:function(e){return(e=this.getLastChildName(e))?new Kx(e,this.children_.get(e)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Kx.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Kx.Wrap),i=r.peek();null!=i&&0<t.compare(i,e);)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gT?-1:0}},{key:"withIndex",value:function(t){return t===Qx||this.indexMap_.hasIndex(t)?this:(t=this.indexMap_.addIndex(t,this.children_),new e(this.children_,this.priorityNode_,t))}},{key:"isIndexed",value:function(e){return e===Qx||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()!==t.children_.count())return!1;for(var n=this.getIterator(uT),r=t.getIterator(uT),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}},{key:"resolveIndex_",value:function(e){return e===Qx?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return hT=hT||new e(new Zx(tT),null,pT.Default)}}]),e}();vT.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var yT=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.call(this,new Zx(tT),vT.EMPTY_NODE,pT.Default)}return w(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return vT.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(vT),gT=new yT;Object.defineProperties(Kx,{MIN:{value:new Kx(H_,vT.EMPTY_NODE)},MAX:{value:new Kx(G_,gT)}}),Gx.__EMPTY_NODE=vT.EMPTY_NODE,oT.__childrenNodeConstructor=vT,Jx=gT,aT=gT;var mT=!0;function kT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return vT.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),vh(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"!=typeof(e="object"==typeof e&&".value"in e&&null!==e[".value"]?e[".value"]:e)||".sv"in e){var n=e;return new oT(n,kT(t))}if(e instanceof Array||!mT){var r=vT.EMPTY_NODE;return $_(e,(function(t,n){if(jh(e,t)&&"."!==t.substring(0,1)){var i=kT(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(kT(t))}var i=[],a=!1;if($_(e,(function(e,t){if("."!==e.substring(0,1)){var n=kT(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Kx(e,n)))}})),0===i.length)return vT.EMPTY_NODE;var o=fT(i,eT,(function(e){return e.name}),tT);return a?(n=fT(i,uT.getCompare()),new vT(o,kT(t),new pT({".priority":n},{".priority":uT}))):new vT(o,kT(t),pT.Default)}iT=kT;var wT=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this)).indexPath_=e,vh(!Dx(e)&&".priority"!==Sx(e),"Can't create PathIndex with empty path or .priority key"),r}return w(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node);return 0===(r=n.compareTo(r))?Q_(e.name,t.name):r}},{key:"makePost",value:function(e,t){return e=kT(e),e=vT.EMPTY_NODE.updateChild(this.indexPath_,e),new Kx(t,e)}},{key:"maxPost",value:function(){var e=vT.EMPTY_NODE.updateChild(this.indexPath_,gT);return new Kx(G_,e)}},{key:"toString",value:function(){return Px(this.indexPath_,0).join("/")}}]),n}(Hx);function bT(e){if(e===""+ex)return ET;var t=tx(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<ST)return n.push(ET),n.join("");for(var i=n.length-1;0<=i&&n[i]===IT;)i--;return-1===i?G_:(t=n[i],t=TT.charAt(TT.indexOf(t)+1),n[i]=t,n.slice(0,i+1).join(""))}function _T(e){if(e===""+Z_)return H_;var t=tx(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===ET?1===n.length?""+ex:(delete n[n.length-1],n.join("")):(n[n.length-1]=TT.charAt(TT.indexOf(n[n.length-1])-1),n.join("")+IT.repeat(ST-n.length))}var xT=new(function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Q_(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Kx.MIN}},{key:"maxPost",value:function(){return Kx.MAX}},{key:"makePost",value:function(e,t){return e=kT(e),new Kx(t,e)}},{key:"toString",value:function(){return".value"}}]),n}(Hx)),TT="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ET="-",IT="z",ST=786,CT=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;0<=r;r--)a[r]=TT.charAt(n%64),n=Math.floor(n/64);vh(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;0<=r&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=TT.charAt(t[r]);return vh(20===o.length,"nextPushId: Length should be 20."),o}}();function AT(e){return{type:"value",snapshotNode:e}}function NT(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function PT(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function OT(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var RT=function(){function e(t){k(this,e),this.index_=t}return w(e,[{key:"updateChild",value:function(e,t,n,r,i,a){vh(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(PT(t,o)):vh(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(NT(t,n)):a.trackChildChange(OT(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(uT,(function(e,r){t.hasChild(e)||n.trackChildChange(PT(e,r))})),t.isLeafNode()||t.forEachChild(uT,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(OT(t,r,i))}else n.trackChildChange(NT(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?vT.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),DT=function(){function e(t){k(this,e),this.indexedFilter_=new RT(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return w(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Kx(t,n))||(n=vT.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r=(t=t.isLeafNode()?vT.EMPTY_NODE:t).withIndex(this.index_);r=r.updatePriority(vT.EMPTY_NODE);var i=this;return t.forEachChild(uT,(function(e,t){i.matches(new Kx(e,t))||(r=r.updateImmediateChild(e,vT.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),LT=function(){function e(t){k(this,e),this.rangedFilter_=new DT(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return w(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Kx(t,n))||(n=vT.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=vT.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=vT.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(vT.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(s,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,u)<=0?h++:r=r.updateImmediateChild(p.name,vT.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;vh(s.numChildren()===this.limit_,"");var u=new Kx(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&0<=d)return null!=i&&i.trackChildChange(OT(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(PT(t,f));var p=s.updateImmediateChild(t,vT.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(NT(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return!n.isEmpty()&&l&&0<=a(c,u)?(null!=i&&(i.trackChildChange(PT(c.name,c.node)),i.trackChildChange(NT(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,vT.EMPTY_NODE)):e}}]),e}(),MT=function(){function e(){k(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=uT}return w(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return vh(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return vh(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:H_}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return vh(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return vh(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:G_}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return vh(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===uT}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function FT(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function UT(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function jT(e,t){var n=e.copy();return n.index_=t,n}function qT(e){var t,n={};return e.isDefault()||(t=e.index_===uT?"$priority":e.index_===xT?"$value":e.index_===Qx?"$key":(vh(e.index_ instanceof wT,"Unrecognized index type!"),e.index_.toString()),n.orderBy=Fh(t),e.startSet_&&(n.startAt=Fh(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Fh(e.indexStartName_))),e.endSet_&&(n.endAt=Fh(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Fh(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function VT(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==uT&&(t.i=e.index_.toString()),t}var BT=function(e){y(n,e);var t=g(n);function n(e,r,i,a){var o;return k(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=D_("p:rest:"),o.listens_={},o}return w(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u,e=qT(e._queryParams),this.restRequest_(o+".json",e,(function(e,t){var n=t;null===(e=404===e?n=null:e)&&a.onDataUpdate_(o,n,!1,r),qh(a.listens_,s)===u&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){t=n.getListenId_(e,t),delete this.listens_[t]}},{key:"get",value:function(e){var t=this,n=qT(e._queryParams),r=e._path.toString(),i=new bh;return this.restRequest_(r+".json",n,(function(e,n){var a=n;null===(e=404===e?a=null:e)?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=p(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Kh(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(200<=c.status&&c.status<300){try{e=Mh(c.responseText)}catch(o){z_("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&z_("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(vh(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(_x),zT=function(){function e(){k(this,e),this.rootNode_=vT.EMPTY_NODE}return w(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function WT(){return{value:null,children:new Map}}function KT(e,t,n){var r;Dx(t)?(e.value=n,e.children.clear()):null!==e.value?e.value=e.value.updateChild(t,n):(r=Sx(t),e.children.has(r)||e.children.set(r,WT()),KT(e.children.get(r),t=Ax(t),n))}function HT(e,t,n){var r;null!==e.value?n(t,e.value):(r=function(e,r){HT(r,new Ex(t.toString()+"/"+e),n)},e.children.forEach((function(e,t){r(t,e)})))}var GT=function(){function e(t){k(this,e),this.collection_=t,this.last_=null}return w(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&$_(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),QT=function(){function e(t,n){k(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new GT(t),t=1e4+2e4*Math.random(),J_(this.reportStats_.bind(this),Math.floor(t))}return w(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;$_(t,(function(t,i){0<i&&jh(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),J_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function $T(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function YT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function JT(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(at=k_=k_||{})[at.OVERWRITE=0]="OVERWRITE",at[at.MERGE=1]="MERGE",at[at.ACK_USER_WRITE=2]="ACK_USER_WRITE",at[at.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var XT,ZT=function(){function e(t,n,r){k(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=k_.ACK_USER_WRITE,this.source=$T()}return w(e,[{key:"operationForChild",value:function(t){if(Dx(this.path)){if(null!=this.affectedTree.value)return vh(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ex(t));return new e(Ix(),n,this.revert)}return vh(Sx(this.path)===t,"operationForChild called for unrelated child."),new e(Ax(this.path),this.affectedTree,this.revert)}}]),e}(),eE=function(){function e(t,n){k(this,e),this.source=t,this.path=n,this.type=k_.LISTEN_COMPLETE}return w(e,[{key:"operationForChild",value:function(t){return Dx(this.path)?new e(this.source,Ix()):new e(this.source,Ax(this.path))}}]),e}(),tE=function(){function e(t,n,r){k(this,e),this.source=t,this.path=n,this.snap=r,this.type=k_.OVERWRITE}return w(e,[{key:"operationForChild",value:function(t){return Dx(this.path)?new e(this.source,Ix(),this.snap.getImmediateChild(t)):new e(this.source,Ax(this.path),this.snap)}}]),e}(),nE=function(){function e(t,n,r){k(this,e),this.source=t,this.path=n,this.children=r,this.type=k_.MERGE}return w(e,[{key:"operationForChild",value:function(t){if(Dx(this.path)){var n=this.children.subtree(new Ex(t));return n.isEmpty()?null:n.value?new tE(this.source,Ix(),n.value):new e(this.source,Ix(),n)}return vh(Sx(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ax(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),rE=function(){function e(t,n,r){k(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return w(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){return Dx(e)?this.isFullyInitialized()&&!this.filtered_:(e=Sx(e),this.isCompleteForChild(e))}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),iE=function e(t){k(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()};function aE(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),oE(e,i,"child_removed",t,r,n),oE(e,i,"child_added",t,r,n),oE(e,i,"child_moved",a,r,n),oE(e,i,"child_changed",t,r,n),oE(e,i,"value",t,r,n),i}function oE(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw yh("Should only compare child_ events.");return t=new Kx(t.childName,t.snapshotNode),n=new Kx(n.childName,n.snapshotNode),e.index_.compare(t,n)}(e,t,n)})),o.forEach((function(n){var r,o,s,u=(r=e,s=a,"value"===(o=n).type||"child_removed"===o.type||(o.prevName=s.getPredecessorChildName(o.childName,o.snapshotNode,r.index_)),o);i.forEach((function(r){r.respondsTo(n.type)&&t.push(r.createEvent(u,e.query_))}))}))}function sE(e,t){return{eventCache:e,serverCache:t}}function uE(e,t,n,r){return sE(new rE(t,n,r),e.serverCache)}function cE(e,t,n,r){return sE(e.eventCache,new rE(t,n,r))}function lE(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function fE(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var hE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XT=XT||new Zx(M_);k(this,e),this.value=t,this.children=n}return w(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Ix(),value:this.value};if(Dx(e))return null;var n=Sx(e),r=this.children.get(n);return null===r||null==(t=r.findRootMostMatchingPathAndValue(Ax(e),t))?null:{path:Rx(new Ex(n),t.path),value:t.value}}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Dx(t))return this;var n=Sx(t),r=this.children.get(n);return null!==r?r.subtree(Ax(t)):new e(null)}},{key:"set",value:function(t,n){if(Dx(t))return new e(n,this.children);var r=Sx(t);return n=(this.children.get(r)||new e(null)).set(Ax(t),n),n=this.children.insert(r,n),new e(this.value,n)}},{key:"remove",value:function(t){if(Dx(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Sx(t),r=this.children.get(n);if(r){var i,a=r.remove(Ax(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Dx(e))return this.value;var t=Sx(e),n=this.children.get(t);return n?n.get(Ax(e)):null}},{key:"setTree",value:function(t,n){if(Dx(t))return n;var r,i=Sx(t),a=(this.children.get(i)||new e(null)).setTree(Ax(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Ix(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Rx(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Ix(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Dx(e))return null;r=Sx(e);var i=this.children.get(r);return i?i.findOnPath_(Ax(e),Rx(t,r),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Ix(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Dx(t))return this;this.value&&r(n,this.value);var i=Sx(t),a=this.children.get(i);return a?a.foreachOnPath_(Ax(t),Rx(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Ix(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Rx(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return $_(t,(function(e,t){n=n.set(new Ex(e),t)})),n}}]),e}(),dE=function(){function e(t){k(this,e),this.writeTree_=t}return w(e,null,[{key:"empty",value:function(){return new e(new hE(null))}}]),e}();function pE(e,t,n){if(Dx(t))return new dE(new hE(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value;return r=Lx(i,t),a=a.updateChild(r,n),new dE(e.writeTree_.set(i,a))}return n=new hE(n),n=e.writeTree_.setTree(t,n),new dE(n)}function vE(e,t,n){var r=e;return $_(n,(function(e,n){r=pE(r,Rx(t,e),n)})),r}function yE(e,t){return Dx(t)?dE.empty():(t=e.writeTree_.setTree(t,new hE(null)),new dE(t))}function gE(e,t){return null!=mE(e,t)}function mE(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Lx(n.path,t)):null}function kE(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(uT,(function(e,n){t.push(new Kx(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Kx(e,n.value))})),t}function wE(e,t){if(Dx(t))return e;var n=mE(e,t);return new dE(null!=n?new hE(n):e.writeTree_.subtree(t))}function bE(e){return e.writeTree_.isEmpty()}function _E(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(vh(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(Rx(t,n),a,r)})),r=r.getChild(t).isEmpty()||null===i?r:r.updateChild(Rx(t,".priority"),i)}(Ix(),e.writeTree_,t)}function xE(e,t){return LE(t,e)}function TE(e,t){var n,r=e.allWrites.findIndex((function(e){return e.writeId===t}));vh(0<=r,"removeWrite called with nonexistent writeId.");var i=e.allWrites[r];e.allWrites.splice(r,1);for(var a=i.visible,o=!1,s=e.allWrites.length-1;a&&0<=s;){var u=e.allWrites[s];u.visible&&(s>=r&&function(e,t){if(e.snap)return Ux(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ux(Rx(e.path,n),t))return!0;return!1}(u,i.path)?a=!1:Ux(i.path,u.path)&&(o=!0)),s--}return!!a&&(o?((n=e).visibleWrites=IE(n.allWrites,EE,Ix()),0<n.allWrites.length?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1):i.snap?e.visibleWrites=yE(e.visibleWrites,i.path):$_(i.children,(function(t){e.visibleWrites=yE(e.visibleWrites,Rx(i.path,t))})),!0)}function EE(e){return e.visible}function IE(e,t,n){for(var r=dE.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Ux(n,o)?r=pE(r,s=Lx(n,o),a.snap):Ux(o,n)&&(s=Lx(o,n),r=pE(r,Ix(),a.snap.getChild(s)));else{if(!a.children)throw yh("WriteRecord should have .snap or .children");if(Ux(n,o))r=vE(r,s=Lx(n,o),a.children);else if(Ux(o,n))if(Dx(s=Lx(o,n)))r=vE(r,Ix(),a.children);else{var u=qh(a.children,Sx(s));u&&(o=u.getChild(Ax(s)),r=pE(r,Ix(),o))}}}}return r}function SE(e,t,n,r,i){if(r||i){var a=wE(e.visibleWrites,t);return!i&&bE(a)?n:i||null!=n||gE(a,Ix())?_E(IE(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ux(e.path,t)||Ux(t,e.path))}),t),n||vT.EMPTY_NODE):null}return null!=(a=mE(e.visibleWrites,t))?a:bE(e=wE(e.visibleWrites,t))?n:null!=n||gE(e,Ix())?_E(e,n||vT.EMPTY_NODE):null}function CE(e,t,n,r){return SE(e.writeTree,e.treePath,t,n,r)}function AE(e,t){return function(e,t,n){var r=vT.EMPTY_NODE,i=mE(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(uT,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=wE(e.visibleWrites,t);return n.forEachChild(uT,(function(e,t){t=_E(wE(a,new Ex(e)),t),r=r.updateImmediateChild(e,t)})),kE(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return kE(wE(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function NE(e,t,n,r){return i=e.writeTree,e=e.treePath,t=t,r=r,vh((n=n)||r,"Either existingEventSnap or existingServerSnap must exist"),e=Rx(e,t),gE(i.visibleWrites,e)?null:bE(e=wE(i.visibleWrites,e))?r.getChild(t):_E(e,r.getChild(t));var i}function PE(e,t){return n=e.writeTree,t=Rx(e.treePath,t),mE(n.visibleWrites,t);var n}function OE(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s;if(null!=(t=mE(e=wE(e.visibleWrites,t),Ix())))s=t;else{if(null==n)return[];s=_E(e,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=o.getCompare(),l=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),f=l.getNext();f&&u.length<i;)0!==c(f,r)&&u.push(f),f=l.getNext();return u}(e.writeTree,e.treePath,t,n,r,i,a)}function RE(e,t,n){return r=e.writeTree,i=e.treePath,e=n,t=Rx(i,n=t),null!=(i=mE(r.visibleWrites,t))?i:e.isCompleteForChild(n)?_E(wE(r.visibleWrites,t),e.getNode().getImmediateChild(n)):null;var r,i}function DE(e,t){return LE(Rx(e.treePath,t),e.writeTree)}function LE(e,t){return{treePath:e,writeTree:t}}var ME=function(){function e(){k(this,e),this.changeMap=new Map}return w(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;vh("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),vh(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,OT(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,PT(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,NT(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw yh("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,OT(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),FE=new(function(){function e(){k(this,e)}return w(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),UE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;k(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return w(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new rE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return RE(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:fE(this.viewCache_);return 0===(e=OE(this.writes_,r,t,1,n,e)).length?null:e[0]}}]),e}();function jE(e,t,n,r,i){var a,o,s=new ME;if(n.type===k_.OVERWRITE){var u=n;a=u.source.fromUser?BE(e,t,u.path,u.snap,r,i,s):(vh(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Dx(u.path),VE(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===k_.MERGE){var c=n;a=c.source.fromUser?function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){r=Rx(n,r),zE(t,Sx(r))&&(s=BE(e,s,r,u,i,a,o))})),r.foreach((function(r,u){r=Rx(n,r),zE(t,Sx(r))||(s=BE(e,s,r,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(vh(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),KE(e,t,c.path,c.children,r,i,o,s))}else if(n.type===k_.ACK_USER_WRITE)a=(c=n).revert?function(e,t,n,r,i,a){var o;if(null!=PE(r,n))return t;i=new UE(r,t,i);var s,u=t.eventCache.getNode();if(Dx(n)||".priority"===Sx(n)){var c;c=c=t.serverCache.isFullyInitialized()?CE(r,fE(t)):(l=t.serverCache.getNode(),vh(l instanceof vT,"serverChildren would be complete if leaf node"),AE(r,l)),s=e.filter.updateFullNode(u,c,a)}else{var l=Sx(n),f=RE(r,l,t.serverCache);null==f&&t.serverCache.isCompleteForChild(l)&&(f=u.getImmediateChild(l)),(s=null!=f?e.filter.updateChild(u,l,f,Ax(n),i,a):t.eventCache.getNode().hasChild(l)?e.filter.updateChild(u,l,vT.EMPTY_NODE,Ax(n),i,a):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=CE(r,fE(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=PE(r,Ix()),uE(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=PE(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Dx(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return VE(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Dx(n)){var c=new hE(null);return u.getNode().forEachChild(Qx,(function(e,t){c=c.set(new Ex(e),t)})),KE(e,t,n,c,i,a,s,o)}return t}var l=new hE(null);return r.foreach((function(e,t){var r=Rx(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),KE(e,t,n,l,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s);else{if(n.type!==k_.LISTEN_COMPLETE)throw yh("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache;return qE(e,cE(t,a.getNode(),a.isFullyInitialized()||Dx(n),a.isFiltered()),n,r,FE,i)}(e,t,n.path,r,s)}return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=lE(e);(0<n.length||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(AT(lE(t)))}}(t,a,r=s.getChanges()),{viewCache:a,changes:r}}function qE(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=PE(r,n))return t;if(Dx(n)){var c;vh(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),o=t.serverCache.isFiltered()?(c=AE(r,(c=fE(t))instanceof vT?c:vT.EMPTY_NODE),e.filter.updateFullNode(t.eventCache.getNode(),c,a)):(l=CE(r,fE(t)),e.filter.updateFullNode(t.eventCache.getNode(),l,a))}else{var l=Sx(n);if(".priority"===l){vh(1===Cx(n),"Can't have a priority with additional path components");var f=u.getNode(),h=NE(r,n,f,s=t.serverCache.getNode());o=null!=h?e.filter.updatePriority(f,h):u.getNode()}else{var d;f=Ax(n),o=null!=(d=u.isCompleteForChild(l)?(s=t.serverCache.getNode(),null!=(h=NE(r,n,u.getNode(),s))?u.getNode().getImmediateChild(l).updateChild(f,h):u.getNode().getImmediateChild(l)):RE(r,l,t.serverCache))?e.filter.updateChild(u.getNode(),l,d,f,i,a):u.getNode()}}return uE(t,o,u.isFullyInitialized()||Dx(n),e.filter.filtersNodes())}function VE(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Dx(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{if(o=Sx(n),!c.isCompleteForPath(n)&&1<Cx(n))return t;f=Ax(n),r=c.getNode().getImmediateChild(o).updateChild(f,r),u=".priority"===o?l.updatePriority(c.getNode(),r):l.updateChild(c.getNode(),o,r,f,FE,null)}return qE(e,t=cE(t,u,c.isFullyInitialized()||Dx(n),l.filtersNodes()),n,i,new UE(i,t,a),s)}function BE(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new UE(i,t,a);if(Dx(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=uE(t,u,!0,e.filter.filtersNodes());else if(".priority"===(a=Sx(n)))u=e.filter.updatePriority(t.eventCache.getNode(),r),s=uE(t,u,c.isFullyInitialized(),c.isFiltered());else{n=Ax(n);var f,h=c.getNode().getImmediateChild(a);if(Dx(n))f=r;else{var d=l.getCompleteChild(a);f=null!=d?".priority"===Nx(n)&&d.getChild(Ox(n)).isEmpty()?d:d.updateChild(n,r):vT.EMPTY_NODE}s=h.equals(f)?t:uE(t,e.filter.updateChild(c.getNode(),a,f,n,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}return s}function zE(e,t){return e.eventCache.isCompleteForChild(t)}function WE(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function KE(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Dx(n)?r:new hE(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){l.hasChild(n)&&(r=WE(0,t.serverCache.getNode().getImmediateChild(n),r),c=VE(e,c,new Ex(n),r,i,a,o,s))})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;l.hasChild(n)||u||(r=WE(0,t.serverCache.getNode().getImmediateChild(n),r),c=VE(e,c,new Ex(n),r,i,a,o,s))})),c}var HE,GE=function(){function e(t,n){k(this,e),this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new RT(r.getIndex()),a=(t=r).loadsAllData()?new RT(t.getIndex()):new(t.hasLimit()?LT:DT)(t);this.processor_={filter:a};var o=n.serverCache,s=n.eventCache;t=i.updateFullNode(vT.EMPTY_NODE,o.getNode(),null),n=a.updateFullNode(vT.EMPTY_NODE,s.getNode(),null),t=new rE(t,o.isFullyInitialized(),i.filtersNodes()),n=new rE(n,s.isFullyInitialized(),a.filtersNodes()),this.viewCache_=sE(n,t),this.eventGenerator_=new iE(this.query_)}return w(e,[{key:"query",get:function(){return this.query_}}]),e}();function QE(e){return 0===e.eventRegistrations_.length}function $E(e,t,n){var r=[];if(n){vh(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){(e=e.createCancelEvent(n,i))&&r.push(e)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function YE(e,t,n,r){t.type===k_.MERGE&&null!==t.source.queryId&&(vh(fE(e.viewCache_),"We should always have a full cache before handling merges"),vh(lE(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,a=jE(e.processor_,i,t,n,r);return n=e.processor_,r=a.viewCache,vh(r.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),vh(r.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed"),vh(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,JE(e,a.changes,a.viewCache.eventCache.getNode(),null)}function JE(e,t,n,r){return r=r?[r]:e.eventRegistrations_,aE(e.eventGenerator_,t,n,r)}var XE,ZE=function e(){k(this,e),this.views=new Map};function eI(e,t,n,r){var i=t.source.queryId;if(null!==i)return i=e.views.get(i),vh(null!=i,"SyncTree gave us an op for an invalid query."),YE(i,t,n,r);var a,o=[],s=d(e.views.values());try{for(s.s();!(a=s.n()).done;){var u=a.value;o=o.concat(YE(u,t,n,r))}}catch(c){s.e(c)}finally{s.f()}return o}function tI(e,t,n,r,i){var a=t._queryIdentifier;if(a=e.views.get(a))return a;var o=CE(n,i?r:null),s=!1;return s=!!o||(o=r instanceof vT?AE(n,r):vT.EMPTY_NODE,!1),i=sE(new rE(o,s,!1),new rE(r,i,!1)),new GE(t,i)}function nI(e,t,n,r,i,a){return a=tI(e,t,r,i,a),e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),a.eventRegistrations_.push(n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(uT,(function(e,t){r.push(NT(e,t))})),n.isFullyInitialized()&&r.push(AT(n.getNode())),JE(e,r,n.getNode(),t)}(a,n)}function rI(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=uI(e);if("default"===i){var u,c=d(e.views.entries());try{for(c.s();!(u=c.n()).done;){var l=p(u.value,2),f=l[0],h=l[1];o=o.concat($E(h,n,r)),QE(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(y){c.e(y)}finally{c.f()}}else{var v=e.views.get(i);v&&(o=o.concat($E(v,n,r)),QE(v)&&(e.views.delete(i),v.query._queryParams.loadsAllData()||a.push(v.query)))}return s&&!uI(e)&&a.push((vh(HE,"Reference.ts has not been loaded"),new HE(t._repo,t._path))),{removed:a,events:o}}function iI(e){var t,n=[],r=d(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function aI(e,t){var n,r=null,i=d(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||function(e,t){var n=fE(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Dx(t)&&!n.getImmediateChild(Sx(t)).isEmpty())?n.getChild(t):null}(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function oI(e,t){return t._queryParams.loadsAllData()?cI(e):(t=t._queryIdentifier,e.views.get(t))}function sI(e,t){return null!=oI(e,t)}function uI(e){return null!=cI(e)}function cI(e){var t,n=d(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var lI=1,fI=function e(t){k(this,e),this.listenProvider_=t,this.syncPointTree_=new hE(null),this.pendingWriteTree_={visibleWrites:dE.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function hI(e,t,n,r,i){var a,o,s,u;return a=e.pendingWriteTree_,o=t,s=n,u=r,r=i,vh(u>a.lastWriteId,"Stacking an older write on top of newer ones"),a.allWrites.push({path:o,snap:s,writeId:u,visible:r=void 0===r||r}),r&&(a.visibleWrites=pE(a.visibleWrites,o,s)),a.lastWriteId=u,i?wI(e,new tE($T(),t,n)):[]}function dI(e,t,n,r){var i,a,o;return i=e.pendingWriteTree_,a=t,o=n,vh((r=r)>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:a,children:o,writeId:r,visible:!0}),i.visibleWrites=vE(i.visibleWrites,a,o),i.lastWriteId=r,n=hE.fromObject(n),wI(e,new nE($T(),t,n))}function pI(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(TE(e.pendingWriteTree_,t)){var i=new hE(null);return null!=r.snap?i=i.set(Ix(),!0):$_(r.children,(function(e){i=i.set(new Ex(e),!0)})),wI(e,new ZT(r.path,i,n))}return[]}function vI(e,t,n){return wI(e,new tE(YT(),t,n))}function yI(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||sI(a,t))){n=rI(a,t,n,r),0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var s=n.removed;if(o=n.events,a=-1!==s.findIndex((function(e){return e._queryParams.loadsAllData()})),n=e.syncPointTree_.findOnPath(i,(function(e,t){return uI(t)})),a&&!n){var u=e.syncPointTree_.subtree(i);if(!u.isEmpty())for(var c=u.fold((function(e,t,n){if(t&&uI(t))return[cI(t)];var r=[];return t&&(r=iI(t)),$_(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=(h=c[l]).query,h=_I(e,h);e.listenProvider_.startListening(CI(f),xI(e,f),h.hashFn,h.onComplete)}}!n&&0<s.length&&!r&&(a?e.listenProvider_.stopListening(CI(t),null):s.forEach((function(t){var n=e.queryToTagMap.get(TI(t));e.listenProvider_.stopListening(CI(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r,i,a=t[n];a._queryParams.loadsAllData()||(r=TI(a),i=e.queryToTagMap.get(r),e.queryToTagMap.delete(r),e.tagToQueryMap.delete(i))}}(e,s)}return o}function gI(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){e=Lx(e,r),i=i||aI(t,e),a=a||uI(t)}));var o,s=e.syncPointTree_.get(r);s?(a=a||uI(s),i=i||aI(s,Ix())):(s=new ZE,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i?o=!0:(o=!1,i=vT.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){(t=aI(t,Ix()))&&(i=i.updateImmediateChild(e,t))})));var u,c=sI(s,t);c||t._queryParams.loadsAllData()||(l=TI(t),vh(!e.queryToTagMap.has(l),"View does not exist, but we have a tag"),u=lI++,e.queryToTagMap.set(l,u),e.tagToQueryMap.set(u,l));var l=xE(e.pendingWriteTree_,r),f=nI(s,t,n,l,i,o);return c||a||(c=oI(s,t),f=f.concat(function(e,t,n){var r=t._path,i=xI(e,t),a=_I(e,n),o=e.listenProvider_.startListening(CI(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)vh(!uI(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Dx(e)&&t&&uI(t))return[cI(t).query];var r=[];return t&&(r=r.concat(iI(t).map((function(e){return e.query})))),$_(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(CI(l),xI(e,l))}return o}(e,t,c))),f}function mI(e,t,n){var r=e.pendingWriteTree_;return e=e.syncPointTree_.findOnPath(t,(function(e,n){if(e=aI(n,Lx(e,t)))return e})),SE(r,t,e,n,!0)}function kI(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){e=Lx(e,n),r=r||aI(t,e)}));var i=e.syncPointTree_.get(n);i?r=r||aI(i,Ix()):(i=new ZE,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new rE(r,!0,!1):null;return lE(tI(i,t,e=xE(e.pendingWriteTree_,t._path),a?o.getNode():vT.EMPTY_NODE,a).viewCache_)}function wI(e,t){return function e(t,n,r,i){if(Dx(t.path))return bI(t,n,r,i);var a=n.get(Ix());null==r&&null!=a&&(r=aI(a,Ix()));var o=[],s=Sx(t.path),u=t.operationForChild(s),c=n.children.get(s);if(c&&u){var l=r?r.getImmediateChild(s):null,f=DE(i,s);o=o.concat(e(u,c,l,f))}return a&&(o=o.concat(eI(a,t,i,r))),o}(t,e.syncPointTree_,null,xE(e.pendingWriteTree_,Ix()))}function bI(e,t,n,r){var i=t.get(Ix());null==n&&null!=i&&(n=aI(i,Ix()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=DE(r,t);(t=e.operationForChild(t))&&(a=a.concat(bI(t,i,o,s)))})),i&&(a=a.concat(eI(i,e,r,n))),a}function _I(e,t){var n=t.query,r=xI(e,n);return{hashFn:function(){return(t.viewCache_.serverCache.getNode()||vT.EMPTY_NODE).hash()},onComplete:function(t){return"ok"===t?r?function(e,t,n){var r=EI(e,n);return r?(r=(n=II(r)).path,n=n.queryId,t=Lx(r,t),SI(e,r,new eE(JT(n),t))):[]}(e,n._path,r):(i=e,a=n._path,wI(i,new eE(YT(),a))):(t=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n),yI(e,n,null,t));var i,a}}}function xI(e,t){return t=TI(t),e.queryToTagMap.get(t)}function TI(e){return e._path.toString()+"$"+e._queryIdentifier}function EI(e,t){return e.tagToQueryMap.get(t)}function II(e){var t=e.indexOf("$");return vh(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ex(e.substr(0,t))}}function SI(e,t,n){var r=e.syncPointTree_.get(t);return vh(r,"Missing sync point for query tag that we're tracking"),eI(r,n,xE(e.pendingWriteTree_,t),null)}function CI(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?(vh(XE,"Reference.ts has not been loaded"),new XE(e._repo,e._path)):e}var AI=function(){function e(t){k(this,e),this.node_=t}return w(e,[{key:"getImmediateChild",value:function(t){return new e(t=this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),NI=function(){function e(t,n){k(this,e),this.syncTree_=t,this.path_=n}return w(e,[{key:"getImmediateChild",value:function(t){return t=Rx(this.path_,t),new e(this.syncTree_,t)}},{key:"node",value:function(){return mI(this.syncTree_,this.path_)}}]),e}();function PI(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}function OI(e,t,n){return e&&"object"==typeof e?(vh(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?RI(e[".sv"],t,n):"object"==typeof e[".sv"]?DI(e[".sv"],t):void vh(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e}var RI=function(e,t,n){if("timestamp"===e)return n.timestamp;vh(!1,"Unexpected server value: "+e)},DI=function(e,t,n){e.hasOwnProperty("increment")||vh(!1,"Unexpected server value: "+JSON.stringify(e,null,2)),"number"!=typeof(e=e.increment)&&vh(!1,"Unexpected increment value: "+e);var r=t.node();return vh(null!==r&&void 0!==r,"Expected ChildrenNode.EMPTY_NODE for nulls"),r.isLeafNode()?"number"!=typeof(t=r.getValue())?e:t+e:e},LI=function(e,t,n,r){return FI(t,new NI(n,e),r)},MI=function(e,t,n){return FI(e,new AI(t),n)};function FI(e,t,n){var r,i=e.getPriority().val(),a=OI(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e;return(i=OI(o.getValue(),t,n))!==o.getValue()||a!==o.getPriority().val()?new oT(i,kT(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new oT(a))),s.forEachChild(uT,(function(e,i){var a=FI(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var UI=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};k(this,e),this.name=t,this.parent=n,this.node=r};function jI(e,t){for(var n=t instanceof Ex?t:new Ex(t),r=e,i=Sx(n);null!==i;){var a=qh(r.node.children,i)||{children:{},childCount:0};r=new UI(i,r,a),i=Sx(n=Ax(n))}return r}function qI(e){return e.node.value}function VI(e,t){e.node.value=t,KI(e)}function BI(e){return 0<e.node.childCount}function zI(e,t){$_(e.node.children,(function(n,r){t(new UI(n,e,r))}))}function WI(e){return new Ex(null===e.parent?e.name:WI(e.parent)+"/"+e.name)}function KI(e){var t,n,r,i;null!==e.parent&&(t=e.parent,n=e.name,i=function(e){return void 0===qI(e)&&!BI(e)}(r=e),e=jh(t.node.children,n),i&&e?(delete t.node.children[n],t.node.childCount--,KI(t)):i||e||(t.node.children[n]=r.node,t.node.childCount++,KI(t)))}function HI(e,t,n,r){r&&void 0===t||aS(Zh(e,"value"),t,n)}function GI(e,t,n,r){if(!r||void 0!==t){var i=Zh(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];$_(t,(function(e,t){var r=new Ex(e);if(aS(i,t,Rx(n,r)),".priority"===Nx(r)&&!iS(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Px(r=t[n]),a=0;a<i.length;a++)if((".priority"!==i[a]||a!==i.length-1)&&!tS(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Mx);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Ux(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}}function QI(e,t,n){if(!n||void 0!==t){if(K_(t))throw new Error(Zh(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!iS(t))throw new Error(Zh(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function $I(e,t,n,r){if(!(r&&void 0===n||tS(n)))throw new Error(Zh(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function YI(e,t,n,r){n=n&&n.replace(/^\/*\.info(\/|$)/,"/"),oS(e,t,n,r)}function JI(e,t){if(".info"===Sx(t))throw new Error(e+" failed = Can't modify data under /.info/")}var XI=/[\[\].#$\/\u0000-\u001F\u007F]/,ZI=/[\[\].#$\u0000-\u001F\u007F]/,eS=10485760,tS=function(e){return"string"==typeof e&&0!==e.length&&!XI.test(e)},nS=function(e){return"string"==typeof e&&0!==e.length&&!ZI.test(e)},rS=function(e){return e=e&&e.replace(/^\/*\.info(\/|$)/,"/"),nS(e)},iS=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!K_(e)||e&&"object"==typeof e&&jh(e,".sv")},aS=function e(t,n,r){var i=r instanceof Ex?new jx(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Vx(i));if("function"==typeof n)throw new Error(t+"contains a function "+Vx(i)+" with contents = "+n.toString());if(K_(n))throw new Error(t+"contains "+n.toString()+" "+Vx(i));if("string"==typeof n&&n.length>eS/3&&nd(n)>eS)throw new Error(t+"contains a string greater than "+eS+" utf8 bytes "+Vx(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,o=!1;if($_(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!tS(n)))throw new Error(t+" contains an invalid key ("+n+") "+Vx(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s;n=n,0<(s=i).parts_.length&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=nd(n),qx(s),e(t,r,i),r=(s=i).parts_.pop(),s.byteLength_-=nd(r),0<s.parts_.length&&--s.byteLength_})),a&&o)throw new Error(t+' contains ".value" child '+Vx(i)+" in addition to actual children.")}},oS=function(e,t,n,r){if(!(r&&void 0===n||nS(n)))throw new Error(Zh(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sS=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!tS(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!rS(n))throw new Error(Zh(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},uS=function e(){k(this,e),this.eventLists_=[],this.recursionDepth_=0};function cS(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Fx(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function lS(e,t,n){cS(e,n),hS(e,(function(e){return Fx(e,t)}))}function fS(e,t,n){cS(e,n),hS(e,(function(e){return Ux(e,t)||Ux(t,e)}))}function hS(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(var t=0;t<e.events.length;t++){var n,r=e.events[t];null!==r&&(e.events[t]=null,n=r.getEventRunner(),O_&&V_("event: "+r.toString()),nx(n))}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}var dS="repo_interrupt",pS=25,vS=function(){function e(t,n,r,i){k(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=WT(),this.transactionQueueTree_=new UI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return w(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function yS(e,t,n){if(e.stats_=px(e.repoInfo_),e.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))e.server_=new BT(e.repoInfo_,(function(t,n,r,i){kS(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return wS(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fh(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}e.persistentConnection_=new zx(e.repoInfo_,t,(function(t,n,r,i){kS(e,t,n,r,i)}),(function(t){wS(e,t)}),(function(t){var n;n=e,$_(t,(function(e,t){bS(n,e,t)}))}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(n=function(){return new QT(e.stats_,e.server_)},t=(t=e.repoInfo_).toString(),dx[t]||(dx[t]=n()),dx[t]),e.infoData_=new zT,e.infoSyncTree_=new fI({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=vI(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),bS(e,"connected",!1),e.serverSyncTree_=new fI({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){r=i(n,r),fS(e.eventQueue_,t._path,r)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function gS(e){var t=e.infoData_.getNode(new Ex(".info/serverTimeOffset"));return e=t.val()||0,(new Date).getTime()+e}function mS(e){return PI({timestamp:gS(e)})}function kS(e,t,n,r,i){e.dataUpdateCount++;var a,o,s,u=new Ex(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var c=[];c=i?r?(a=Bh(n,(function(e){return kT(e)})),function(e,t,n,r){var i=EI(e,r);return i?(i=(r=II(i)).path,r=r.queryId,t=Lx(i,t),n=hE.fromObject(n),SI(e,i,new nE(JT(r),t,n))):[]}(e.serverSyncTree_,u,a,i)):(o=u,s=t=kT(n),null==(i=EI(a=e.serverSyncTree_,t=i))?[]:(i=(t=II(i)).path,t=t.queryId,o=Lx(i,o),SI(a,i,new tE(JT(t),o,s)))):r?(o=Bh(n,(function(e){return kT(e)})),s=e.serverSyncTree_,r=u,o=o,o=hE.fromObject(o),wI(s,new nE(YT(),r,o))):(n=kT(n),vI(e.serverSyncTree_,u,n));var l=u;0<c.length&&(l=OS(e,u)),fS(e.eventQueue_,l,c)}function wS(e,t){bS(e,"connected",t),!1===t&&function(e){CS(e,"onDisconnectEvents");var t=mS(e),n=WT();HT(e.onDisconnect_,Ix(),(function(r,i){i=LI(r,i,e.serverSyncTree_,t),KT(n,r,i)}));var r=[];HT(n,Ix(),(function(t,n){r=r.concat(vI(e.serverSyncTree_,t,n)),t=MS(e,t),OS(e,t)})),e.onDisconnect_=WT(),fS(e.eventQueue_,Ix(),r)}(e)}function bS(e,t,n){t=new Ex("/.info/"+t),n=kT(n),e.infoData_.updateSnapshot(t,n),n=vI(e.infoSyncTree_,t,n),fS(e.eventQueue_,t,n)}function _S(e){return e.nextWriteId_++}function xS(e,t,n,r,i){CS(e,"set",{path:t.toString(),value:n,priority:r});var a=mS(e),o=kT(n,r);r=mI(e.serverSyncTree_,t),a=MI(o,r,a);var s=_S(e);a=hI(e.serverSyncTree_,t,a,s,!0),cS(e.eventQueue_,a),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||z_("set at "+t+" failed: "+n),a=pI(e.serverSyncTree_,s,!a),fS(e.eventQueue_,t,a),AS(0,i,n,r)})),a=MS(e,t),OS(e,a),fS(e.eventQueue_,a,[])}function TS(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(Dx(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(uT,(function(e,n){KT(t,new Ex(e),n)})),e(t,n)}if(0<t.children.size){var i=Sx(n);return n=Ax(n),t.children.has(i)&&e(t.children.get(i),n)&&t.children.delete(i),0===t.children.size}return!0}(e.onDisconnect_,t),AS(0,n,r,i)}))}function ES(e,t,n,r){var i=kT(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&KT(e.onDisconnect_,t,i),AS(0,r,n,a)}))}function IS(e,t,n){var r;r=".info"===Sx(t._path)?yI(e.infoSyncTree_,t,n):yI(e.serverSyncTree_,t,n),lS(e.eventQueue_,t._path,r)}function SS(e){e.persistentConnection_&&e.persistentConnection_.interrupt(dS)}function CS(e){for(var t="",n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.persistentConnection_&&(t=e.persistentConnection_.id+":"),V_.apply(void 0,[t].concat(r))}function AS(e,t,n,r){t&&nx((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function NS(e,t,n){return mI(e.serverSyncTree_,t,n)||vT.EMPTY_NODE}function PS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||LS(e,t),qI(t)){var n=DS(e,t);vh(0<n.length,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=NS(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];vh(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Lx(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){CS(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(pI(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);LS(e,jI(e.transactionQueueTree_,t)),PS(e,e.transactionQueueTree_),fS(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)nx(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{z_("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}OS(e,t)}}),o)}(e,WI(t),n)}else BI(t)&&zI(t,(function(t){PS(e,t)}))}function OS(e,t){var n=RS(e,t);return t=WI(n),function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s=t[a];c=Lx(n,s.path);var u=!1,f=void 0;if(vh(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)u=!0,f=s.abortReason,i=i.concat(pI(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=pS)u=!0,f="maxretry",i=i.concat(pI(e.serverSyncTree_,s.currentWriteId,!0));else{var h=NS(e,s.path,o);if(s.currentInputSnapshot=h,void 0!==(l=t[a].update(h.val()))){aS("transaction failed: Data returned ",l,s.path);var d=kT(l);"object"==typeof l&&null!=l&&jh(l,".priority")||(d=d.updatePriority(h.getPriority())),c=s.currentWriteId,l=mS(e),l=MI(d,h,l),s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=l,s.currentWriteId=_S(e),o.splice(o.indexOf(c),1),i=(i=i.concat(hI(e.serverSyncTree_,s.path,l,s.currentWriteId,s.applyLocally))).concat(pI(e.serverSyncTree_,c,!0))}else u=!0,f="nodata",i=i.concat(pI(e.serverSyncTree_,s.currentWriteId,!0))}fS(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++){var c,l;s(u)}LS(e,e.transactionQueueTree_);for(var f=0;f<r.length;f++)nx(r[f]);PS(e,e.transactionQueueTree_)}}(e,DS(e,n),t),t}function RS(e,t){var n,r=e.transactionQueueTree_;for(n=Sx(t);null!==n&&void 0===qI(r);)r=jI(r,n),n=Sx(t=Ax(t));return r}function DS(e,t){var n=[];return function e(t,n,r){var i=qI(n);if(i)for(var a=0;a<i.length;a++)r.push(i[a]);zI(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function LS(e,t){var n=qI(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,VI(t,0<n.length?n:void 0)}zI(t,(function(t){LS(e,t)}))}function MS(e,t){var n=WI(RS(e,t));return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return;r=r.parent}}(t=jI(e.transactionQueueTree_,t),(function(t){FS(e,t)})),FS(e,t),function e(t,n,r,i){r&&!i&&n(t),zI(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(t,(function(t){FS(e,t)})),n}function FS(e,t){var n=qI(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(vh(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(vh(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(pI(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?VI(t,void 0):n.length=a+1,fS(e.eventQueue_,WI(t),i);for(var s=0;s<r.length;s++)nx(r[s])}}var US=function(e,t){var n=jS(e),r=n.namespace;return"firebase.com"===n.domain&&B_(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||B_("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||W_(),e="ws"===n.scheme||"wss"===n.scheme,{repoInfo:new cx(n.host,n.secure,r,t,e,"",r!==n.subdomain),path:new Ex(n.pathString)}},jS=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"==typeof e){var c=e.indexOf("//");0<=c&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t,n={},r=d((e="?"===e.charAt(0)?e.substring(1):e).split("&"));try{for(r.s();!(t=r.n()).done;){var i,a=t.value;0!==a.length&&(2===(i=a.split("=")).length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):z_("Invalid query segment '".concat(a,"' in query '").concat(e,"'")))}}catch(o){r.e(o)}finally{r.f()}return n}(e.substring(Math.min(e.length,f)));0<=(c=t.indexOf(":"))?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);"localhost"===p.toLowerCase()?n="localhost":p.split(".").length<=2?n=p:(e=t.indexOf("."),r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),a=r),"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},qS=function(){function e(t,n,r,i){k(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return w(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return("value"===this.eventType?e:e.parent)._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Fh(this.snapshot.exportVal())}}]),e}(),VS=function(){function e(t,n,r){k(this,e),this.eventRegistration=t,this.error=n,this.path=r}return w(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),BS=function(){function e(t,n){k(this,e),this.snapshotCallback=t,this.cancelCallback=n}return w(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return vh(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),zS=function(){function e(t,n){k(this,e),this._repo=t,this._path=n}return w(e,[{key:"cancel",value:function(){var e=new bh;return TS(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){JI("OnDisconnect.remove",this._path);var e=new bh;return ES(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){JI("OnDisconnect.set",this._path),HI("OnDisconnect.set",e,this._path,!1);var t=new bh;return ES(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){JI("OnDisconnect.setWithPriority",this._path),HI("OnDisconnect.setWithPriority",e,this._path,!1),QI("OnDisconnect.setWithPriority",t,!1);var n=new bh;return function(e,t,n,r,i){var a=kT(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&KT(e.onDisconnect_,t,a),AS(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){JI("OnDisconnect.update",this._path),GI("OnDisconnect.update",e,this._path,!1);var t=new bh;return function(e,t,n,r){if(Vh(n))return V_("onDisconnect().update() called with empty data.  Don't do anything."),AS(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&$_(n,(function(n,r){r=kT(r),KT(e.onDisconnect_,Rx(t,n),r)})),AS(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),WS=function(){function e(t,n,r,i){k(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return w(e,[{key:"key",get:function(){return Dx(this._path)?null:Nx(this._path)}},{key:"ref",get:function(){return new QS(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e;return"{}"===(e=U_(e=VT(this._queryParams)))?"default":e}},{key:"_queryObject",get:function(){return VT(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ud(t))instanceof e))return!1;var n=this._repo===t._repo,r=Fx(this._path,t._path);return t=this._queryIdentifier===t._queryIdentifier,n&&r&&t}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function KS(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function HS(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Qx){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==H_)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==G_)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===uT){if(null!=t&&!iS(t)||null!=n&&!iS(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(vh(e.getIndex()instanceof wT||e.getIndex()===xT,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function GS(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var QS=function(e){y(n,e);var t=g(n);function n(e,r){return k(this,n),t.call(this,e,r,new MT,!1)}return w(n,[{key:"parent",get:function(){var e=Ox(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(WS),$S=function(){function e(t,n,r){k(this,e),this._node=t,this.ref=n,this._index=r}return w(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Ex(t);return t=XS(this.ref,t),new e(this._node.getChild(n),t,uT)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,XS(n.ref,r),uT))}))}},{key:"hasChild",value:function(e){return e=new Ex(e),!this._node.getChild(e).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function YS(e,t){return(e=ud(e))._checkNotDeleted("ref"),void 0!==t?XS(e._root,t):e._root}function JS(e,t){(e=ud(e))._checkNotDeleted("refFromURL");var n=US(t,e._repo.repoInfo_.nodeAdmin);return sS("refFromURL",n),t=n.repoInfo,e._repo.repoInfo_.isCustomHost()||t.host===e._repo.repoInfo_.host||B_("refFromURL: Host name does not match the current database: (found "+t.host+" but expected "+e._repo.repoInfo_.host+")"),YS(e,n.path.toString())}function XS(e,t){return(null===Sx((e=ud(e))._path)?YI:oS)("child","path",t,!1),new QS(e._repo,Rx(e._path,t))}function ZS(e,t){JI("set",(e=ud(e))._path),HI("set",t,e._path,!1);var n=new bh;return xS(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function eC(e,t){GI("update",t,e._path,!1);var n=new bh;return function(e,t,n,r){CS(e,"update",{path:t.toString(),value:n});var i=!0,a=mS(e),o={};if($_(n,(function(n,r){i=!1,o[n]=LI(Rx(t,n),kT(r),e.serverSyncTree_,a)})),i)V_("update() called with empty data.  Don't do anything."),AS(0,r,"ok",void 0);else{var s=_S(e),u=dI(e.serverSyncTree_,t,o,s);cS(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){(o="ok"===n)||z_("update at "+t+" failed: "+n);var a=pI(e.serverSyncTree_,s,!o),o=0<a.length?OS(e,t):t;fS(e.eventQueue_,o,a),AS(0,r,n,i)})),$_(n,(function(n){n=MS(e,Rx(t,n)),OS(e,n)})),fS(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function tC(e){return e=ud(e),t=e._repo,n=e,(null!=(r=kI(t.serverSyncTree_,n))?Promise.resolve(r):t.server_.get(n).then((function(e){var r=kT(e).withIndex(n._queryParams.getIndex());return e=vI(t.serverSyncTree_,n._path,r),lS(t.eventQueue_,n._path,e),Promise.resolve(r)}),(function(e){return CS(t,"get for query "+Fh(n)+" failed: "+e),Promise.reject(new Error(e))}))).then((function(t){return new $S(t,new QS(e._repo,e._path),e._queryParams.getIndex())}));var t,n,r}var nC=function(){function e(t){k(this,e),this.callbackContext=t}return w(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new qS("value",this,new $S(e.snapshotNode,new QS(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new VS(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),rC=function(){function e(t,n){k(this,e),this.eventType=t,this.callbackContext=n}return w(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new VS(this,e,t):null}},{key:"createEvent",value:function(e,t){vh(null!=e.childName,"Child events should have a childName.");var n=XS(new QS(t._repo,t._path),e.childName);return t=t._queryParams.getIndex(),new qS(e.type,this,new $S(e.snapshotNode,n,t),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function iC(e,t,n,r,i){var a;if("object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce){var o=n;i=function(t,n){IS(e._repo,e,s),o(t,n)},i.userCallback=n.userCallback,i.context=n.context,n=i}n=new BS(n,a||void 0);var s="value"===t?new nC(n):new rC(t,n);return function(e,t,n){var r;r=".info"===Sx(t._path)?gI(e.infoSyncTree_,t,n):gI(e.serverSyncTree_,t,n),lS(e.eventQueue_,t._path,r)}(e._repo,e,s),function(){return IS(e._repo,e,s)}}function aC(e,t,n,r){return iC(e,"value",t,n,r)}function oC(e,t,n,r){return iC(e,"child_added",t,n,r)}function sC(e,t,n,r){return iC(e,"child_changed",t,n,r)}function uC(e,t,n,r){return iC(e,"child_moved",t,n,r)}function cC(e,t,n,r){return iC(e,"child_removed",t,n,r)}function lC(e,t,n){var r=null;n=n?new BS(n):null,"value"===t?r=new nC(n):t&&(r=new rC(t,n)),IS(e._repo,e,r)}var fC=function e(){k(this,e)},hC=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this))._value=e,i._key=r,i}return w(n,[{key:"_apply",value:function(e){HI("endAt",this._value,e._path,!0);var t=UT(e._queryParams,this._value,this._key);if(GS(t),HS(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new WS(e._repo,e._path,t,e._orderByCalled)}}]),n}(fC),dC=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this))._value=e,i._key=r,i}return w(n,[{key:"_apply",value:function(e){HI("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===Qx?UT(e,t="string"==typeof t?_T(t):t,n):UT(e,t,null==n?H_:_T(n))).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(GS(t),HS(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new WS(e._repo,e._path,t,e._orderByCalled)}}]),n}(fC),pC=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this))._value=e,i._key=r,i}return w(n,[{key:"_apply",value:function(e){HI("startAt",this._value,e._path,!0);var t=FT(e._queryParams,this._value,this._key);if(GS(t),HS(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new WS(e._repo,e._path,t,e._orderByCalled)}}]),n}(fC),vC=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this))._value=e,i._key=r,i}return w(n,[{key:"_apply",value:function(e){HI("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Qx?("string"==typeof t&&(t=bT(t)),r=FT(e,t,n)):r=FT(e,t,null==n?G_:bT(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(GS(t),HS(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new WS(e._repo,e._path,t,e._orderByCalled)}}]),n}(fC),yC=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this))._limit=e,r}return w(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new WS(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(fC),gC=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this))._limit=e,r}return w(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new WS(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(fC),mC=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this))._path=e,r}return w(n,[{key:"_apply",value:function(e){KS(e,"orderByChild");var t=new Ex(this._path);if(Dx(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");return t=new wT(t),HS(t=jT(e._queryParams,t)),new WS(e._repo,e._path,t,!0)}}]),n}(fC),kC=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"_apply",value:function(e){KS(e,"orderByKey");var t=jT(e._queryParams,Qx);return HS(t),new WS(e._repo,e._path,t,!0)}}]),n}(fC),wC=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"_apply",value:function(e){KS(e,"orderByPriority");var t=jT(e._queryParams,uT);return HS(t),new WS(e._repo,e._path,t,!0)}}]),n}(fC),bC=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"_apply",value:function(e){KS(e,"orderByValue");var t=jT(e._queryParams,xT);return HS(t),new WS(e._repo,e._path,t,!0)}}]),n}(fC),_C=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this))._value=e,i._key=r,i}return w(n,[{key:"_apply",value:function(e){if(HI("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new hC(this._value,this._key)._apply(new pC(this._value,this._key)._apply(e))}}]),n}(fC);function xC(e){for(var t=ud(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++)t=o[a]._apply(t);return t}w_=QS,vh(!HE,"__referenceConstructor has already been defined"),HE=w_,b_=QS,vh(!XE,"__referenceConstructor has already been defined"),XE=b_;var TC="FIREBASE_DATABASE_EMULATOR_HOST",EC={},IC=!1;function SC(e,t,n,i,a){var o=i||e.options.databaseURL;void 0===o&&(e.options.projectId||B_("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),V_("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var s,u=US(o,a),c=u.repoInfo,l=void 0;return"undefined"!=typeof r&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"/netflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})[TC]),l?(s=!0,o="http://".concat(l,"?ns=").concat(c.namespace),c=(u=US(o,a)).repoInfo):s=!u.repoInfo.secure,t=a&&s?new ax(ax.OWNER):new ix(e.name,e.options,t),sS("Invalid Firebase Database URL",u),Dx(u.path)||B_("Database URL must point to the root of a Firebase Database (not including a child path)."),n=function(e,t,n,r){var i=EC[t.name];return i||(i={},EC[t.name]=i),(t=i[e.toURLString()])&&B_("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),t=new vS(e,IC,n,r),i[e.toURLString()]=t}(c,e,t,new rx(e.name,n)),new CC(n,e)}var CC=function(){function e(t,n){k(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return w(e,[{key:"_repo",get:function(){return this._instanceStarted||(yS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new QS(this._repo,Ix())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(function(e,t){var n=EC[t];n&&n[e.key]===e||B_("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),SS(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&B_("Cannot call "+e+" on a deleted database.")}}]),e}();function AC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=ud(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&B_("Cannot call useEmulator() after instance has already been initialized.");var i,a=e._repoInternal,o=void 0;a.repoInfo_.nodeAdmin?(r.mockUserToken&&B_('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ax(ax.OWNER)):r.mockUserToken&&(i="string"==typeof r.mockUserToken?r.mockUserToken:_h(r.mockUserToken,e.app.options.projectId),o=new ax(i)),i=a,a=t,t=n,n=o,i.repoInfo_=new cx("".concat(a,":").concat(t),!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),n&&(i.authTokenProvider_=n)}function NC(e){(e=ud(e))._checkNotDeleted("goOnline"),(e=e._repo).persistentConnection_&&e.persistentConnection_.resume(dS)}function PC(e,t){q_(e,t)}var OC={".sv":"timestamp"},RC=function(){function e(t,n){k(this,e),this.committed=t,this.snapshot=n}return w(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function DC(e,t,n){if(JI("Reference.transaction",(e=ud(e))._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";n=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i;var r=new bh,i=aC(e,(function(){}));return function(e,t,n,r,i,a){CS(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:N_(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=NS(e,t,void 0);if(o.currentInputSnapshot=s,void 0===(a=o.update(s.val())))o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{aS("transaction failed: Data returned ",a,o.path),o.status=0;var u,c=qI(i=jI(e.transactionQueueTree_,t))||[];c.push(o),VI(i,c),"object"==typeof a&&null!==a&&jh(a,".priority")?(u=qh(a,".priority"),vh(iS(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):u=(mI(e.serverSyncTree_,t)||vT.EMPTY_NODE).getPriority().val(),i=mS(e),a=kT(a,u),i=MI(a,s,i),o.currentOutputSnapshotRaw=a,o.currentOutputSnapshotResolved=i,o.currentWriteId=_S(e),i=hI(e.serverSyncTree_,t,i,o.currentWriteId,o.applyLocally),fS(e.eventQueue_,t,i),PS(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,i){var a;t?r.reject(t):(a=new $S(i,new QS(e._repo,e._path),uT),r.resolve(new RC(n,a)))}),i,n),r.promise}function LC(e){e="FIREBASE WARNING: "+e,MC.warn(e)}zx.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},zx.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},m_(zd),jd(new vd("database",(function(e,t){var n=t.instanceIdentifier;return SC(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Qd("@firebase/database","0.12.1",__);var MC=new Ad("@firebase/database-compat"),FC=function(){function e(t){k(this,e),this._delegate=t}return w(e,[{key:"cancel",value:function(e){Xh("OnDisconnect.cancel",0,1,arguments.length),ed("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Xh("OnDisconnect.remove",0,1,arguments.length),ed("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Xh("OnDisconnect.set",1,2,arguments.length),ed("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Xh("OnDisconnect.setWithPriority",2,3,arguments.length),ed("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Xh("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,LC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ed("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),UC=function(){function e(t,n){k(this,e),this.committed=t,this.snapshot=n}return w(e,[{key:"toJSON",value:function(){return Xh("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),jC=function(){function e(t,n){k(this,e),this._database=t,this._delegate=n}return w(e,[{key:"val",value:function(){return Xh("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Xh("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Xh("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Xh("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Xh("DataSnapshot.child",0,1,arguments.length),t=String(t),oS("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Xh("DataSnapshot.hasChild",1,1,arguments.length),oS("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Xh("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Xh("DataSnapshot.forEach",1,1,arguments.length),ed("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Xh("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Xh("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Xh("DataSnapshot.ref",0,0,arguments.length),new VC(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),qC=function(){function e(t,n){k(this,e),this.database=t,this._delegate=n}return w(e,[{key:"on",value:function(t,n,r,i){var a=this;Xh("Query.on",2,4,arguments.length),ed("Query.on","callback",n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i),s=function(e,t){n.call(o.context,new jC(a.database,e),t)};s.userCallback=n,s.context=o.context;var u=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(t){case"value":return aC(this._delegate,s,u),n;case"child_added":return oC(this._delegate,s,u),n;case"child_removed":return cC(this._delegate,s,u),n;case"child_changed":return sC(this._delegate,s,u),n;case"child_moved":return uC(this._delegate,s,u),n;default:throw new Error(Zh("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){var r;Xh("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Zh(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e),ed("Query.off","callback",t,!0),td("Query.off","context",n,!0),t?((r=function(){}).userCallback=t,r.context=n,lC(this._delegate,e,r)):lC(this._delegate,e)}},{key:"get",value:function(){var e=this;return tC(this._delegate).then((function(t){return new jC(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Xh("Query.once",1,4,arguments.length),ed("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new bh,u=function(e,t){e=new jC(a.database,e),n&&n.call(o.context,e,t),s.resolve(e)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":aC(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":oC(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":cC(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":sC(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":uC(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Zh("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Xh("Query.limitToFirst",1,1,arguments.length),new e(this.database,xC(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yC(e)}(t)))}},{key:"limitToLast",value:function(t){return Xh("Query.limitToLast",1,1,arguments.length),new e(this.database,xC(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new gC(e)}(t)))}},{key:"orderByChild",value:function(t){return Xh("Query.orderByChild",1,1,arguments.length),new e(this.database,xC(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return oS("orderByChild","path",e,!1),new mC(e)}(t)))}},{key:"orderByKey",value:function(){return Xh("Query.orderByKey",0,0,arguments.length),new e(this.database,xC(this._delegate,new kC))}},{key:"orderByPriority",value:function(){return Xh("Query.orderByPriority",0,0,arguments.length),new e(this.database,xC(this._delegate,new wC))}},{key:"orderByValue",value:function(){return Xh("Query.orderByValue",0,0,arguments.length),new e(this.database,xC(this._delegate,new bC))}},{key:"startAt",value:function(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0;return Xh("Query.startAt",0,2,arguments.length),new e(this.database,xC(this._delegate,(r=void 0===(n=(t=[r,i])[0])?null:n,$I("startAt","key",i=t[1],!0),new pC(r,i))))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Xh("Query.startAfter",0,2,arguments.length),new e(this.database,xC(this._delegate,(t=t,$I("startAfter","key",n=n,!0),new vC(t,n))))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Xh("Query.endAt",0,2,arguments.length),new e(this.database,xC(this._delegate,(t=t,$I("endAt","key",n=n,!0),new hC(t,n))))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Xh("Query.endBefore",0,2,arguments.length),new e(this.database,xC(this._delegate,(t=t,$I("endBefore","key",n=n,!0),new dC(t,n))))}},{key:"equalTo",value:function(t,n){return Xh("Query.equalTo",1,2,arguments.length),new e(this.database,xC(this._delegate,(t=t,$I("equalTo","key",n=n,!0),new _C(t,n))))}},{key:"toString",value:function(){return Xh("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Xh("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Xh("Query.isEqual",1,1,arguments.length),t instanceof e)return this._delegate.isEqual(t._delegate);throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}},{key:"ref",get:function(){return new VC(this.database,new QS(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,ed(e,"cancel",r.cancel,!0),r.context=n,td(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Zh(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),VC=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,new WS(r._repo,r._path,new MT,!1))).database=e,i._delegate=r,i}return w(n,[{key:"getKey",value:function(){return Xh("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Xh("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new n(this.database,XS(this._delegate,e))}},{key:"getParent",value:function(){Xh("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Xh("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Xh("Reference.set",1,2,arguments.length),ed("Reference.set","onComplete",t,!0);var n=ZS(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Xh("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,LC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}JI("Reference.update",this._delegate._path),ed("Reference.update","onComplete",t,!0);var i=eC(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Xh("Reference.setWithPriority",2,3,arguments.length),ed("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(JI("setWithPriority",e._path),HI("setWithPriority",t,e._path,!1),QI("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new bh;return xS(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Xh("Reference.remove",0,1,arguments.length),ed("Reference.remove","onComplete",e,!0);var t,n=(JI("remove",(t=this._delegate)._path),ZS(t,null));return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n}},{key:"transaction",value:function(e,t,n){var r=this;Xh("Reference.transaction",1,3,arguments.length),ed("Reference.transaction","transactionUpdate",e,!1),ed("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error(Zh("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);var i=DC(this._delegate,e,{applyLocally:n}).then((function(e){return new UC(e.committed,new jC(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Xh("Reference.setPriority",1,2,arguments.length),ed("Reference.setPriority","onComplete",t,!0);var n=function(e,t){JI("setPriority",(e=ud(e))._path),QI("setPriority",t,!1);var n=new bh;return xS(e._repo,Rx(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Xh("Reference.push",0,2,arguments.length),ed("Reference.push","onComplete",t,!0);var i=function(e,t){JI("push",(e=ud(e))._path),HI("push",t,e._path,!0);var n,r=gS(e._repo),i=XS(e,r=CT(r)),a=XS(e,r);return n=null!=t?ZS(a,t).then((function(){return a})):Promise.resolve(a),i.then=n.then.bind(n),i.catch=n.then.bind(n,void 0),i}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return JI("Reference.onDisconnect",this._delegate._path),new FC(new zS(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(qC),BC=function(){function e(t,n){var r=this;k(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return w(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};AC(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Xh("database.ref",0,1,arguments.length),e instanceof VC){var t=JS(this._delegate,e.toString());return new VC(this,t)}return e=YS(this._delegate,e),new VC(this,e)}},{key:"refFromURL",value:function(e){return Xh("database.refFromURL",1,1,arguments.length),e=JS(this._delegate,e),new VC(this,e)}},{key:"goOffline",value:function(){var e;Xh("database.goOffline",0,0,arguments.length),(e=ud(e=this._delegate))._checkNotDeleted("goOffline"),SS(e._repo)}},{key:"goOnline",value:function(){return Xh("database.goOnline",0,0,arguments.length),NC(this._delegate)}}]),e}();BC.ServerValue={TIMESTAMP:OC,increment:function(e){return{".sv":{increment:e}}}};var zC,WC=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;m_(r);var u=new md("auth-internal",new bd("database-standalone"));return u.setComponent(new vd("auth-internal",(function(){return i}),"PRIVATE")),{instance:new BC(SC(t,u,void 0,n,s),t),namespace:a}}}),KC=BC.ServerValue;(zC=rp).INTERNAL.registerComponent(new vd("database-compat",(function(e,t){return function(t){var n=e.getProvider("app-compat").getImmediate();return t=e.getProvider("database").getImmediate({identifier:t}),new BC(t,n)}(t.instanceIdentifier)}),"PUBLIC").setServiceProps({Reference:VC,Query:qC,Database:BC,DataSnapshot:jC,enableLogging:PC,INTERNAL:WC,ServerValue:KC}).setMultipleInstances(!0)),zC.registerVersion("@firebase/database-compat","0.1.1"),C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};var HC={},GC=C||self;function QC(){}function $C(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function YC(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var JC="closure_uid_"+(1e9*Math.random()>>>0),XC=0;function ZC(e,t,n){return e.call.apply(e.bind,arguments)}function eA(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function tA(e,t,n){return(tA=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ZC:eA).apply(null,arguments)}function nA(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function rA(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,(e.prototype.constructor=e).Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function iA(){this.s=this.s,this.o=this.o}var aA={};iA.prototype.s=!1,iA.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,e=Object.prototype.hasOwnProperty.call(e,JC)&&e[JC]||(e[JC]=++XC),delete aA[e])},iA.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var oA=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},sA=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function uA(){return Array.prototype.concat.apply([],arguments)}function cA(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function lA(e){return/^[\s\xa0]*$/.test(e)}var fA,hA=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function dA(e,t){return-1!=e.indexOf(t)}function pA(e,t){return e<t?-1:t<e?1:0}var vA=GC.navigator;function yA(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function gA(e){var t={};for(var n in e)t[n]=e[n];return t}fA=vA&&(vA=vA.userAgent)?vA:"";var mA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kA(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<mA.length;i++)t=mA[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function wA(e){return wA[" "](e),e}wA[" "]=QC;var bA,_A=dA(fA,"Opera"),xA=dA(fA,"Trident")||dA(fA,"MSIE"),TA=dA(fA,"Edge"),EA=TA||xA,IA=dA(fA,"Gecko")&&!(dA(fA.toLowerCase(),"webkit")&&!dA(fA,"Edge"))&&!(dA(fA,"Trident")||dA(fA,"MSIE"))&&!dA(fA,"Edge"),SA=dA(fA.toLowerCase(),"webkit")&&!dA(fA,"Edge");function CA(){var e=GC.document;return e?e.documentMode:void 0}var AA="",NA=(NA=fA,IA?/rv:([^\);]+)(\)|;)/.exec(NA):TA?/Edge\/([\d\.]+)/.exec(NA):xA?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(NA):SA?/WebKit\/(\S+)/.exec(NA):_A?/(?:Version)[ \/]?(\S+)/.exec(NA):void 0);NA&&(AA=NA?NA[1]:""),bA=xA&&null!=(NA=CA())&&NA>parseFloat(AA)?String(NA):AA;var PA={};function OA(){return e=function(){for(var e=0,t=hA(String(bA)).split("."),n=hA("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++)for(var a=t[i]||"",o=n[i]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],(0!=a[0].length||0!=o[0].length)&&(e=pA(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||pA(0==a[2].length,0==o[2].length)||pA(a[2],o[2]),a=a[3],o=o[3],0==e););return 0<=e},t=PA,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9);var e,t}var RA=GC.document&&xA&&(CA()||parseInt(bA,10))||void 0,DA=function(){if(!GC.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{GC.addEventListener("test",QC,t),GC.removeEventListener("test",QC,t)}catch(e){}return e}();function LA(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function MA(e,t){if(LA.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(IA){e:{try{wA(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:FA[e.pointerType]||"",this.state=e.state,(this.i=e).defaultPrevented&&MA.Z.h.call(this)}}LA.prototype.h=function(){this.defaultPrevented=!0},rA(MA,LA);var FA={2:"touch",3:"pen",4:"mouse"};MA.prototype.h=function(){MA.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var UA="closure_listenable_"+(1e6*Math.random()|0),jA=0;function qA(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++jA,this.ca=this.fa=!1}function VA(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function BA(e){this.src=e,this.g={},this.h=0}function zA(e,t){var n,r,i,a=t.type;a in e.g&&(n=e.g[a],(i=0<=(r=oA(n,t)))&&Array.prototype.splice.call(n,r,1),i&&(VA(t),0==e.g[a].length&&(delete e.g[a],e.h--)))}function WA(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}BA.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=WA(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new qA(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var KA="closure_lm_"+(1e6*Math.random()|0),HA={};function GA(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);return null}return r=eN(r),t&&t[UA]?t.O(n,r,YC(i)?!!i.capture:!!i,a):QA(t,n,r,!0,i,a)}(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)GA(e,t[a],n,r,i);return null}return n=eN(n),e&&e[UA]?e.N(t,n,YC(r)?!!r.capture:!!r,i):QA(e,t,n,!1,r,i)}function QA(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o,s=YC(i)?!!i.capture:!!i,u=XA(e);if(u||(e[KA]=u=new BA(e)),(n=u.add(t,n,r,s,a)).proxy)return n;if(o=JA,r=function e(t){return o.call(e.src,e.listener,t)},(n.proxy=r).src=e,r.listener=n,e.addEventListener)void 0===(i=DA?i:s)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(YA(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $A(e){var t,n,r;"number"!=typeof e&&e&&!e.ca&&((t=e.src)&&t[UA]?zA(t.i,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(YA(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=XA(t))?(zA(n,e),0==n.h&&(n.src=null,t[KA]=null)):VA(e)))}function YA(e){return e in HA?HA[e]:HA[e]="on"+e}function JA(e,t){var n,r;return!!e.ca||(t=new MA(t,this),n=e.listener,r=e.ia||e.src,e.fa&&$A(e),n.call(r,t))}function XA(e){return(e=e[KA])instanceof BA?e:null}var ZA="__closure_events_fn_"+(1e9*Math.random()>>>0);function eN(e){return"function"==typeof e?e:(e[ZA]||(e[ZA]=function(t){return e.handleEvent(t)}),e[ZA])}function tN(){iA.call(this),this.i=new BA(this),(this.P=this).I=null}function nN(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t?t=new LA(t,e):t instanceof LA?t.target=t.target||e:(o=t,kA(t=new LA(r,e),o)),o=!0,n)for(var i=n.length-1;0<=i;i--)var a=t.g=n[i],o=rN(a,r,!0,t)&&o;if(o=rN(a=t.g=e,r,!0,t)&&o,o=rN(a,r,!1,t)&&o,n)for(i=0;i<n.length;i++)o=rN(a=t.g=n[i],r,!1,t)&&o}function rN(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o,s,u=t[a];u&&!u.ca&&u.capture==n&&(o=u.listener,s=u.ia||u.src,u.fa&&zA(e.i,u),i=!1!==o.call(s,r)&&i)}return i&&!r.defaultPrevented}rA(tN,iA),tN.prototype[UA]=!0,tN.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);else i=YC(i)?!!i.capture:!!i,r=eN(r),t&&t[UA]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=WA(o=t.g[n],r,i,a))&&(VA(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--))):(t=t&&XA(t))&&(n=t.g[n.toString()],(r=(t=-1)<(t=n?WA(n,r,i,a):t)?n[t]:null)&&$A(r))}(this,e,t,n,r)},tN.prototype.M=function(){if(tN.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)VA(n[r]);delete t.g[e],t.h--}}this.I=null},tN.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},tN.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var iN,aN=GC.JSON.stringify,oN=new(function(){function e(t,n){k(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return w(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new sN}),(function(e){return e.reset()})),sN=function(){function e(){k(this,e),this.next=this.g=this.h=null}return w(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function uN(e,t){var n;iN||(n=GC.Promise.resolve(void 0),iN=function(){n.then(fN)}),cN||(iN(),cN=!0),lN.add(e,t)}var cN=!1,lN=new(function(){function e(){k(this,e),this.h=this.g=null}return w(e,[{key:"add",value:function(e,t){var n=oN.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}());function fN(){for(var e;e=function(){var e=lN,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}();){try{e.h.call(e.g)}catch(e){!function(e){GC.setTimeout((function(){throw e}),0)}(e)}var t=oN;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}cN=!1}function hN(e,t){tN.call(this),this.h=e||1,this.g=t||GC,this.j=tA(this.kb,this),this.l=Date.now()}function dN(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function pN(e,t,n){if("function"==typeof e)n&&(e=tA(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=tA(e.handleEvent,e)}return 2147483647<Number(t)?-1:GC.setTimeout(e,t||0)}rA(hN,tN),(ce=hN.prototype).da=!1,ce.S=null,ce.kb=function(){var e;this.da&&(0<(e=Date.now()-this.l)&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nN(this,"tick"),this.da&&(dN(this),this.start())))},ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){hN.Z.M.call(this),dN(this),delete this.g};var vN=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return w(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=pN((function(){t.g=null,t.i&&(t.i=!1,e(t))}),t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)}},{key:"M",value:function(){s(u(n.prototype),"M",this).call(this),this.g&&(GC.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(iA);function yN(e){iA.call(this),this.h=e,this.g={}}rA(yN,iA);var gN=[];function mN(e,t,n,r){Array.isArray(n)||(n&&(gN[0]=n.toString()),n=gN);for(var i=0;i<n.length;i++){var a=GA(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function kN(e){yA(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$A(e)}),e),e.g={}}function wN(){this.g=!0}function bN(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return aN(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}yN.prototype.M=function(){yN.Z.M.call(this),kN(this)},yN.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wN.prototype.Aa=function(){this.g=!1},wN.prototype.info=function(){};var _N={},xN=null;function TN(){return xN=xN||new tN}function EN(e){LA.call(this,_N.Ma,e)}function IN(){var e=TN();nN(e,new EN(e))}function SN(e,t){LA.call(this,_N.STAT_EVENT,e),this.stat=t}function CN(e){var t=TN();nN(t,new SN(t,e))}function AN(e,t){LA.call(this,_N.Na,e),this.size=t}function NN(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return GC.setTimeout((function(){e()}),t)}function PN(){}function ON(e){return e.h||(e.h=e.i())}function RN(){}function DN(){LA.call(this,"d")}function LN(){LA.call(this,"c")}function MN(){}function FN(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new yN(this),this.P=qN,this.W=new hN(e=EA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new UN}function UN(){this.i=null,this.g="",this.h=!1}_N.Ma="serverreachability",rA(EN,LA),_N.STAT_EVENT="statevent",rA(SN,LA),_N.Na="timingevent",rA(AN,LA),E_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},at={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"},PN.prototype.h=null,C={OPEN:"a",pb:"b",Ka:"c",Bb:"d"},rA(DN,LA),rA(LN,LA),rA(MN,PN),MN.prototype.g=function(){return new XMLHttpRequest},MN.prototype.i=function(){return{}};var jN=new MN,qN=45e3,VN={},BN={};function zN(e,t,n){e.K=1,e.v=fP(aP(t)),e.s=n,e.U=!0,WN(e,null)}function WN(e,t){e.F=Date.now(),GN(e),e.A=aP(e.v);var n,r,i,a,o,s,u=e.A,c=e.X;Array.isArray(c)||(c=[String(c)]),TP(u.h,"t",c),e.C=0,u=e.l.H,e.h=new UN,e.g=TO(e.l,u?t:null,!e.s),0<e.O&&(e.L=new vN(tA(e.Ia,e,e.g),e.O)),mN(e.V,e.g,"readystatechange",e.gb),t=e.H?gA(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),IN(),n=e.j,r=e.u,i=e.A,a=e.m,o=e.X,s=e.s,n.info((function(){if(n.g)if(s)for(var e="",t=s.split("&"),u=0;u<t.length;u++){var c,l,f=t[u].split("=");1<f.length&&(c=f[0],f=f[1],e=2<=(l=c.split("_")).length&&"type"==l[1]?e+(c+"=")+f+"&":e+(c+"=redacted&"))}else e=null;else e=s;return"XMLHTTP REQ ("+a+") [attempt "+o+"]: "+r+"\n"+i+"\n"+e}))}function KN(e){return e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function HN(e,t,n){for(var r,i,a,o,s,u=!0;!e.I&&e.C<n.length;){if(a=n,s=o=void 0,o=(i=e).C,(r=-1==(s=a.indexOf("\n",o))?BN:(o=Number(a.substring(o,s)),isNaN(o)?VN:(s+=1)+o>a.length?BN:(a=a.substr(s,o),i.C=s+o,a)))==BN){4==t&&(e.o=4,CN(14),u=!1),bN(e.j,e.m,null,"[Incomplete Response]");break}if(r==VN){e.o=4,CN(15),bN(e.j,e.m,n,"[Invalid Chunk]"),u=!1;break}bN(e.j,e.m,r,null),XN(e,r)}KN(e)&&r!=BN&&r!=VN&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,CN(16),u=!1),e.i=e.i&&u,u?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),yO(t),t.L=!0,CN(11))):(bN(e.j,e.m,n,"[Invalid Chunked Response]"),JN(e),YN(e))}function GN(e){e.Y=Date.now()+e.P,QN(e,e.P)}function QN(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=NN(tA(e.eb,e),t)}function $N(e){e.B&&(GC.clearTimeout(e.B),e.B=null)}function YN(e){0==e.l.G||e.I||kO(e.l,e)}function JN(e){$N(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,dN(e.W),kN(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function XN(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||PP(n.i,e)))if(n.I=e.N,!e.J&&PP(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;mO(n),sO(n)}vO(n),CN(18)}}else n.ta=i[1],0<n.ta-n.U&&i[2]<37500&&n.N&&0==n.A&&!n.v&&(n.v=NN(tA(n.ab,n),6e3));if(NP(n.i)<=1&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else bO(n,11)}else if(!e.J&&n.g!=e||mO(n),!lA(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u,c,l,f=a[5];null!=f&&"number"==typeof f&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;h&&(!(u=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null)||!(c=r.i).g&&(dA(u,"spdy")||dA(u,"quic")||dA(u,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(OP(c,c.h),c.h=null)),!r.D||(l=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null)&&(r.sa=l,lP(r.F,r.D,l))),n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d,p,v=e;(r=n).oa=xO(r,r.H?r.la:null,r.W),v.J?(RP(r.i,v),d=v,(p=r.K)&&d.setTimeout(p),d.B&&($N(d),GN(d)),r.g=v):pO(r),0<n.l.length&&lO(n)}else"stop"!=a[0]&&"close"!=a[0]||bO(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?bO(n,7):oO(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}IN()}catch(e){}}function ZN(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if($C(e)||"string"==typeof e)sA(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if($C(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if($C(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function eP(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof eP)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function tP(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];nP(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)nP(i,r=e.g[t])||(i[e.g[n++]=r]=1),t++;e.g.length=n}}function nP(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ce=FN.prototype).setTimeout=function(e){this.P=e},ce.gb=function(e){e=e.target;var t=this.L;t&&3==tO(e)?t.l():this.Ia(e)},ce.Ia=function(e){try{if(e==this.g)e:{var t=tO(this.g),n=this.g.Da();if(this.g.ba(),!(t<3)&&(3!=t||EA||this.g&&(this.h.h||this.g.ga()||nO(this.g)))){this.I||4!=t||7==n||IN(),$N(this);var r=this.g.ba();this.N=r;t:if(KN(this)){var i=nO(this.g);e="";var a=i.length,o=4==tO(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){JN(this),YN(this);var s="";break t}this.h.i=new GC.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==r,f=this.j,h=this.u,d=this.A,p=this.m,v=this.X,y=t,g=r,f.info((function(){return"XMLHTTP RESP ("+p+") [ attempt "+v+"]: "+h+"\n"+d+"\n"+y+" "+g})),this.i){if(this.$&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lA(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,CN(12),JN(this),YN(this);break e}bN(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,XN(this,r)}this.U?(HN(this,t,s),EA&&this.i&&3==t&&(mN(this.V,this.W,"tick",this.fb),this.W.start())):(bN(this.j,this.m,s,null),XN(this,s)),4==t&&JN(this),this.i&&!this.I&&(4==t?kO(this.l,this):(this.i=!1,GN(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,CN(12)):(this.o=0,CN(13)),JN(this),YN(this)}}}catch(e){}var f,h,d,p,v,y,g},ce.fb=function(){var e,t;this.g&&(e=tO(this.g),t=this.g.ga(),this.C<t.length&&($N(this),HN(this,e,t),this.i&&4!=e&&GN(this)))},ce.cancel=function(){this.I=!0,JN(this)},ce.eb=function(){this.B=null;var e,t,n=Date.now();0<=n-this.Y?(e=this.j,t=this.A,e.info((function(){return"TIMEOUT: "+t})),2!=this.K&&(IN(),CN(17)),JN(this),this.o=2,YN(this)):QN(this,this.Y-n)},(ce=eP.prototype).R=function(){tP(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ce.T=function(){return tP(this),this.g.concat()},ce.get=function(e,t){return nP(this.h,e)?this.h[e]:t},ce.set=function(e,t){nP(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ce.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var rP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function iP(e,t){var n;this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof iP?(this.g=void 0!==t?t:e.g,oP(this,e.j),this.s=e.s,sP(this,e.i),uP(this,e.m),this.l=e.l,t=e.h,(n=new wP).i=t.i,t.g&&(n.g=new eP(t.g),n.h=t.h),cP(this,n),this.o=e.o):e&&(n=String(e).match(rP))?(this.g=!!t,oP(this,n[1]||"",!0),this.s=hP(n[2]||""),sP(this,n[3]||"",!0),uP(this,n[4]),this.l=hP(n[5]||"",!0),cP(this,n[6]||"",!0),this.o=hP(n[7]||"")):(this.g=!!t,this.h=new wP(null,this.g))}function aP(e){return new iP(e)}function oP(e,t,n){e.j=n?hP(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sP(e,t,n){e.i=n?hP(t,!0):t}function uP(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cP(e,t,n){var r,i;t instanceof wP?(e.h=t,r=e.h,(i=e.g)&&!r.j&&(bP(r),r.i=null,r.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_P(this,t),TP(this,n,e))}),r)),r.j=i):(n||(t=dP(t,mP)),e.h=new wP(t,e.g))}function lP(e,t,n){e.h.set(t,n)}function fP(e){return lP(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hP(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dP(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,pP),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function pP(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}iP.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dP(t,vP,!0),":");var n=this.i;return!n&&"file"!=t||(e.push("//"),(t=this.s)&&e.push(dP(t,vP,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(dP(n,"/"==n.charAt(0)?gP:yP,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",dP(n,kP)),e.join("")};var vP=/[#\/\?@]/g,yP=/[#\?:]/g,gP=/[#\?]/g,mP=/[#\?@]/g,kP=/#/g;function wP(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bP(e){e.g||(e.g=new eP,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),a=null;0<=i?(r=e[n].substring(0,i),a=e[n].substring(i+1)):r=e[n],t(r,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _P(e,t){bP(e),t=EP(e,t),nP(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,nP((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&tP(e)))}function xP(e,t){return bP(e),t=EP(e,t),nP(e.g.h,t)}function TP(e,t,n){_P(e,t),0<n.length&&(e.i=null,e.g.set(EP(e,t),cA(n)),e.h+=n.length)}function EP(e,t){return t=String(t),e.j?t.toLowerCase():t}(ce=wP.prototype).add=function(e,t){bP(this),this.i=null,e=EP(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ce.forEach=function(e,t){bP(this),this.g.forEach((function(n,r){sA(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ce.T=function(){bP(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ce.R=function(e){bP(this);var t=[];if("string"==typeof e)xP(this,e)&&(t=uA(t,this.g.get(EP(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=uA(t,e[n])}return t},ce.set=function(e,t){return bP(this),this.i=null,xP(this,e=EP(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ce.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),a=(r=this.R(r),0);a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}return this.i=e.join("&")};var IP,SP=function e(t,n){k(this,e),this.h=t,this.g=n};function CP(e){this.l=e||10,e=GC.PerformanceNavigationTiming?0<(e=GC.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(GC.g&&GC.g.Ea&&GC.g.Ea()&&GC.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function AP(e){return e.h||e.g&&e.g.size>=e.j}function NP(e){return e.h?1:e.g?e.g.size:0}function PP(e,t){return e.h?e.h==t:e.g&&e.g.has(t)}function OP(e,t){e.g?e.g.add(t):e.h=t}function RP(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function DP(e){if(null!=e.h)return e.i.concat(e.h.D);if(null==e.g||0===e.g.size)return cA(e.i);var t,n=e.i,r=d(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}function LP(){}function MP(){this.g=new LP}function FP(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function UP(e){this.l=e.$b||null,this.j=e.ib||!1}function jP(e,t){tN.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}CP.prototype.cancel=function(){if(this.i=DP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=d(this.g.values());try{for(t.s();!(e=t.n()).done;)e.value.cancel()}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},LP.prototype.stringify=function(e){return GC.JSON.stringify(e,void 0)},LP.prototype.parse=function(e){return GC.JSON.parse(e,void 0)},rA(UP,PN),UP.prototype.g=function(){return new jP(this.l,this.j)},UP.prototype.i=(IP={},function(){return IP}),rA(jP,tN);var qP=0;function VP(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function BP(e){e.readyState=4,e.l=null,e.j=null,e.A=null,zP(e)}function zP(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ce=jP.prototype).open=function(e,t){if(this.readyState!=qP)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,zP(this)},ce.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||GC).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,BP(this)),this.readyState=qP},ce.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zP(this)),this.g&&(this.readyState=3,zP(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==GC.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VP(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ce.Sa=function(e){var t;this.g&&(this.u&&e.value?this.response.push(e.value):this.u||(t=e.value||new Uint8Array(0),(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)),(e.done?BP:zP)(this),3==this.readyState&&VP(this))},ce.Ua=function(e){this.g&&(this.response=this.responseText=e,BP(this))},ce.Ta=function(e){this.g&&(this.response=e,BP(this))},ce.ha=function(){this.g&&BP(this)},ce.setRequestHeader=function(e,t){this.v.append(e,t)},ce.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jP.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var WP=GC.JSON.parse;function KP(e){tN.call(this),this.headers=new eP,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=HP,this.K=this.L=!1}rA(KP,tN);var HP="",GP=/^https?$/i,QP=["POST","PUT"];function $P(e){return"content-type"==e.toLowerCase()}function YP(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,JP(e),ZP(e)}function JP(e){e.D||(e.D=!0,nN(e,"complete"),nN(e,"error"))}function XP(e){if(e.h&&void 0!==HC&&(!e.C[1]||4!=tO(e)||2!=e.ba()))if(e.v&&4==tO(e))pN(e.Fa,0,e);else if(nN(e,"readystatechange"),4==tO(e)){e.h=!1;try{var t,n,r,i,a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}if((t=o)||((n=0===a)&&(!(i=String(e.H).match(rP)[1]||null)&&GC.self&&GC.self.location&&(i=(r=GC.self.location.protocol).substr(0,r.length-1)),n=!GP.test(i?i.toLowerCase():"")),t=n),t)nN(e,"complete"),nN(e,"success");else{e.m=6;try{var s=2<tO(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",JP(e)}}finally{ZP(e)}}}function ZP(e,t){if(e.g){eO(e);var n=e.g,r=e.C[0]?QC:null;e.g=null,e.C=null,t||nN(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function eO(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(GC.clearTimeout(e.A),e.A=null)}function tO(e){return e.g?e.g.readyState:0}function nO(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case HP:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function rO(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return yA(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lP(e,t,n))}function iO(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function aO(e){this.za=0,this.l=[],this.h=new wN,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=iO("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=iO("baseRetryDelayMs",5e3,e),this.$a=iO("retryDelaySeedMs",1e4,e),this.Ya=iO("forwardChannelMaxRetries",2,e),this.ra=iO("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new CP(e&&e.concurrentRequestLimit),this.Ca=new MP,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function oO(e){var t,n;uO(e),3==e.G&&(t=e.V++,lP(n=aP(e.F),"SID",e.J),lP(n,"RID",t),lP(n,"TYPE","terminate"),hO(e,n),(t=new FN(e,e.h,t,void 0)).K=2,t.v=fP(aP(n)),n=!1,!(n=GC.navigator&&GC.navigator.sendBeacon?GC.navigator.sendBeacon(t.v.toString(),""):n)&&GC.Image&&((new Image).src=t.v,n=!0),n||(t.g=TO(t.l,null),t.g.ea(t.v)),t.F=Date.now(),GN(t)),_O(e)}function sO(e){e.g&&(yO(e),e.g.cancel(),e.g=null)}function uO(e){sO(e),e.u&&(GC.clearTimeout(e.u),e.u=null),mO(e),e.i.cancel(),e.m&&("number"==typeof e.m&&GC.clearTimeout(e.m),e.m=null)}function cO(e,t){e.l.push(new SP(e.Za++,t)),3==e.G&&lO(e)}function lO(e){AP(e.i)||e.m||(e.m=!0,uN(e.Ha,e),e.C=0)}function fO(e,t){var n=t?t.m:e.V++,r=aP(e.F);lP(r,"SID",e.J),lP(r,"RID",n),lP(r,"AID",e.U),hO(e,r),e.o&&e.s&&rO(r,e.o,e.s),n=new FN(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=dO(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),OP(e.i,n),zN(n,r,t)}function hO(e,t){e.j&&ZN({},(function(e,n){lP(t,n,e)}))}function dO(e,t,n){n=Math.min(e.l.length,n);var r=e.j?tA(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if((c-=a)<0)a=Math.max(0,i[u].h-100),s=!1;else try{!function(e,t,n){var r=n||"";try{ZN(e,(function(e,n){var i=e;YC(e)&&(i=aN(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(l,o,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function pO(e){e.g||e.u||(e.Y=1,uN(e.Ga,e),e.A=0)}function vO(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=NN(tA(e.Ga,e),wO(e,e.A)),e.A++,1)}function yO(e){null!=e.B&&(GC.clearTimeout(e.B),e.B=null)}function gO(e){e.g=new FN(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=aP(e.oa);lP(t,"RID","rpc"),lP(t,"SID",e.J),lP(t,"CI",e.N?"0":"1"),lP(t,"AID",e.U),hO(e,t),lP(t,"TYPE","xmlhttp"),e.o&&e.s&&rO(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=fP(aP(t)),n.s=null,n.U=!0,WN(n,e)}function mO(e){null!=e.v&&(GC.clearTimeout(e.v),e.v=null)}function kO(e,t){var n,r,i,a=null;if(e.g==t){mO(e),yO(e),e.g=null;var o=2}else{if(!PP(e.i,t))return;a=t.D,RP(e.i,t),o=1}if(e.I=t.N,0!=e.G)if(t.i)1==o?(a=t.s?t.s.length:0,t=Date.now()-t.F,n=e.C,nN(o=TN(),new AN(o,a)),lO(e)):pO(e);else if(3==(n=t.o)||0==n&&0<e.I||(1!=o||(i=t,NP((r=e).i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=NN(tA(r.Ha,r,i),wO(r,r.C)),r.C++,0))))&&(2!=o||!vO(e)))switch(a&&0<a.length&&(t=e.i,t.i=t.i.concat(a)),n){case 1:bO(e,5);break;case 4:bO(e,10);break;case 3:bO(e,6);break;default:bO(e,2)}}function wO(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function bO(e,t){var n,r;e.h.info("Error code "+t),2==t?(n=null,e.j&&(n=null),r=tA(e.jb,e),n||(n=new iP("//www.google.com/images/cleardot.gif"),GC.location&&"http"==GC.location.protocol||oP(n,"https"),fP(n)),function(e,t){var n=new wN;if(GC.Image){var r=new Image;r.onload=nA(FP,n,r,"TestLoadImage: loaded",!0,t),r.onerror=nA(FP,n,r,"TestLoadImage: error",!1,t),r.onabort=nA(FP,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=nA(FP,n,r,"TestLoadImage: timeout",!1,t),GC.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)):CN(2),e.G=0,e.j&&e.j.va(t),_O(e),uO(e)}function _O(e){e.G=0,e.I=-1,e.j&&(0==DP(e.i).length&&0==e.l.length||(e.i.i.length=0,cA(e.l),e.l.length=0),e.j.ua())}function xO(e,t,n){var r,i,a,o,s,u=(o=n)instanceof iP?aP(o):new iP(o,void 0);return""!=u.i?(t&&sP(u,t+"."+u.i),uP(u,u.m)):(r=(s=GC.location).protocol,i=t?t+"."+s.hostname:s.hostname,a=+s.port,o=n,s=new iP(null,void 0),r&&oP(s,r),i&&sP(s,i),a&&uP(s,a),o&&(s.l=o),u=s),e.aa&&yA(e.aa,(function(e,t){lP(u,t,e)})),t=e.D,n=e.sa,t&&n&&lP(u,t,n),lP(u,"VER",e.ma),hO(e,u),u}function TO(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new KP(new UP({ib:!0})):new KP(e.qa)).L=e.H,t}function EO(){}function IO(){if(xA&&!(10<=Number(RA)))throw Error("Environmental error: no available transport.")}function SO(e,t){tN.call(this),this.g=new aO(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!lA(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!lA(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new NO(this)}function CO(e){DN.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function AO(){LN.call(this),this.status=1}function NO(e){this.g=e}(ce=KP.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=(this.u||jN).g(),this.C=this.u?ON(this.u):ON(jN),this.g.onreadystatechange=tA(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void YP(this,e)}e=n||"";var i,a=new eP(this.headers);r&&ZN(r,(function(e,t){a.set(t,e)})),r=function(e){e:{for(var t=$P,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(a.T()),n=GC.FormData&&e instanceof GC.FormData,0<=oA(QP,t)&&!r&&!n&&a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eO(this),0<this.B&&((this.K=(i=this.g,xA&&OA()&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=tA(this.pa,this)):this.A=pN(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){YP(this,e)}},ce.pa=function(){void 0!==HC&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nN(this,"timeout"),this.abort(8))},ce.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nN(this,"complete"),nN(this,"abort"),ZP(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ZP(this,!0)),KP.Z.M.call(this)},ce.Fa=function(){this.s||(this.F||this.v||this.l?XP(this):this.cb())},ce.cb=function(){XP(this)},ce.ba=function(){try{return 2<tO(this)?this.g.status:-1}catch(n){return-1}},ce.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ce.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),WP(t)}},ce.Da=function(){return this.m},ce.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=aO.prototype).ma=8,ce.G=1,ce.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},ce.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new FN(this,this.h,e,void 0),n=this.s;if(this.P&&(n?kA(n=gA(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=dO(this,t,r),lP(i=aP(this.F),"RID",e),lP(i,"CVER",22),this.D&&lP(i,"X-HTTP-Session-Id",this.D),hO(this,i),this.o&&n&&rO(i,this.o,n),OP(this.i,t),this.Ra&&lP(i,"TYPE","init"),this.ja?(lP(i,"$req",r),lP(i,"SID","null"),t.$=!0,zN(t,i,null)):zN(t,i,r),this.G=2}}else 3==this.G&&(e?fO(this,e):0==this.l.length||AP(this.i)||fO(this))},ce.Ga=function(){var e;this.u=null,gO(this),this.$&&!(this.L||null==this.g||this.O<=0)&&(e=2*this.O,this.h.info("BP detection timer enabled: "+e),this.B=NN(tA(this.bb,this),e))},ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,CN(10),sO(this),gO(this))},ce.ab=function(){null!=this.v&&(this.v=null,sO(this),vO(this),CN(19))},ce.jb=function(e){e?(this.h.info("Successfully pinged google.com"),CN(2)):(this.h.info("Failed to ping google.com"),CN(1))},(ce=EO.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Oa=function(){},IO.prototype.g=function(e,t){return new SO(e,t)},rA(SO,tN),SO.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),uN(tA(e.hb,e,t))),CN(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=xO(e,null,e.W),lO(e)},SO.prototype.close=function(){oO(this.g)},SO.prototype.u=function(e){var t;"string"==typeof e?((t={}).__data__=e,cO(this.g,t)):this.v?((t={}).__data__=aN(e),cO(this.g,t)):cO(this.g,e)},SO.prototype.M=function(){this.g.j=null,delete this.j,oO(this.g),delete this.g,SO.Z.M.call(this)},rA(CO,DN),rA(AO,LN),rA(NO,EO),NO.prototype.xa=function(){nN(this.g,"a")},NO.prototype.wa=function(e){nN(this.g,new CO(e))},NO.prototype.va=function(e){nN(this.g,new AO)},NO.prototype.ua=function(){nN(this.g,"b")},IO.prototype.createWebChannel=IO.prototype.g,SO.prototype.send=SO.prototype.u,SO.prototype.open=SO.prototype.m,E_.NO_ERROR=0,E_.TIMEOUT=8,E_.HTTP_ERROR=6,at.COMPLETE="complete",(RN.EventType=C).OPEN="a",C.CLOSE="b",C.ERROR="c",C.MESSAGE="d",tN.prototype.listen=tN.prototype.N,KP.prototype.listenOnce=KP.prototype.O,KP.prototype.getLastError=KP.prototype.La,KP.prototype.getLastErrorCode=KP.prototype.Da,KP.prototype.getStatus=KP.prototype.ba,KP.prototype.getResponseJson=KP.prototype.Qa,KP.prototype.getResponseText=KP.prototype.ga,KP.prototype.send=KP.prototype.ea;var PO,OO=TN,RO=E_,DO=at,LO=_N,MO=10,FO=11,UO=UP,jO=RN,qO=KP,VO=function(){function e(t){k(this,e),this.uid=t}return w(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();VO.UNAUTHENTICATED=new VO(null),VO.GOOGLE_CREDENTIALS=new VO("google-credentials-uid"),VO.FIRST_PARTY=new VO("first-party-uid"),VO.MOCK_USER=new VO("mock-user");var BO="9.1.1",zO=new Ad("@firebase/firestore");function WO(){return zO.logLevel}function KO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zO.logLevel<=wd.DEBUG&&(n=n.map(QO),zO.debug.apply(zO,["Firestore (".concat(BO,"): ").concat(e)].concat(l(n))))}function HO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zO.logLevel<=wd.ERROR&&(n=n.map(QO),zO.error.apply(zO,["Firestore (".concat(BO,"): ").concat(e)].concat(l(n))))}function GO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zO.logLevel<=wd.WARN&&(n=n.map(QO),zO.warn.apply(zO,["Firestore (".concat(BO,"): ").concat(e)].concat(l(n))))}function QO(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(n){return e}}function $O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";throw HO(e="FIRESTORE (".concat(BO,") INTERNAL ASSERTION FAILED: ")+e),new Error(e)}function YO(e){e||$O()}var JO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},XO=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return n}(m(Error)),ZO=function e(){var t=this;k(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},eR=function e(t,n){k(this,e),this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer ".concat(t)},tR=function(){function e(){k(this,e)}return w(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(VO.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),nR=function(){function e(t){k(this,e),this.token=t,this.changeListener=null}return w(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),rR=function(){function e(t){k(this,e),this.t=t,this.currentUser=VO.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return w(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ZO;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ZO,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){KO("FirebaseCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){var e;n.auth||((e=n.t.getImmediate({optional:!0}))?s(e):(KO("FirebaseCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ZO))}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(KO("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(YO("string"==typeof n.accessToken),new eR(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return YO(null===e||"string"==typeof e),new VO(e)}}]),e}(),iR=function(){function e(t,n,r){k(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=VO.FIRST_PARTY}return w(e,[{key:"authHeaders",get:function(){var e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}]),e}(),aR=function(){function e(t,n,r){k(this,e),this.h=t,this.l=n,this.m=r}return w(e,[{key:"getToken",value:function(){return Promise.resolve(new iR(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(VO.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),oR=function(){function e(t,n){var r=this;k(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.g(e)},this.p=function(e){return n.writeSequenceNumber(e)})}return w(e,[{key:"g",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.p&&this.p(e),e}}]),e}();oR.T=-1;var sR=function(){function e(){k(this,e)}return w(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=function(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function uR(e,t){return e<t?-1:t<e?1:0}function cR(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function lR(e){return e+"\0"}var fR=function(){function e(t,n){if(k(this,e),this.seconds=t,(this.nanoseconds=n)<0)throw new XO(JO.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(1e9<=n)throw new XO(JO.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new XO(JO.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new XO(JO.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return w(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?uR(this.nanoseconds,e.nanoseconds):uR(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,t=Math.floor(1e6*(t-1e3*n)))}}]),e}(),hR=function(){function e(t){k(this,e),this.timestamp=t}return w(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new fR(0,0))}}]),e}();function dR(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pR(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vR(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var yR=function(){function e(t,n,r){k(this,e),void 0===n?n=0:n>t.length&&$O(),void 0===r?r=t.length-n:r>t.length-n&&$O(),this.segments=t,this.offset=n,this.len=r}return w(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),gR=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(0<=s.indexOf("//"))throw new XO(JO.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,l(s.split("/").filter((function(e){return 0<e.length}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(yR),mR=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kR=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)?e:"`"+e+"`"})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return mR.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new XO(JO.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new XO(JO.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new XO(JO.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?o=!o:"."!==s||o?r+=s:a(),i++}if(a(),o)throw new XO(JO.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(yR),wR=function(){function e(t){k(this,e),(this.fields=t).sort(kR.comparator)}return w(e,[{key:"covers",value:function(e){var t,n=d(this.fields);try{for(n.s();!(t=n.n()).done;)if(t.value.isPrefixOf(e))return!0}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return cR(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}(),bR=function(){function e(t){k(this,e),this.binaryString=t}return w(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return uR(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(t=atob(t))}},{key:"fromUint8Array",value:function(t){return t=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t),new e(t)}}]),e}();bR.EMPTY_BYTE_STRING=new bR("");var _R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xR(e){if(YO(!!e),"string"!=typeof e)return{seconds:TR(e.seconds),nanos:TR(e.nanos)};var t=0,n=_R.exec(e);YO(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),t=Number(n));var r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}function TR(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ER(e){return"string"==typeof e?bR.fromBase64String(e):bR.fromUint8Array(e)}function IR(e){return"server_timestamp"===(null===(e=((null===(e=null==e?void 0:e.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function SR(e){return e=xR(e.mapValue.fields.__local_write_time__.timestampValue),new fR(e.seconds,e.nanos)}function CR(e){return null==e}function AR(e){return 0===e&&1/e==-1/0}function NR(e){return"number"==typeof e&&Number.isInteger(e)&&!AR(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var PR=function(){function e(t){k(this,e),this.path=t}return w(e,[{key:"hasCollectionId",value:function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===gR.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(gR.fromString(t))}},{key:"fromName",value:function(t){return new e(gR.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return gR.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new gR(t.slice()))}}]),e}();function OR(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?IR(e)?4:10:$O()}function RR(e,t){var n,r,i=OR(e);if(i!==OR(t))return!1;switch(i){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return SR(e).isEqual(SR(t));case 3:return function(t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=xR(e.timestampValue);return t=xR(t.timestampValue),n.seconds===t.seconds&&n.nanos===t.nanos}(t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,ER(e.bytesValue).isEqual(ER(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return n=t,TR((r=e).geoPointValue.latitude)===TR(n.geoPointValue.latitude)&&TR(r.geoPointValue.longitude)===TR(n.geoPointValue.longitude);case 2:return function(e,t){return"integerValue"in e&&"integerValue"in t?TR(e.integerValue)===TR(t.integerValue):"doubleValue"in e&&"doubleValue"in t&&((e=TR(e.doubleValue))===(t=TR(t.doubleValue))?AR(e)===AR(t):isNaN(e)&&isNaN(t))}(e,t);case 9:return cR(e.arrayValue.values||[],t.arrayValue.values||[],RR);case 10:return function(e){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(dR(n)!==dR(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!RR(n[i],r[i])))return!1;return!0}(e);default:return $O()}}function DR(e,t){return void 0!==(e.values||[]).find((function(e){return RR(e,t)}))}function LR(e,t){var n,r,i,a=OR(e),o=OR(t);if(a!==o)return uR(a,o);switch(a){case 0:return 0;case 1:return uR(e.booleanValue,t.booleanValue);case 2:return r=t,(i=TR(e.integerValue||e.doubleValue))<(r=TR(r.integerValue||r.doubleValue))?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return MR(e.timestampValue,t.timestampValue);case 4:return MR(SR(e),SR(t));case 5:return uR(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ER(e),r=ER(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=uR(n[i],r[i]);if(0!==a)return a}return uR(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return n=e.geoPointValue,i=t.geoPointValue,0!==(r=uR(TR(n.latitude),TR(i.latitude)))?r:uR(TR(n.longitude),TR(i.longitude));case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=LR(n[i],r[i]);if(a)return a}return uR(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=uR(r[o],a[o]);if(0!==s)return s;var u=LR(n[r[o]],i[a[o]]);if(0!==u)return u}return uR(r.length,a.length)}(e.mapValue,t.mapValue);default:throw $O()}}function MR(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return uR(e,t);var n=xR(e);return e=xR(t),0!==(t=uR(n.seconds,e.seconds))?t:uR(n.nanos,e.nanos)}function FR(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=xR(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ER(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,PR.fromName(n).toString()):"geoPointValue"in t?"geo(".concat((n=t.geoPointValue).latitude,",").concat(n.longitude,")"):"arrayValue"in t?function(t){var n,r="[",i=!0,a=d(t.values||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;i?i=!1:r+=",",r+=e(o)}}catch(s){a.e(s)}finally{a.f()}return r+"]"}(t.arrayValue):"mapValue"in t?function(t){var n,r=Object.keys(t.fields||{}).sort(),i="{",a=!0,o=d(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;a?a=!1:i+=",",i+="".concat(s,":").concat(e(t.fields[s]))}}catch(u){o.e(u)}finally{o.f()}return i+"}"}(t.mapValue):$O();var n}(e)}function UR(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function jR(e){return e&&"integerValue"in e}function qR(e){return!!e&&"arrayValue"in e}function VR(e){return e&&"nullValue"in e}function BR(e){return e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zR(e){return e&&"mapValue"in e}function WR(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return pR(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=WR(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=WR(e.arrayValue.values[r]);return n}return Object.assign({},e)}var KR=function(){function e(t){k(this,e),this.value=t}return w(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!zR(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=WR(t)}},{key:"setAll",value:function(e){var t=this,n=kR.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=WR(e):i.push(a.lastSegment())})),e=this.getFieldsMap(n),this.applyChanges(e,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());zR(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return RR(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];zR(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){pR(t,(function(t,n){return e[t]=n}));var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(WR(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}(),HR=function(){function e(t,n,r,i,a){k(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return w(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=KR.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=KR.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,hR.min(),KR.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,KR.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,KR.empty(),2)}}]),e}(),GR=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;k(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.A=null};function QR(e){return new GR(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function $R(e){var t=e;if(null===t.A){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+FR(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),CR(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=uD(t.startAt)),t.endAt&&(n+="|ub:",n+=uD(t.endAt)),t.A=n}return t.A}function YR(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(r=e.orderBy[n],i=t.orderBy[n],r.dir!==i.dir||!r.field.isEqual(i.field))return!1;var r,i,a,o;if(e.filters.length!==t.filters.length)return!1;for(var s=0;s<e.filters.length;s++)if(a=e.filters[s],o=t.filters[s],a.op!==o.op||!a.field.isEqual(o.field)||!RR(a.value,o.value))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fD(e.startAt,t.startAt)&&fD(e.endAt,t.endAt)}function JR(e){return PR.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var XR=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return w(n,[{key:"matches",value:function(e){return e=e.data.field(this.field),"!="===this.op?null!==e&&this.P(LR(e,this.value)):null!==e&&OR(this.value)===OR(e)&&this.P(LR(e,this.value))}},{key:"P",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return 0<e;case">=":return 0<=e;default:return $O()}}},{key:"v",value:function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new ZR(e,t,r):"array-contains"===t?new rD(e,r):"in"===t?new iD(e,r):"not-in"===t?new aD(e,r):"array-contains-any"===t?new oD(e,r):new n(e,t,r)}},{key:"R",value:function(e,t,n){return new("in"===t?eD:tD)(e,n)}}]),n}(function(){function e(){k(this,e)}return e}()),ZR=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this,e,r,i)).key=PR.fromName(i.referenceValue),a}return w(n,[{key:"matches",value:function(e){return e=PR.comparator(e.key,this.key),this.P(e)}}]),n}(XR),eD=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,"in",r)).keys=nD(0,r),i}return w(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(XR),tD=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,"not-in",r)).keys=nD(0,r),i}return w(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(XR);function nD(e,t){return((null===(t=t.arrayValue)||void 0===t?void 0:t.values)||[]).map((function(e){return PR.fromName(e.referenceValue)}))}var rD=function(e){y(n,e);var t=g(n);function n(e,r){return k(this,n),t.call(this,e,"array-contains",r)}return w(n,[{key:"matches",value:function(e){return qR(e=e.data.field(this.field))&&DR(e.arrayValue,this.value)}}]),n}(XR),iD=function(e){y(n,e);var t=g(n);function n(e,r){return k(this,n),t.call(this,e,"in",r)}return w(n,[{key:"matches",value:function(e){return null!==(e=e.data.field(this.field))&&DR(this.value.arrayValue,e)}}]),n}(XR),aD=function(e){y(n,e);var t=g(n);function n(e,r){return k(this,n),t.call(this,e,"not-in",r)}return w(n,[{key:"matches",value:function(e){return!DR(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(e=e.data.field(this.field))&&!DR(this.value.arrayValue,e)}}]),n}(XR),oD=function(e){y(n,e);var t=g(n);function n(e,r){return k(this,n),t.call(this,e,"array-contains-any",r)}return w(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!qR(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return DR(t.value.arrayValue,e)}))}}]),n}(XR),sD=function e(t,n){k(this,e),this.position=t,this.before=n};function uD(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return FR(e)})).join(","))}var cD=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";k(this,e),this.field=t,this.dir=n};function lD(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?PR.comparator(PR.fromName(o.referenceValue),n.key):LR(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function fD(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!RR(e.position[n],t.position[n]))return!1;return!0}var hD=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;k(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.V=null,this.S=null,this.startAt,this.endAt};function dD(e,t,n,r,i,a,o,s){return new hD(e,t,n,r,i,a,o,s)}function pD(e){return new hD(e)}function vD(e){return!CR(e.limit)&&"F"===e.limitType}function yD(e){return!CR(e.limit)&&"L"===e.limitType}function gD(e){return 0<e.explicitOrderBy.length?e.explicitOrderBy[0].field:null}function mD(e){var t,n=d(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.v())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function kD(e){return null!==e.collectionGroup}function wD(e){var t=e;if(null===t.V){t.V=[];var n=mD(t),r=gD(t);if(null!==n&&null===r)n.isKeyField()||t.V.push(new cD(n)),t.V.push(new cD(kR.keyField(),"asc"));else{var i,a=!1,o=d(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.V.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=0<t.explicitOrderBy.length?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new cD(kR.keyField(),u))}}}return t.V}function bD(e){var t=e;if(!t.S)if("F"===t.limitType)t.S=QR(t.path,t.collectionGroup,wD(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=d(wD(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new cD(a.field,o))}}catch(u){i.e(u)}finally{i.f()}var s=t.endAt?new sD(t.endAt.position,!t.endAt.before):null;e=t.startAt?new sD(t.startAt.position,!t.startAt.before):null,t.S=QR(t.path,t.collectionGroup,r,t.filters,t.limit,s,e)}return t.S}function _D(e,t,n){return new hD(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xD(e,t){return YR(bD(e),bD(t))&&e.limitType===t.limitType}function TD(e){return"".concat($R(bD(e)),"|lt:").concat(e.limitType)}function ED(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((e=e).field.canonicalString()," ").concat(e.op," ").concat(FR(e.value))})).join(", "),"]")),CR(e.limit)||(t+=", limit: "+e.limit),0<e.orderBy.length&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+uD(e.startAt)),e.endAt&&(t+=", endAt: "+uD(e.endAt)),"Target(".concat(t,")")}(bD(e)),"; limitType=").concat(e.limitType,")")}function ID(e,t){return t.isFoundDocument()&&(n=e,i=(r=t).key.path,null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):PR.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(t){var n,r=d(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return}}catch(a){r.e(a)}finally{r.f()}return 1}(t)&&function(t){var n,r=d(e.filters);try{for(r.s();!(n=r.n()).done;)if(!n.value.matches(t))return}catch(i){r.e(i)}finally{r.f()}return 1}(t)&&(i=t,(!(t=e).startAt||lD(t.startAt,wD(t),i))&&(!t.endAt||!lD(t.endAt,wD(t),i)));var n,r,i}function SD(e){return function(t,n){var r,i=!1,a=d(wD(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=function(e,t,n){var r=e.field.isKeyField()?PR.comparator(t.key,n.key):function(e,n){var r=t.data.field(e);return e=n.data.field(e),null!==r&&null!==e?LR(r,e):$O()}(e.field,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $O()}}(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function CD(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:AR(t)?"-0":t}}function AD(e){return{integerValue:""+e}}function ND(e,t){return NR(t)?AD(t):CD(e,t)}var PD=function e(){k(this,e),this._=void 0};function OD(e,t){return e instanceof UD?jR(e=t)||e&&"doubleValue"in e?t:{integerValue:0}:null}var RD=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return n}(PD),DD=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this)).elements=e,r}return n}(PD);function LD(e,t){var n,r=qD(t),i=d(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return RR(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var MD=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this)).elements=e,r}return n}(PD);function FD(e,t){var n,r=qD(t),i=d(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!RR(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var UD=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this)).N=e,i.C=r,i}return n}(PD);function jD(e){return TR(e.integerValue||e.doubleValue)}function qD(e){return qR(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var VD=function e(t,n){k(this,e),this.field=t,this.transform=n},BD=function e(t,n){k(this,e),this.version=t,this.transformResults=n},zD=function(){function e(t,n){k(this,e),this.updateTime=t,this.exists=n}return w(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function WD(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var KD=function e(){k(this,e)};function HD(e,t,n){e instanceof YD?function(e,t,n){var r=e.value.clone(),i=ZD(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof JD?function(e,t,n){if(!WD(e.precondition,t))return t.convertToUnknownDocument(n.version);var r=ZD(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(XD(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function GD(e,t,n){e instanceof YD?function(e,t,n){if(WD(e.precondition,t)){var r=e.value.clone(),i=eL(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument($D(t),r).setHasLocalMutations()}}(e,t,n):e instanceof JD?function(e,t,n){if(WD(e.precondition,t)){var r=eL(e.fieldTransforms,n,t),i=t.data;i.setAll(XD(e)),i.setAll(r),t.convertToFoundDocument($D(t),i).setHasLocalMutations()}}(e,t,n):(t=t,WD(e.precondition,t)&&t.convertToNoDocument(hR.min()))}function QD(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&cR(n,r,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&(e=e.transform,t=t.transform,e instanceof DD&&t instanceof DD||e instanceof MD&&t instanceof MD?cR(e.elements,t.elements,RR):e instanceof UD&&t instanceof UD?RR(e.C,t.C):e instanceof RD&&t instanceof RD)}(e,t)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}function $D(e){return e.isFoundDocument()?e.version:hR.min()}var YD=function(e){y(n,e);var t=g(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return k(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return n}(KD),JD=function(e){y(n,e);var t=g(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return k(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return n}(KD);function XD(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){var r;n.isEmpty()||(r=e.data.field(n),t.set(n,r))})),t}function ZD(e,t,n){var r=new Map;YO(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,(a=o,o=s,s=n[i],a instanceof DD?LD(a,o):a instanceof MD?FD(a,o):s))}return r}function eL(e,t,n){var r,i,a,o,s,u,c=new Map,l=d(e);try{for(l.s();!(r=l.n()).done;){var f=r.value,h=f.transform,p=n.data.field(f.field);c.set(f.field,(a=p,o=t,u=s=void 0,(i=h)instanceof RD?function(){var e={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&(e.fields.__previous_value__=a),{mapValue:e}}():i instanceof DD?LD(i,a):i instanceof MD?FD(i,a):(i=jD(u=OD(s=i,a))+jD(s.C),jR(u)&&jR(s.C)?AD(i):CD(s.N,i))))}}catch(v){l.e(v)}finally{l.f()}return c}var tL=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return n}(KD),nL=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return n}(KD),rL=function e(t){k(this,e),this.count=t};function iL(e){switch(e){default:return $O(),0;case JO.CANCELLED:case JO.UNKNOWN:case JO.DEADLINE_EXCEEDED:case JO.RESOURCE_EXHAUSTED:case JO.INTERNAL:case JO.UNAVAILABLE:case JO.UNAUTHENTICATED:return;case JO.INVALID_ARGUMENT:case JO.NOT_FOUND:case JO.ALREADY_EXISTS:case JO.PERMISSION_DENIED:case JO.FAILED_PRECONDITION:case JO.ABORTED:case JO.OUT_OF_RANGE:case JO.UNIMPLEMENTED:case JO.DATA_LOSS:return 1}}function aL(e){if(void 0===e)return HO("GRPC error has no .code"),JO.UNKNOWN;switch(e){case PO.OK:return JO.OK;case PO.CANCELLED:return JO.CANCELLED;case PO.UNKNOWN:return JO.UNKNOWN;case PO.DEADLINE_EXCEEDED:return JO.DEADLINE_EXCEEDED;case PO.RESOURCE_EXHAUSTED:return JO.RESOURCE_EXHAUSTED;case PO.INTERNAL:return JO.INTERNAL;case PO.UNAVAILABLE:return JO.UNAVAILABLE;case PO.UNAUTHENTICATED:return JO.UNAUTHENTICATED;case PO.INVALID_ARGUMENT:return JO.INVALID_ARGUMENT;case PO.NOT_FOUND:return JO.NOT_FOUND;case PO.ALREADY_EXISTS:return JO.ALREADY_EXISTS;case PO.PERMISSION_DENIED:return JO.PERMISSION_DENIED;case PO.FAILED_PRECONDITION:return JO.FAILED_PRECONDITION;case PO.ABORTED:return JO.ABORTED;case PO.OUT_OF_RANGE:return JO.OUT_OF_RANGE;case PO.UNIMPLEMENTED:return JO.UNIMPLEMENTED;case PO.DATA_LOSS:return JO.DATA_LOSS;default:return $O()}}(at=PO=PO||{})[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";var oL=function(){function e(t,n){k(this,e),this.comparator=t,this.root=n||uL.EMPTY}return w(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,uL.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,uL.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new sL(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new sL(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new sL(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new sL(this.root,e,this.comparator,!0)}}]),e}(),sL=function(){function e(t,n,r,i){k(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return w(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return 0<this.nodeStack.length}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),uL=function(){function e(t,n,r,i,a){k(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return w(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw $O();if(this.right.isRed())throw $O();var e=this.left.check();if(e!==this.right.check())throw $O();return e+(this.isRed()?0:1)}}]),e}();uL.EMPTY=null,uL.RED=!0,uL.BLACK=!1,uL.EMPTY=new(function(){function e(){k(this,e),this.size=0}return w(e,[{key:"key",get:function(){throw $O()}},{key:"value",get:function(){throw $O()}},{key:"color",get:function(){throw $O()}},{key:"left",get:function(){throw $O()}},{key:"right",get:function(){throw $O()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new uL(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var cL=function(){function e(t){k(this,e),this.comparator=t,this.data=new oL(this.comparator)}return w(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new lL(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new lL(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),lL=function(){function e(t){k(this,e),this.iter=t}return w(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),fL=new oL(PR.comparator),hL=new oL(PR.comparator),dL=new oL(PR.comparator),pL=new cL(PR.comparator);function vL(){for(var e=pL,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var yL=new cL(uR),gL=function(){function e(t,n,r,i,a){k(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return w(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,mL.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(hR.min(),r,yL,fL,vL())}}]),e}(),mL=function(){function e(t,n,r,i,a){k(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return w(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(bR.EMPTY_BYTE_STRING,n,vL(),vL(),vL())}}]),e}(),kL=function e(t,n,r,i){k(this,e),this.k=t,this.removedTargetIds=n,this.key=r,this.$=i},wL=function e(t,n){k(this,e),this.targetId=t,this.O=n},bL=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bR.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;k(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},_L=function(){function e(){k(this,e),this.F=0,this.M=EL(),this.L=bR.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}return w(e,[{key:"current",get:function(){return this.B}},{key:"resumeToken",get:function(){return this.L}},{key:"q",get:function(){return 0!==this.F}},{key:"K",get:function(){return this.U}},{key:"j",value:function(e){0<e.approximateByteSize()&&(this.U=!0,this.L=e)}},{key:"W",value:function(){var e=vL(),t=vL(),n=vL();return this.M.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:$O()}})),new mL(this.L,this.B,e,t,n)}},{key:"G",value:function(){this.U=!1,this.M=EL()}},{key:"H",value:function(e,t){this.U=!0,this.M=this.M.insert(e,t)}},{key:"J",value:function(e){this.U=!0,this.M=this.M.remove(e)}},{key:"Y",value:function(){this.F+=1}},{key:"X",value:function(){--this.F}},{key:"Z",value:function(){this.U=!0,this.B=!0}}]),e}(),xL=function(){function e(t){k(this,e),this.tt=t,this.et=new Map,this.nt=fL,this.st=TL(),this.it=new cL(uR)}return w(e,[{key:"rt",value:function(e){var t,n=d(e.k);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ot(r,e.$):this.at(r,e.key,e.$)}}catch(s){n.e(s)}finally{n.f()}var i,a=d(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ct",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ut(n);switch(e.state){case 0:t.ht(n)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||t.removeTarget(n);break;case 3:t.ht(n)&&(r.Z(),r.j(e.resumeToken));break;case 4:t.ht(n)&&(t.lt(n),r.j(e.resumeToken));break;default:$O()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;0<e.targetIds.length?e.targetIds.forEach(t):this.et.forEach((function(e,r){n.ht(r)&&t(r)}))}},{key:"ft",value:function(e){var t=e.targetId,n=e.O.count,r=this.dt(t);if(r){var i=r.target;if(JR(i))if(0===n){var a=new PR(i.path);this.at(t,a,HR.newNoDocument(a,hR.min()))}else YO(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}},{key:"_t",value:function(e){var t=this,n=new Map;this.et.forEach((function(r,i){var a=t.dt(i);if(a){if(r.current&&JR(a.target)){var o=new PR(a.target.path);null!==t.nt.get(o)||t.gt(i,o)||t.at(i,o,HR.newNoDocument(o,e))}r.K&&(n.set(i,r.W()),r.G())}}));var r=vL();this.st.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){return!(e=t.dt(e))||2===e.purpose||(i=!1)})),i&&(r=r.add(e))}));var i=new gL(e,n,this.it,this.nt,r);return this.nt=fL,this.st=TL(),this.it=new cL(uR),i}},{key:"ot",value:function(e,t){var n;this.ht(e)&&(n=this.gt(e,t.key)?2:0,this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e)))}},{key:"at",value:function(e,t,n){if(this.ht(e)){var r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.et.delete(e)}},{key:"wt",value:function(e){var t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Y",value:function(e){this.ut(e).Y()}},{key:"ut",value:function(e){var t=this.et.get(e);return t||(t=new _L,this.et.set(e,t)),t}},{key:"yt",value:function(e){var t=this.st.get(e);return t||(t=new cL(uR),this.st=this.st.insert(e,t)),t}},{key:"ht",value:function(e){var t=null!==this.dt(e);return t||KO("WatchChangeAggregator","Detected inactive target",e),t}},{key:"dt",value:function(e){var t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}},{key:"lt",value:function(e){var t=this;this.et.set(e,new _L),this.tt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"gt",value:function(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}]),e}();function TL(){return new oL(PR.comparator)}function EL(){return new oL(PR.comparator)}var IL={asc:"ASCENDING",desc:"DESCENDING"},SL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CL=function e(t,n){k(this,e),this.databaseId=t,this.D=n};function AL(e,t){return e.D?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function NL(e,t){return e.D?t.toBase64():t.toUint8Array()}function PL(e){return YO(!!e),hR.fromTimestamp((e=xR(e),new fR(e.seconds,e.nanos)))}function OL(e,t){return new gR(["projects",(e=e).projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function RL(e){return YO(ZL(e=gR.fromString(e))),e}function DL(e,t){return OL(e.databaseId,t.path)}function LL(e,t){var n=RL(t);if(n.get(1)!==e.databaseId.projectId)throw new XO(JO.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new XO(JO.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new PR(jL(n))}function ML(e,t){return OL(e.databaseId,t)}function FL(e){return 4===(e=RL(e)).length?gR.emptyPath():jL(e)}function UL(e){return new gR(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jL(e){return YO(4<e.length&&"documents"===e.get(4)),e.popFirst(5)}function qL(e,t,n){return{name:DL(e,t),fields:n.value.mapValue.fields}}function VL(e,t,n){var r=LL(e,t.name),i=PL(t.updateTime),a=new KR({mapValue:{fields:t.fields}}),o=HR.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function BL(e,t){var n,r;if(t instanceof YD)n={update:qL(e,t.key,t.value)};else if(t instanceof tL)n={delete:DL(e,t.key)};else if(t instanceof JD)n={update:qL(e,t.key,t.data),updateMask:function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof nL))return $O();n={verify:DL(e,t.key)}}return 0<t.fieldTransforms.length&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e){var t=e.transform;if(t instanceof RD)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof DD)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof MD)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof UD)return{fieldPath:e.field.canonicalString(),increment:t.C};throw $O()}(e)}))),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:(t=r.updateTime,AL(e,t.toTimestamp()))}:void 0!==r.exists?{exists:r.exists}:$O()),n}function zL(e,t){var n=t.currentDocument?void 0!==(a=t.currentDocument).updateTime?zD.updateTime(PL(a.updateTime)):void 0!==a.exists?zD.exists(a.exists):zD.none():zD.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)YO("REQUEST_TIME"===t.setToServerValue),n=new RD;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new DD(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new MD(i)}else"increment"in t?n=new UD(e,t.increment):$O();return t=kR.fromServerFormat(t.fieldPath),new VD(t,n)}(e,t)})):[];if(t.update){t.update.name;var i=LL(e,t.update.name),a=new KR({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(){var e=t.updateMask.fieldPaths||[];return new wR(e.map((function(e){return kR.fromServerFormat(e)})))}();return new JD(i,a,o,n,r)}return new YD(i,a,n,r)}if(t.delete){var s=LL(e,t.delete);return new tL(s,n)}if(t.verify){var u=LL(e,t.verify);return new nL(u,n)}return $O()}function WL(e,t){return{documents:[ML(e,t.path)]}}function KL(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ML(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ML(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return e=e.map((function(e){return function(e){if("=="===e.op){if(BR(e.value))return{unaryFilter:{field:$L(e.field),op:"IS_NAN"}};if(VR(e.value))return{unaryFilter:{field:$L(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(BR(e.value))return{unaryFilter:{field:$L(e.field),op:"IS_NOT_NAN"}};if(VR(e.value))return{unaryFilter:{field:$L(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$L(e.field),op:(t=e.op,SL[t]),value:e.value}};var t}(e)})),1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(t.filters);return i&&(n.structuredQuery.where=i),i=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:$L(e.field),direction:(e=e.dir,IL[e])}}(e)}))}(t.orderBy),i&&(n.structuredQuery.orderBy=i),i=t.limit,null!==(i=e.D||CR(i)?i:{value:i})&&(n.structuredQuery.limit=i),t.startAt&&(n.structuredQuery.startAt=GL(t.startAt)),t.endAt&&(n.structuredQuery.endAt=GL(t.endAt)),n}function HL(e){var t=FL(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(0<r){YO(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function e(t){return t?void 0!==t.unaryFilter?[XL(t)]:void 0!==t.fieldFilter?[JL(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):$O():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new cD(YL(e.field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}())}(e)})));var u=null;n.limit&&(u=function(e){return CR(e="object"==typeof e?e.value:e)?null:e}(n.limit));var c=null;n.startAt&&(c=QL(n.startAt));var l=null;return n.endAt&&(l=QL(n.endAt)),dD(t,i,s,o,u,"F",c,l)}function GL(e){return{before:e.before,values:e.position}}function QL(e){var t=!!e.before;return e=e.values||[],new sD(e,t)}function $L(e){return{fieldPath:e.canonicalString()}}function YL(e){return kR.fromServerFormat(e.fieldPath)}function JL(e){return XR.create(YL(e.fieldFilter.field),function(){switch(e.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $O()}}(),e.fieldFilter.value)}function XL(e){switch(e.unaryFilter.op){case"IS_NAN":var t=YL(e.unaryFilter.field);return XR.create(t,"==",{doubleValue:NaN});case"IS_NULL":return t=YL(e.unaryFilter.field),XR.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=YL(e.unaryFilter.field);return XR.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return n=YL(e.unaryFilter.field),XR.create(n,"!=",{nullValue:"NULL_VALUE"});default:return $O()}}function ZL(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)}function eM(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=tM(t)),t=function(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}(e.get(n),t);return tM(t)}function tM(e){return e+"\x01\x01"}function nM(e){var t=e.length;if(YO(2<=t),2===t)return YO("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),gR.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&$O(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:$O()}a=o+2}return new gR(r)}var rM=function e(t,n){k(this,e),this.seconds=t,this.nanoseconds=n},iM=function e(t,n,r){k(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r};iM.store="owner",iM.key="owner";var aM=function e(t,n,r){k(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r};aM.store="mutationQueues",aM.keyPath="userId";var oM=function e(t,n,r,i,a){k(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a};oM.store="mutations",oM.keyPath="batchId",oM.userMutationsIndex="userMutationsIndex",oM.userMutationsKeyPath=["userId","batchId"];var sM=function(){function e(){k(this,e)}return w(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,eM(t)]}},{key:"key",value:function(e,t,n){return[e,eM(t),n]}}]),e}();sM.store="documentMutations",sM.PLACEHOLDER=new sM;var uM=function e(t,n){k(this,e),this.path=t,this.readTime=n},cM=function e(t,n){k(this,e),this.path=t,this.version=n},lM=function e(t,n,r,i,a,o){k(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o};lM.store="remoteDocuments",lM.readTimeIndex="readTimeIndex",lM.readTimeIndexPath="readTime",lM.collectionReadTimeIndex="collectionReadTimeIndex",lM.collectionReadTimeIndexPath=["parentPath","readTime"];var fM=function e(t){k(this,e),this.byteSize=t};fM.store="remoteDocumentGlobal",fM.key="remoteDocumentGlobalKey";var hM=function e(t,n,r,i,a,o,s){k(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s};hM.store="targets",hM.keyPath="targetId",hM.queryTargetsIndexName="queryTargetsIndex",hM.queryTargetsKeyPath=["canonicalId","targetId"];var dM=function e(t,n,r){k(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r};dM.store="targetDocuments",dM.keyPath=["targetId","path"],dM.documentTargetsIndex="documentTargetsIndex",dM.documentTargetsKeyPath=["path","targetId"];var pM=function e(t,n,r,i){k(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i};pM.key="targetGlobalKey",pM.store="targetGlobal";var vM=function e(t,n){k(this,e),this.collectionId=t,this.parent=n};vM.store="collectionParents",vM.keyPath=["collectionId","parent"];var yM=function e(t,n,r,i){k(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i};yM.store="clientMetadata",yM.keyPath="clientId";var gM=function e(t,n,r){k(this,e),this.bundleId=t,this.createTime=n,this.version=r};gM.store="bundles",gM.keyPath="bundleId";var mM=function e(t,n,r){k(this,e),this.name=t,this.readTime=n,this.bundledQuery=r};mM.store="namedQueries",mM.keyPath="name";var kM=[aM.store,oM.store,sM.store,lM.store,hM.store,iM.store,pM.store,dM.store,yM.store,fM.store,vM.store,gM.store,mM.store],wM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bM=function(){function e(){k(this,e),this.onCommittedListeners=[]}return w(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),_M=function(){function e(t){var n=this;k(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return w(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&$O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=d(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),xM=function(){function e(t,n){var r=this;k(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.Et=new ZO,this.transaction.oncomplete=function(){r.Et.resolve()},this.transaction.onabort=function(){n.error?r.Et.reject(new IM(t,n.error)):r.Et.resolve()},this.transaction.onerror=function(e){e=PM(e.target.error),r.Et.reject(new IM(t,e))}}return w(e,[{key:"It",get:function(){return this.Et.promise}},{key:"abort",value:function(e){e&&this.Et.reject(e),this.aborted||(KO("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){return e=this.transaction.objectStore(e),new CM(e)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new IM(n,t)}}}]),e}(),TM=function(){function e(t,n,r){k(this,e),this.name=t,this.version=n,this.At=r,12.2===e.Rt(xh())&&HO("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return w(e,[{key:"Dt",value:function(){var e=f(c.mark((function e(t){var n=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return KO("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){t=t.target.result,e(t)},i.onblocked=function(){r(new IM(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){"VersionError"===(e=e.target.error).name?r(new XO(JO.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===e.name?r(new XO(JO.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+e)):r(new IM(t,e))},i.onupgradeneeded=function(e){KO("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.At.Ct(t,i.transaction,e.oldVersion,n.version).next((function(){KO("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Nt&&(this.db.onversionchange=function(e){return n.Nt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"xt",value:function(e){this.Nt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=f(c.mark((function e(t,n,r,i){var a,o,s,u,l=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(c.mark((function e(){var n,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Dt(t);case 2:return l.db=e.sent,n=xM.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),_M.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.It;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,KO("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(t,n,r,i){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return KO("SimpleDb","Removing database:",e),AM(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!Nh())return!1;if(e.Pt())return!0;var t=xh(),n=e.Rt(t),r=0<n&&n<10,i=e.vt(t),a=0<i&&i<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||r||a)}},{key:"Pt",value:function(){var e;return"undefined"!=typeof r&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/netflix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===e?void 0:e.Vt)}},{key:"St",value:function(e,t){return e.store(t)}},{key:"Rt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),EM=function(){function e(t){k(this,e),this.kt=t,this.$t=!1,this.Ot=null}return w(e,[{key:"isDone",get:function(){return this.$t}},{key:"Ft",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.kt=e}},{key:"done",value:function(){this.$t=!0}},{key:"Mt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return AM(this.kt.delete())}}]),e}(),IM=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,JO.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return n}(XO);function SM(e){return"IndexedDbTransactionError"===e.name}var CM=function(){function e(t){k(this,e),this.store=t}return w(e,[{key:"put",value:function(e,t){return AM(void 0!==t?(KO("SimpleDb","PUT",this.store.name,e,t),this.store.put(t,e)):(KO("SimpleDb","PUT",this.store.name,"<auto-key>",e),this.store.put(e)))}},{key:"add",value:function(e){return KO("SimpleDb","ADD",this.store.name,e,e),AM(this.store.add(e))}},{key:"get",value:function(e){var t=this;return AM(this.store.get(e)).next((function(n){return KO("SimpleDb","GET",t.store.name,e,n=void 0===n?null:n),n}))}},{key:"delete",value:function(e){return KO("SimpleDb","DELETE",this.store.name,e),AM(this.store.delete(e))}},{key:"count",value:function(){return KO("SimpleDb","COUNT",this.store.name),AM(this.store.count())}},{key:"Lt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"Ut",value:function(e,t){KO("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);return n.qt=!1,t=this.cursor(n),this.Bt(t,(function(e,t,n){return n.delete()}))}},{key:"Kt",value:function(e,t){var n;return t?n=e:(n={},t=e),e=this.cursor(n),this.Bt(e,t)}},{key:"jt",value:function(e){var t=this.cursor({});return new _M((function(n,r){t.onerror=function(e){e=PM(e.target.error),r(e)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Bt",value:function(e,t){var n=[];return new _M((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new EM(i),o=t(i.primaryKey,i.value,a);if(o instanceof _M){var s=o.catch((function(e){return a.done(),_M.reject(e)}));n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return _M.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function AM(e){return new _M((function(t,n){e.onsuccess=function(e){e=e.target.result,t(e)},e.onerror=function(e){e=PM(e.target.error),n(e)}}))}var NM=!1;function PM(e){var t=TM.Rt(xh());if(12.2<=t&&t<13){var n="An internal error was encountered in the Indexed Database server";if(0<=e.message.indexOf(n)){var r=new XO("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return NM||(NM=!0,setTimeout((function(){throw r}),0)),r}}return e}var OM=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this)).Qt=e,i.currentSequenceNumber=r,i}return n}(bM);function RM(e,t){return TM.St(e.Qt,t)}var DM=function(){function e(t,n,r,i){k(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return w(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&HD(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=d(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&GD(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=d(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&GD(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(hR.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),vL())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&cR(this.mutations,e.mutations,(function(e,t){return QD(e,t)}))&&cR(this.baseMutations,e.baseMutations,(function(e,t){return QD(e,t)}))}}]),e}(),LM=function(){function e(t,n,r,i){k(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return w(e,null,[{key:"from",value:function(t,n,r){YO(t.mutations.length===r.length);for(var i=dL,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),MM=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:hR.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:hR.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:bR.EMPTY_BYTE_STRING;k(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return w(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),FM=function e(t){k(this,e),this.Wt=t};function UM(e,t){if(t.document)return VL(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=PR.fromSegments(t.noDocument.path),r=zM(t.noDocument.readTime),i=HR.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=PR.fromSegments(t.unknownDocument.path),o=zM(t.unknownDocument.version);return HR.newUnknownDocument(a,o)}return $O()}function jM(e,t,n){var r=qM(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a={name:DL(n=e.Wt,(e=t).key),fields:e.data.value.mapValue.fields,updateTime:AL(n,e.version.toTimestamp())},o=t.hasCommittedMutations;return new lM(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=BM(t.version),c=t.hasCommittedMutations;return new lM(null,new uM(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=BM(t.version);return new lM(new cM(l,f),null,null,!0,r,i)}return $O()}function qM(e){return[(e=e.toTimestamp()).seconds,e.nanoseconds]}function VM(e){return e=new fR(e[0],e[1]),hR.fromTimestamp(e)}function BM(e){return e=e.toTimestamp(),new rM(e.seconds,e.nanoseconds)}function zM(e){return e=new fR(e.seconds,e.nanoseconds),hR.fromTimestamp(e)}function WM(e,t){for(var n=(t.baseMutations||[]).map((function(t){return zL(e.Wt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return zL(e.Wt,t)})),s=fR.fromMillis(t.localWriteTimeMs);return new DM(t.batchId,s,n,o)}function KM(e){var t,n,r=zM(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?zM(e.lastLimboFreeSnapshotVersion):hR.min();return n=void 0!==e.query.documents?(YO(1===(t=e.query).documents.length),bD(pD(FL(t.documents[0])))):bD(HL(e.query)),new MM(n,e.targetId,0,e.lastListenSequenceNumber,r,i,bR.fromBase64String(e.resumeToken))}function HM(e,t){var n=BM(t.snapshotVersion),r=BM(t.lastLimboFreeSnapshotVersion),i=(JR(t.target)?WL:KL)(e.Wt,t.target);return e=t.resumeToken.toBase64(),new hM(t.targetId,$R(t.target),n,e,t.sequenceNumber,r,i)}function GM(e){var t=HL({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_D(t,t.limit,"L"):t}var QM=function(){function e(){k(this,e)}return w(e,[{key:"getBundleMetadata",value:function(e,t){return $M(e).get(t).next((function(e){if(e)return{id:(e=e).bundleId,createTime:zM(e.createTime),version:e.version}}))}},{key:"saveBundleMetadata",value:function(e,t){return $M(e).put({bundleId:(t=t).id,createTime:BM(PL(t.createTime)),version:t.version})}},{key:"getNamedQuery",value:function(e,t){return YM(e).get(t).next((function(e){if(e)return{name:(e=e).name,query:GM(e.bundledQuery),readTime:zM(e.readTime)}}))}},{key:"saveNamedQuery",value:function(e,t){return YM(e).put({name:(t=t).name,readTime:BM(PL(t.readTime)),bundledQuery:t.bundledQuery})}}]),e}();function $M(e){return RM(e,gM.store)}function YM(e){return RM(e,mM.store)}var JM=function(){function e(){k(this,e),this.Gt=new XM}return w(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Gt.add(t),_M.resolve()}},{key:"getCollectionParents",value:function(e,t){return _M.resolve(this.Gt.getEntries(t))}}]),e}(),XM=function(){function e(){k(this,e),this.index={}}return w(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new cL(gR.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new cL(gR.comparator)).toArray()}}]),e}(),ZM=function(){function e(){k(this,e),this.zt=new XM}return w(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(this.zt.has(t))return _M.resolve();var r=t.lastSegment(),i=t.popLast();return e.addOnCommittedListener((function(){n.zt.add(t)})),i={collectionId:r,parent:eM(i)},eF(e).put(i)}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[lR(t),""],!1,!0);return eF(e).Lt(r).next((function(e){var r,i=d(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(nM(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function eF(e){return RM(e,vM.store)}var tF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nF=function(){function e(t,n,r){k(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return w(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function rF(e,t,n){var r=e.store(oM.store),i=e.store(sM.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Kt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){YO(1===s)})));var c,l=[],f=d(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,p=sM.key(t,h.key.path,n.batchId);a.push(i.delete(p)),l.push(h.key)}}catch(v){f.e(v)}finally{f.f()}return _M.waitFor(a).next((function(){return l}))}function iF(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw $O();t=e.noDocument}return JSON.stringify(t).length}nF.DEFAULT_COLLECTION_PERCENTILE=10,nF.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nF.DEFAULT=new nF(41943040,nF.DEFAULT_COLLECTION_PERCENTILE,nF.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nF.DISABLED=new nF(-1,0,0);var aF=function(){function e(t,n,r,i){k(this,e),this.userId=t,this.N=n,this.Ht=r,this.referenceDelegate=i,this.Jt={}}return w(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sF(e).Kt({index:oM.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=uF(e),o=sF(e);return o.add({}).next((function(s){YO("number"==typeof s);var u,c,l,f,h,p,v=new DM(s,t,n,r),y=(u=i.N,c=i.userId,f=(l=v).baseMutations.map((function(e){return BL(u.Wt,e)})),h=l.mutations.map((function(e){return BL(u.Wt,e)})),new oM(c,l.batchId,l.localWriteTime.toMillis(),f,h)),g=[],m=new cL((function(e,t){return uR(e.canonicalString(),t.canonicalString())})),k=d(r);try{for(k.s();!(p=k.n()).done;){var w=p.value,b=sM.key(i.userId,w.key.path,s);m=m.add(w.key.path.popLast()),g.push(o.put(y)),g.push(a.put(b,sM.PLACEHOLDER))}}catch(_){k.e(_)}finally{k.f()}return m.forEach((function(t){g.push(i.Ht.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Jt[s]=v.keys()})),_M.waitFor(g).next((function(){return v}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return sF(e).get(t).next((function(e){return e?(YO(e.userId===n.userId),WM(n.N,e)):null}))}},{key:"Xt",value:function(e,t){var n=this;return this.Jt[t]?_M.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next((function(e){return e?(e=e.keys(),n.Jt[t]=e):null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return sF(e).Kt({index:oM.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(YO(t.batchId>=r),a=WM(n.N,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sF(e).Kt({index:oM.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sF(e).Lt(oM.userMutationsIndex,n).next((function(e){return e.map((function(e){return WM(t.N,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=sM.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return uF(e).Kt({range:i},(function(r,i,o){var s=p(r,3),u=s[0],c=s[1];if(r=s[2],c=nM(c),u===n.userId&&t.path.isEqual(c))return sF(e).get(r).next((function(e){if(!e)throw $O();YO(e.userId===n.userId),a.push(WM(n.N,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cL(uR),i=[];return t.forEach((function(t){var a=sM.prefixForPath(n.userId,t.path);a=IDBKeyRange.lowerBound(a),a=uF(e).Kt({range:a},(function(e,i,a){var o=p(e,3),s=o[0],u=o[1];e=o[2],u=nM(u),s===n.userId&&t.path.isEqual(u)?r=r.add(e):a.done()})),i.push(a)})),_M.waitFor(i).next((function(){return n.Zt(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=sM.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new cL(uR);return uF(e).Kt({range:o},(function(e,t,a){var o=p(e,3),u=o[0],c=o[1];e=o[2],c=nM(c),u===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(e)):a.done()})).next((function(){return n.Zt(e,s)}))}},{key:"Zt",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(sF(e).get(t).next((function(e){if(null===e)throw $O();YO(e.userId===n.userId),r.push(WM(n.N,e))})))})),_M.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return rF(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.te(t.batchId)})),_M.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"te",value:function(e){delete this.Jt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return _M.resolve();var r=IDBKeyRange.lowerBound(sM.prefixForUser(t.userId)),i=[];return uF(e).Kt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=nM(e[1]);i.push(a)}else r.done()})).next((function(){YO(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return oF(e,this.userId,t)}},{key:"ee",value:function(e){var t=this;return cF(e).get(this.userId).next((function(e){return e||new aM(t.userId,-1,"")}))}}],[{key:"Yt",value:function(t,n,r,i){return YO(""!==t.uid),new e(t=t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function oF(e,t,n){var r=sM.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return uF(e).Kt({range:a,qt:!0},(function(e,n,r){var a=p(e,2),s=a[0];e=a[1],s===t&&e===i&&(o=!0),r.done()})).next((function(){return o}))}function sF(e){return RM(e,oM.store)}function uF(e){return RM(e,sM.store)}function cF(e){return RM(e,aM.store)}var lF=function(){function e(t){k(this,e),this.ne=t}return w(e,[{key:"next",value:function(){return this.ne+=2,this.ne}}],[{key:"se",value:function(){return new e(0)}},{key:"ie",value:function(){return new e(-1)}}]),e}(),fF=function(){function e(t,n){k(this,e),this.referenceDelegate=t,this.N=n}return w(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.re(e).next((function(n){var r=new lF(n.highestTargetId);return n.highestTargetId=r.next(),t.oe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.re(e).next((function(e){return hR.fromTimestamp(new fR(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.re(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.re(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.oe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.re(e).next((function(r){return r.targetCount+=1,n.ce(t,r),n.oe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return hF(e).delete(t.targetId)})).next((function(){return n.re(e)})).next((function(t){return YO(0<t.targetCount),--t.targetCount,n.oe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return hF(e).Kt((function(o,s){(s=KM(s)).sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return _M.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return hF(e).Kt((function(e,n){n=KM(n),t(n)}))}},{key:"re",value:function(e){return dF(e).get(pM.key).next((function(e){return YO(null!==e),e}))}},{key:"oe",value:function(e,t){return dF(e).put(pM.key,t)}},{key:"ae",value:function(e,t){return hF(e).put(HM(this.N,t))}},{key:"ce",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.re(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=$R(t),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return hF(e).Kt({range:n,index:hM.queryTargetsIndexName},(function(e,n,i){n=KM(n),YR(t,n.target)&&(r=n,i.done())})).next((function(){return r}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=pF(e);return t.forEach((function(t){var o=eM(t.path);i.push(a.put(new dM(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),_M.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=pF(e);return _M.forEach(t,(function(t){var a=eM(t.path);return _M.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=pF(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pF(e),i=vL();return r.Kt({range:n,qt:!0},(function(e,t,n){e=nM(e[1]),e=new PR(e),i=i.add(e)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){t=eM(t.path),t=IDBKeyRange.bound([t],[lR(t)],!1,!0);var n=0;return pF(e).Kt({index:dM.documentTargetsIndex,qt:!0,range:t},(function(e,t,r){0!==p(e,1)[0]&&(n++,r.done())})).next((function(){return 0<n}))}},{key:"Tt",value:function(e,t){return hF(e).get(t).next((function(e){return e?KM(e):null}))}}]),e}();function hF(e){return RM(e,hM.store)}function dF(e){return RM(e,pM.store)}function pF(e){return RM(e,dM.store)}function vF(e){return yF.apply(this,arguments)}function yF(){return yF=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===JO.FAILED_PRECONDITION&&t.message===wM){e.next=2;break}throw t;case 2:KO("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),yF.apply(this,arguments)}function gF(e,t){var n=p(e,2),r=n[0],i=n[1],a=p(t,2),o=a[0],s=a[1];return 0===(o=uR(r,o))?uR(i,s):o}var mF=function(){function e(t){k(this,e),this.ue=t,this.buffer=new cL(gF),this.he=0}return w(e,[{key:"le",value:function(){return++this.he}},{key:"fe",value:function(e){if(e=[e,this.le()],this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{var t=this.buffer.last();gF(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),kF=function(){function e(t,n){k(this,e),this.garbageCollector=t,this.asyncQueue=n,this.de=!1,this.we=null}return w(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}},{key:"stop",value:function(){this.we&&(this.we.cancel(),this.we=null)}},{key:"started",get:function(){return null!==this.we}},{key:"_e",value:function(e){var t=this,n=this.de?3e5:6e4;KO("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,f(c.mark((function n(){return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.we=null,t.de=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!SM(n.t0)){n.next=12;break}KO("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,vF(n.t0);case 14:return n.next=16,t._e(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),wF=function(){function e(t,n){k(this,e),this.me=t,this.params=n}return w(e,[{key:"calculateTargetCount",value:function(e,t){return this.me.ge(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return _M.resolve(oR.T);var r=new mF(t);return this.me.forEachTarget(e,(function(e){return r.fe(e.sequenceNumber)})).next((function(){return n.me.ye(e,(function(e){return r.fe(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.me.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.me.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(KO("LruGarbageCollector","Garbage collection skipped; disabled"),_M.resolve(tF)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(KO("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),tF):n.pe(e,t)}))}},{key:"getCacheSize",value:function(e){return this.me.getCacheSize(e)}},{key:"pe",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return r=t>c.params.maximumSequenceNumbersToCollect?(KO("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),c.params.maximumSequenceNumbersToCollect):t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),WO()<=wd.DEBUG&&KO("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),_M.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),bF=function(){function e(t,n){k(this,e),this.db=t,this.garbageCollector=new wF(t=this,n=n)}return w(e,[{key:"ge",value:function(e){var t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Te",value:function(e){var t=0;return this.ye(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ye",value:function(e,t){return this.Ee(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return _F(e,n)}},{key:"removeReference",value:function(e,t,n){return _F(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return _F(e,t)}},{key:"Ie",value:function(e,t){var n=!1;return cF(e).jt((function(r){return oF(e,r,t).next((function(e){return e&&(n=!0),_M.resolve(!e)}))})).next((function(){return n}))}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ee(e,(function(o,s){if(s<=t){var u=n.Ie(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),pF(e).delete([0,eM(o.path)])}))}));i.push(u)}})).next((function(){return _M.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){return t=t.withSequenceNumber(e.currentSequenceNumber),this.db.getTargetCache().updateTargetData(e,t)}},{key:"updateLimboDocument",value:function(e,t){return _F(e,t)}},{key:"Ee",value:function(e,t){var n,r=pF(e),i=oR.T;return r.Kt({index:dM.documentTargetsIndex},(function(e,r){var a=p(e,1)[0],o=r.path,s=r.sequenceNumber;0===a?(i!==oR.T&&t(new PR(nM(n)),i),i=s,n=o):i=oR.T})).next((function(){i!==oR.T&&t(new PR(nM(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function _F(e,t){return pF(e).put((t=t,e=e.currentSequenceNumber,new dM(0,eM(t.path),e)))}var xF=function(){function e(t,n){k(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return w(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var a=p(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){pR(this.inner,(function(t,n){var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var a=p(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return vR(this.inner)}}]),e}(),TF=function(){function e(){k(this,e),this.changes=new xF((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return w(e,[{key:"getReadTime",value:function(e){return(e=this.changes.get(e))?e.readTime:hR.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:HR.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?_M.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),EF=function(){function e(t,n){k(this,e),this.N=t,this.Ht=n}return w(e,[{key:"addEntry",value:function(e,t,n){return CF(e).put(AF(t),n)}},{key:"removeEntry",value:function(e,t){var n=CF(e),r=AF(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Ae(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return CF(e).get(AF(t)).next((function(e){return n.Re(t,e)}))}},{key:"be",value:function(e,t){var n=this;return CF(e).get(AF(t)).next((function(e){return{document:n.Re(t,e),size:iF(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=fL;return this.Pe(e,t,(function(e,t){t=n.Re(e,t),r=r.insert(e,t)})).next((function(){return r}))}},{key:"ve",value:function(e,t){var n=this,r=fL,i=new oL(PR.comparator);return this.Pe(e,t,(function(e,t){var a=n.Re(e,t);r=r.insert(e,a),i=i.insert(e,iF(t))})).next((function(){return{documents:r,Ve:i}}))}},{key:"Pe",value:function(e,t,n){if(t.isEmpty())return _M.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return CF(e).Kt({range:r},(function(e,t,r){for(var o=PR.fromSegments(e);a&&PR.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Mt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=fL,a=t.path.length+1,o={};if(n.isEqual(hR.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=qM(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=lM.collectionReadTimeIndex}return CF(e).Kt(o,(function(e,n,o){e.length===a&&(n=UM(r.N,n),t.path.isPrefixOf(n.key.path)?ID(t,n)&&(i=i.insert(n.key,n)):o.done())})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new IF(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return SF(e).get(fM.key).next((function(e){return YO(!!e),e}))}},{key:"Ae",value:function(e,t){return SF(e).put(fM.key,t)}},{key:"Re",value:function(e,t){if(t){var n=UM(this.N,t);if(!n.isNoDocument()||!n.version.isEqual(hR.min()))return n}return HR.newInvalidDocument(e)}}]),e}(),IF=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this)).Se=e,i.trackRemovals=r,i.De=new xF((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return w(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new cL((function(e,t){return uR(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.De.get(a);if(o.document.isValidDocument()){var u=jM(t.Se.N,o.document,t.getReadTime(a));i=i.add(a.path.popLast()),o=iF(u),r+=o-s,n.push(t.Se.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var c=jM(t.Se.N,HR.newNoDocument(a,hR.min()),t.getReadTime(a));n.push(t.Se.addEntry(e,a,c))}else n.push(t.Se.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Se.Ht.addToCollectionParentIndex(e,r))})),n.push(this.Se.updateMetadata(e,r)),_M.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Se.be(e,t).next((function(e){return n.De.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Se.ve(e,t).next((function(e){var t=e.documents;return e.Ve.forEach((function(e,t){n.De.set(e,t)})),t}))}}]),n}(TF);function SF(e){return RM(e,fM.store)}function CF(e){return RM(e,lM.store)}function AF(e){return e.path.toArray()}var NF=function(){function e(t){k(this,e),this.N=t}return w(e,[{key:"Ct",value:function(e,t,n,r){var i=this;YO(n<r&&0<=n&&r<=11);var a,o=new xM("createOrUpgrade",t);n<1&&1<=r&&(e.createObjectStore(iM.store),(a=e).createObjectStore(aM.store,{keyPath:aM.keyPath}),a.createObjectStore(oM.store,{keyPath:oM.keyPath,autoIncrement:!0}).createIndex(oM.userMutationsIndex,oM.userMutationsKeyPath,{unique:!0}),a.createObjectStore(sM.store),PF(e),e.createObjectStore(lM.store));var s=_M.resolve();return n<3&&3<=r&&(0!==n&&((a=e).deleteObjectStore(dM.store),a.deleteObjectStore(hM.store),a.deleteObjectStore(pM.store),PF(e)),s=s.next((function(){return function(){var e=o.store(pM.store),t=new pM(0,0,hR.min().toTimestamp(),0);return e.put(pM.key,t)}()}))),n<4&&4<=r&&(0!==n&&(s=s.next((function(){return function(e,t){return t.store(oM.store).Lt().next((function(n){e.deleteObjectStore(oM.store),e.createObjectStore(oM.store,{keyPath:oM.keyPath,autoIncrement:!0}).createIndex(oM.userMutationsIndex,oM.userMutationsKeyPath,{unique:!0});var r=t.store(oM.store),i=n.map((function(e){return r.put(e)}));return _M.waitFor(i)}))}(e,o)}))),s=s.next((function(){e.createObjectStore(yM.store,{keyPath:yM.keyPath})}))),n<5&&5<=r&&(s=s.next((function(){return i.Ce(o)}))),n<6&&6<=r&&(s=s.next((function(){return e.createObjectStore(fM.store),i.Ne(o)}))),n<7&&7<=r&&(s=s.next((function(){return i.xe(o)}))),n<8&&8<=r&&(s=s.next((function(){return i.ke(e,o)}))),n<9&&9<=r&&(s=s.next((function(){var n;(n=e).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),function(){var e=t.objectStore(lM.store);e.createIndex(lM.readTimeIndex,lM.readTimeIndexPath,{unique:!1}),e.createIndex(lM.collectionReadTimeIndex,lM.collectionReadTimeIndexPath,{unique:!1})}()}))),n<10&&10<=r&&(s=s.next((function(){return i.$e(o)}))),n<11&&11<=r&&(s=s.next((function(){e.createObjectStore(gM.store,{keyPath:gM.keyPath}),e.createObjectStore(mM.store,{keyPath:mM.keyPath})}))),s}},{key:"Ne",value:function(e){var t=0;return e.store(lM.store).Kt((function(e,n){t+=iF(n)})).next((function(){var n=new fM(t);return e.store(fM.store).put(fM.key,n)}))}},{key:"Ce",value:function(e){var t=this,n=e.store(aM.store),r=e.store(oM.store);return n.Lt().next((function(n){return _M.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Lt(oM.userMutationsIndex,i).next((function(r){return _M.forEach(r,(function(r){return YO(r.userId===n.userId),r=WM(t.N,r),rF(e,n.userId,r).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(dM.store),n=e.store(lM.store);return e.store(pM.store).get(pM.key).next((function(e){var r=[];return n.Kt((function(n,i){var a=new gR(n),o=[0,eM(a)];r.push(t.get(o).next((function(n){return n?_M.resolve():function(n){return t.put(new dM(0,eM(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return _M.waitFor(r)}))}))}},{key:"ke",value:function(e,t){e.createObjectStore(vM.store,{keyPath:vM.keyPath});var n=t.store(vM.store),r=new XM,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:eM(i)})}};return t.store(lM.store).Kt({qt:!0},(function(e,t){var n=new gR(e);return i(n.popLast())})).next((function(){return t.store(sM.store).Kt({qt:!0},(function(e,t){var n=nM(p(e,2)[1]);return i(n.popLast())}))}))}},{key:"$e",value:function(e){var t=this,n=e.store(hM.store);return n.Kt((function(e,r){return r=KM(r),r=HM(t.N,r),n.put(r)}))}}]),e}();function PF(e){e.createObjectStore(dM.store,{keyPath:dM.keyPath}).createIndex(dM.documentTargetsIndex,dM.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(hM.store,{keyPath:hM.keyPath}).createIndex(hM.queryTargetsIndexName,hM.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(pM.store)}var OF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",RF=function(){function e(t,n,r,i,a,o,s,u,c,l){if(k(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=s,this.Fe=c,this.Me=l,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=function(e){return Promise.resolve()},!e.bt())throw new XO(JO.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bF(this,i),this.We=n+"main",this.N=new FM(u),this.Ge=new TM(this.We,11,new NF(this.N)),this.ze=new fF(this.referenceDelegate,this.N),this.Ht=new ZM,this.He=(n=this.N,u=this.Ht,new EF(n,u)),this.Je=new QM,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===l&&HO("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return w(e,[{key:"start",value:function(){var e=this;return this.Xe().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new XO(JO.FAILED_PRECONDITION,OF);return e.Ze(),e.tn(),e.en(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ze.getHighestSequenceNumber(t)}))})).then((function(t){e.Le=new oR(t,e.Fe)})).then((function(){e.Be=!0})).catch((function(t){return e.Ge&&e.Ge.close(),Promise.reject(t)}))}},{key:"nn",value:function(e){var t=this;return this.Qe=function(){var n=f(c.mark((function n(r){return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ge.xt(function(){var t=f(c.mark((function t(n){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Xe();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Xe",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return LF(t).put(new yM(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.sn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.Qe(!1)})))}))})).next((function(){return e.rn(t)})).next((function(n){return e.isPrimary&&!n?e.on(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(SM(t))return KO("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return KO("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.Qe(t)})),e.isPrimary=t}))}},{key:"sn",value:function(e){var t=this;return DF(e).get(iM.key).next((function(e){return _M.resolve(t.cn(e))}))}},{key:"un",value:function(e){return LF(e).delete(this.clientId)}},{key:"hn",value:function(){var e=f(c.mark((function e(){var t,n,r,i,a=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ln(this.je,18e5)){e.next=6;break}return this.je=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=RM(e,yM.store);return t.Lt().next((function(e){var n=a.fn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return _M.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ye){n=d(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ye.removeItem(this.dn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"en",value:function(){var e=this;this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Xe().then((function(){return e.hn()})).then((function(){return e.en()}))}))}},{key:"cn",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"rn",value:function(e){var t=this;return this.Me?_M.resolve(!0):DF(e).get(iM.key).next((function(n){if(null!==n&&t.ln(n.leaseTimestampMs,5e3)&&!t.wn(n.ownerId)){if(t.cn(n)&&t.networkEnabled)return!0;if(!t.cn(n)){if(!n.allowTabSynchronization)throw new XO(JO.FAILED_PRECONDITION,OF);return!1}}return!(!t.networkEnabled||!t.inForeground)||LF(e).Lt().next((function(e){return void 0===t.fn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground;if(e=t.networkEnabled===e.networkEnabled,n||r&&e)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&KO("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=f(c.mark((function e(){var t=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),e.next=7,this.Ge.runTransaction("shutdown","readwrite",[iM.store,yM.store],(function(e){var n=new OM(e,oR.T);return t.on(n).next((function(){return t.un(n)}))}));case 7:this.Ge.close(),this.yn();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fn",value:function(e,t){var n=this;return e.filter((function(e){return n.ln(e.updateTimeMs,t)&&!n.wn(e.clientId)}))}},{key:"pn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return LF(t).Lt().next((function(t){return e.fn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Be}},{key:"getMutationQueue",value:function(e){return aF.Yt(e,this.N,this.Ht,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r,i=this;return KO("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",kM,(function(a){return r=new OM(a,i.Le?i.Le.next():oR.T),"readwrite-primary"===t?i.sn(r).next((function(e){return!!e||i.rn(r)})).next((function(t){if(!t)throw HO("Failed to obtain primary lease for action '".concat(e,"'.")),i.isPrimary=!1,i.Oe.enqueueRetryable((function(){return i.Qe(!1)})),new XO(JO.FAILED_PRECONDITION,wM);return n(r)})).next((function(e){return i.an(r).next((function(){return e}))})):i.Tn(r).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))}},{key:"Tn",value:function(e){var t=this;return DF(e).get(iM.key).next((function(e){if(null!==e&&t.ln(e.leaseTimestampMs,5e3)&&!t.wn(e.ownerId)&&!t.cn(e)&&!(t.Me||t.allowTabSynchronization&&e.allowTabSynchronization))throw new XO(JO.FAILED_PRECONDITION,OF)}))}},{key:"an",value:function(e){var t=new iM(this.clientId,this.allowTabSynchronization,Date.now());return DF(e).put(iM.key,t)}},{key:"on",value:function(e){var t=this,n=DF(e);return n.get(iM.key).next((function(e){return t.cn(e)?(KO("IndexedDbPersistence","Releasing primary lease."),n.delete(iM.key)):_M.resolve()}))}},{key:"ln",value:function(e,t){var n=Date.now();return!(e<n-t||n<e&&(HO("Detected an update time that is in the future: ".concat(e," > ").concat(n)),1))}},{key:"Ze",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Xe()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}},{key:"mn",value:function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}},{key:"tn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=function(){t._n(),!Eh()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Ue))}},{key:"gn",value:function(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}},{key:"wn",value:function(e){var t;try{var n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return KO("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return HO("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"_n",value:function(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){HO("Failed to set zombie client id.",n)}}},{key:"yn",value:function(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}},{key:"dn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return TM.bt()}}]),e}();function DF(e){return RM(e,iM.store)}function LF(e){return RM(e,yM.store)}function MF(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var FF=function e(t,n){k(this,e),this.progress=t,this.En=n},UF=function(){function e(t,n,r){k(this,e),this.He=t,this.In=n,this.Ht=r}return w(e,[{key:"An",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Rn(e,t,r)}))}},{key:"Rn",value:function(e,t,n){return this.He.getEntry(e,t).next((function(e){var t,r=d(n);try{for(r.s();!(t=r.n()).done;)t.value.applyToLocalView(e)}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=d(t);try{for(i.s();!(r=i.n()).done;)r.value.applyToLocalView(n)}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Pn",value:function(e,t){var n=this;return this.He.getEntries(e,t).next((function(t){return n.vn(e,t).next((function(){return t}))}))}},{key:"vn",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return r=t,PR.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(e,t.path):kD(t)?this.Sn(e,t,n):this.Dn(e,t,n);var r}},{key:"Vn",value:function(e,t){return this.An(e,new PR(t)).next((function(e){var t=hL;return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Sn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=hL;return this.Ht.getCollectionParents(e,i).next((function(o){return _M.forEach(o,(function(o){var s=(s=t,o=o.child(i),new hD(o,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.Dn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Dn",value:function(e,t,n){var r,i,a=this;return this.He.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.In.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Cn(e,i,r).next((function(e){r=e;var t,n=d(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=d(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=HR.newInvalidDocument(c),r=r.insert(c,l)),GD(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){ID(t,n)||(r=r.remove(e))})),r}))}},{key:"Cn",value:function(e,t,n){var r,i=vL(),a=d(t);try{for(a.s();!(r=a.n()).done;){var o,s=r.value,u=d(s.mutations);try{for(u.s();!(o=u.n()).done;){var c=o.value;c instanceof JD&&null===n.get(c.key)&&(i=i.add(c.key))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){a.e(f)}finally{a.f()}var l=n;return this.He.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(l=l.insert(e,t))})),l}))}}]),e}(),jF=function(){function e(t,n,r,i){k(this,e),this.targetId=t,this.fromCache=n,this.Nn=r,this.xn=i}return w(e,null,[{key:"kn",value:function(t,n){var r,i=vL(),a=vL(),o=d(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),qF=function(){function e(){k(this,e)}return w(e,[{key:"$n",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i,a=this;return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(hR.min())?this.Fn(e,t):this.On.Pn(e,r).next((function(i){var o=a.Mn(t,i);return(vD(t)||yD(t))&&a.Ln(t.limitType,o,r,n)?a.Fn(e,t):(WO()<=wd.DEBUG&&KO("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ED(t)),a.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Mn",value:function(e,t){var n=new cL(SD(e));return t.forEach((function(t,r){ID(e,r)&&(n=n.add(r))})),n}},{key:"Ln",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||0<i.version.compareTo(r))}},{key:"Fn",value:function(e,t){return WO()<=wd.DEBUG&&KO("QueryEngine","Using full collection scan to execute query:",ED(t)),this.On.getDocumentsMatchingQuery(e,t,hR.min())}}]),e}(),VF=function(){function e(t,n,r,i){k(this,e),this.persistence=t,this.Bn=n,this.N=i,this.Un=new oL(uR),this.qn=new xF((function(e){return $R(e)}),YR),this.Kn=hR.min(),this.In=t.getMutationQueue(r),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new UF(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}return w(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Un)}))}}]),e}();function BF(e,t,n,r){return new VF(e,t,n,r)}function zF(e,t){return WF.apply(this,arguments)}function WF(){return WF=f(c.mark((function e(t,n){var r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(r=t).In,a=r.Qn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.In.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new UF(r.jn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=vL(),u=d(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=d(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(w){f.e(w)}finally{f.f()}}}catch(w){u.e(w)}finally{u.f()}var p,v=d(n);try{for(v.s();!(p=v.n()).done;){var y=p.value;o.push(y.batchId);var g,m=d(y.mutations);try{for(m.s();!(g=m.n()).done;){var k=g.value;s=s.add(k.key)}}catch(w){m.e(w)}finally{m.f()}}}catch(w){v.e(w)}finally{v.f()}return a.Pn(e,s).next((function(e){return{Wn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return t=e.sent,e.abrupt("return",(r.In=i,r.Qn=a,r.Bn.$n(r.Qn),t));case 6:case"end":return e.stop()}}),e)}))),WF.apply(this,arguments)}function KF(e){var t=e;return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ze.getLastRemoteSnapshotVersion(e)}))}function HF(e,t){var n=e,r=t.snapshotVersion,i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;var o=[];t.targetChanges.forEach((function(t,a){var s=i.get(a);if(s){o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.ze.addMatchingKeys(e,t.addedDocuments,a)})));var u,c,l,f,h=t.resumeToken;0<h.approximateByteSize()&&(u=s.withResumeToken(h,r).withSequenceNumber(e.currentSequenceNumber),i=i.insert(a,u),c=s,f=t,YO(0<(l=u).resumeToken.approximateByteSize()),0!==c.resumeToken.approximateByteSize()&&!(3e8<=l.snapshotVersion.toMicroseconds()-c.snapshotVersion.toMicroseconds()||0<f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size)||o.push(n.ze.updateTargetData(e,u)))}}));var s=fL;if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(GF(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(hR.min())){var u=n.ze.getLastRemoteSnapshotVersion(e).next((function(t){return n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return _M.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Qn.vn(e,s)})).next((function(){return s}))})).then((function(e){return n.Un=i,e}))}function GF(e,t,n,r,i){var a=vL();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=fL;return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(hR.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||0<o.version.compareTo(s.version)||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):KO("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function QF(e,t){var n=e;return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ze.getTargetData(e,t).next((function(i){return i?(r=i,_M.resolve(r)):n.ze.allocateTargetId(e).next((function(i){return r=new MM(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Un.get(e.targetId);return(null===r||0<e.snapshotVersion.compareTo(r.snapshotVersion))&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function $F(e,t,n){return YF.apply(this,arguments)}function YF(){return YF=f(c.mark((function e(t,n,r){var i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(i=t).Un.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),SM(e.t1)){e.next=12;break}throw e.t1;case 12:KO("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Un=i.Un.remove(n),i.qn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),YF.apply(this,arguments)}function JF(e,t,n){var r=e,i=hR.min(),a=vL();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=e,i=r.qn.get(n);return void 0!==i?_M.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,bD(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bn.getDocumentsMatchingQuery(e,t,n?i:hR.min(),n?a:vL())})).next((function(e){return{documents:e,Gn:a}}))}))}function XF(e,t){var n=e,r=n.ze,i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function ZF(e){var t=e;return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=e,i=fL,a=qM(n),o=CF(t),s=IDBKeyRange.lowerBound(a,!0);return o.Kt({index:lM.readTimeIndex,range:s},(function(e,t){var n=UM(r.N,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{En:i,readTime:VM(a)}}))}(t.jn,e,t.Kn)})).then((function(e){var n=e.En,r=e.readTime;return t.Kn=r,n}))}var eU=function(){function e(t){k(this,e),this.N=t,this.Yn=new Map,this.Xn=new Map}return w(e,[{key:"getBundleMetadata",value:function(e,t){return _M.resolve(this.Yn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.Yn.set(t.id,{id:t.id,version:t.version,createTime:PL(t.createTime)}),_M.resolve()}},{key:"getNamedQuery",value:function(e,t){return _M.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,{name:(t=t).name,query:GM(t.bundledQuery),readTime:PL(t.readTime)}),_M.resolve()}}]),e}(),tU=function(){function e(){k(this,e),this.Zn=new cL(nU.ts),this.es=new cL(nU.ns)}return w(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){t=new nU(e,t),this.Zn=this.Zn.add(t),this.es=this.es.add(t)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new nU(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"cs",value:function(e){var t=this,n=new PR(new gR([])),r=new nU(n,e),i=new nU(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"us",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new PR(new gR([])),n=new nU(t,e),r=(e=new nU(t,e+1),vL());return this.es.forEachInRange([n,e],(function(e){r=r.add(e.key)})),r}},{key:"containsKey",value:function(e){var t=new nU(e,0);return null!==(t=this.Zn.firstAfterOrEqual(t))&&e.isEqual(t.key)}}]),e}(),nU=function(){function e(t,n){k(this,e),this.key=t,this.ls=n}return w(e,null,[{key:"ts",value:function(e,t){return PR.comparator(e.key,t.key)||uR(e.ls,t.ls)}},{key:"ns",value:function(e,t){return uR(e.ls,t.ls)||PR.comparator(e.key,t.key)}}]),e}(),rU=function(){function e(t,n){k(this,e),this.Ht=t,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new cL(nU.ts)}return w(e,[{key:"checkEmpty",value:function(e){return _M.resolve(0===this.In.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,0<this.In.length&&this.In[this.In.length-1],n=new DM(i,t,n,r),this.In.push(n);var a,o=d(r);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.ds=this.ds.add(new nU(s.key,i)),this.Ht.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(u){o.e(u)}finally{o.f()}return _M.resolve(n)}},{key:"lookupMutationBatch",value:function(e,t){return _M.resolve(this.ws(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){return t=(t=this._s(t+1))<0?0:t,_M.resolve(this.In.length>t?this.In[t]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return _M.resolve(0===this.In.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return _M.resolve(this.In.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new nU(t,0),i=new nU(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){e=n.ws(e.ls),a.push(e)})),_M.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new cL(uR);return t.forEach((function(e){var t=new nU(e,0);e=new nU(e,Number.POSITIVE_INFINITY),n.ds.forEachInRange([t,e],(function(e){r=r.add(e.ls)}))})),_M.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;PR.isDocumentKey(i)||(i=i.child("")),t=new nU(new PR(i),0);var a=new cL(uR);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ls)),!0)}),t),_M.resolve(this.gs(a))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){null!==(e=t.ws(e))&&n.push(e)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;YO(0===this.ys(t.batchId,"removed")),this.In.shift();var r=this.ds;return _M.forEach(t.mutations,(function(i){var a=new nU(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"te",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new nU(t,0);return n=this.ds.firstAfterOrEqual(n),_M.resolve(t.isEqual(n&&n.key))}},{key:"performConsistencyCheck",value:function(e){return this.In.length,_M.resolve()}},{key:"ys",value:function(e,t){return this._s(e)}},{key:"_s",value:function(e){return 0===this.In.length?0:e-this.In[0].batchId}},{key:"ws",value:function(e){return(e=this._s(e))<0||e>=this.In.length?null:this.In[e]}}]),e}(),iU=function(){function e(t,n){k(this,e),this.Ht=t,this.ps=n,this.docs=new oL(PR.comparator),this.size=0}return w(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return _M.resolve(n?n.document.clone():HR.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=fL;return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():HR.newInvalidDocument(e))})),_M.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=fL,i=new PR(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||ID(t,c)&&(r=r.insert(c.key,c.clone()))}return _M.resolve(r)}},{key:"Ts",value:function(e,t){return _M.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new aU(this)}},{key:"getSize",value:function(e){return _M.resolve(this.size)}}]),e}(),aU=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this)).Se=e,r}return w(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Se.addEntry(e,i.document,t.getReadTime(r))):t.Se.removeEntry(r)})),_M.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Se.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Se.getEntries(e,t)}}]),n}(TF),oU=function(){function e(t){k(this,e),this.persistence=t,this.Es=new xF((function(e){return $R(e)}),YR),this.lastRemoteSnapshotVersion=hR.min(),this.highestTargetId=0,this.Is=0,this.As=new tU,this.targetCount=0,this.Rs=lF.se()}return w(e,[{key:"forEachTarget",value:function(e,t){return this.Es.forEach((function(e,n){return t(n)})),_M.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return _M.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return _M.resolve(this.Is)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),_M.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),_M.resolve()}},{key:"ae",value:function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new lF(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,_M.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),_M.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),--this.targetCount,_M.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Es.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Es.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),_M.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return _M.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){return t=this.Es.get(t)||null,_M.resolve(t)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),_M.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),_M.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.cs(t),_M.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){return t=this.As.hs(t),_M.resolve(t)}},{key:"containsKey",value:function(e,t){return _M.resolve(this.As.containsKey(t))}}]),e}(),sU=function(){function e(t,n){var r,i=this;k(this,e),this.bs={},this.Le=new oR(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new oU(this),this.Ht=new JM,this.He=(r=this.Ht,new iU(r,t=function(e){return i.referenceDelegate.Ps(e)})),this.N=new FM(n),this.Je=new eU(this.N)}return w(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Be=!1,Promise.resolve()}},{key:"started",get:function(){return this.Be}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new rU(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r=this;KO("MemoryPersistence","Starting transaction:",e);var i=new uU(this.Le.next());return this.referenceDelegate.vs(),n(i).next((function(e){return r.referenceDelegate.Vs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ss",value:function(e,t){return _M.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),uU=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return n}(bM),cU=function(){function e(t){k(this,e),this.persistence=t,this.Ds=new tU,this.Cs=null}return w(e,[{key:"xs",get:function(){if(this.Cs)return this.Cs;throw $O()}},{key:"addReference",value:function(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),_M.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),_M.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),_M.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ds.cs(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"vs",value:function(){this.Cs=new Set}},{key:"Vs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _M.forEach(this.xs,(function(r){var i=PR.fromPath(r);return t.ks(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Cs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.ks(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"Ps",value:function(e){return 0}},{key:"ks",value:function(e,t){var n=this;return _M.or([function(){return _M.resolve(n.Ds.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ss(e,t)}])}}],[{key:"Ns",value:function(t){return new e(t)}}]),e}();function lU(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function fU(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function hU(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var dU=function(){function e(t,n,r,i){k(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return w(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&(o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new XO(a.error.code,a.error.message)),o?new e(t,n,a.state,i):(HO("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),pU=function(){function e(t,n,r){k(this,e),this.targetId=t,this.state=n,this.error=r}return w(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new XO(i.error.code,i.error.message)),a?new e(t,i.state,r):(HO("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),vU=function(){function e(t,n){k(this,e),this.clientId=t,this.activeTargetIds=n}return w(e,null,[{key:"$s",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=yL,o=0;i&&o<r.activeTargetIds.length;++o)i=NR(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(HO("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),yU=function(){function e(t,n){k(this,e),this.clientId=t,this.onlineState=n}return w(e,null,[{key:"$s",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(HO("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),gU=function(){function e(){k(this,e),this.activeTargetIds=yL}return w(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),mU=function(){function e(t,n,r,i,a){k(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Ls=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new oL(uR),this.started=!1,this.Ks=[],r=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=a,this.js=lU(this.persistenceKey,this.Ls),this.Qs="firestore_sequence_number_".concat(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new gU),this.Ws=new RegExp("^firestore_clients_".concat(r,"_([^_]*)$")),this.Gs=new RegExp("^firestore_mutations_".concat(r,"_(\\d+)(?:_(.*))?$")),this.zs=new RegExp("^firestore_targets_".concat(r,"_(\\d+)$")),this.Hs="firestore_online_state_".concat(this.persistenceKey),this.Js="firestore_bundle_loaded_".concat(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}return w(e,[{key:"start",value:function(){var e=f(c.mark((function e(){var t,n,r,i,a,o,s,u,l,f,h,p=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.pn();case 2:t=e.sent,n=d(t);try{for(n.s();!(r=n.n()).done;)(i=r.value)!==this.Ls&&(!(a=this.getItem(lU(this.persistenceKey,i)))||(o=vU.$s(i,a))&&(this.qs=this.qs.insert(o.clientId,o)))}catch(c){n.e(c)}finally{n.f()}this.Ys(),(s=this.storage.getItem(this.Hs))&&(u=this.Xs(s))&&this.Zs(u),l=d(this.Ks);try{for(l.s();!(f=l.n()).done;)h=f.value,this.Us(h)}catch(c){l.e(c)}finally{l.f()}this.Ks=[],this.window.addEventListener("pagehide",(function(){return p.shutdown()})),this.started=!0;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Qs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ti(this.qs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ei(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ei(e,t,n),this.ni(e)}},{key:"addLocalQueryTarget",value:function(e){var t,n="not-current";return this.isActiveQueryTarget(e)&&(!(t=this.storage.getItem(hU(this.persistenceKey,e)))||(t=pU.$s(e,t))&&(n=t.state)),this.si.Fs(e),this.Ys(),n}},{key:"removeLocalQueryTarget",value:function(e){this.si.Ms(e),this.Ys()}},{key:"isLocalQueryTarget",value:function(e){return this.si.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(hU(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ii(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.ni(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.ri(e)}},{key:"notifyBundleLoaded",value:function(){this.oi()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return KO("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){KO("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){KO("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Us",value:function(e){var t=this,n=e;n.storageArea===this.storage&&(KO("SharedClientState","EVENT",n.key,n.newValue),n.key!==this.js?this.Oe.enqueueRetryable(f(c.mark((function e(){var r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Ws.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ci(r,null));case 6:if(!(r=t.ui(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ci(r.clientId,r));case 9:e.next=39;break;case 11:if(!t.Gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(i=t.hi(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.li(i));case 16:e.next=39;break;case 18:if(!t.zs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(i=t.fi(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.di(i));case 23:e.next=39;break;case 25:if(n.key!==t.Hs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(a=t.Xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Zs(a));case 30:e.next=39;break;case 32:if(n.key!==t.Qs){e.next=37;break}a=function(e){var t=oR.T;if(null!=e)try{var n=JSON.parse(e);YO("number"==typeof n),t=n}catch(e){HO("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),a!==oR.T&&t.sequenceNumberHandler(a),e.next=39;break;case 37:if(n.key!==t.Js){e.next=39;break}return e.abrupt("return",t.syncEngine.wi());case 39:e.next=42;break;case 41:t.Ks.push(n);case 42:case"end":return e.stop()}}),e)})))):HO("Received WebStorage notification for local change. Another client might have garbage-collected our state"))}},{key:"si",get:function(){return this.qs.get(this.Ls)}},{key:"Ys",value:function(){this.setItem(this.js,this.si.Os())}},{key:"ei",value:function(e,t,n){var r=new dU(this.currentUser,e,t,n),i=fU(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"ni",value:function(e){e=fU(this.persistenceKey,this.currentUser,e),this.removeItem(e)}},{key:"ri",value:function(e){e={clientId:this.Ls,onlineState:e},this.storage.setItem(this.Hs,JSON.stringify(e))}},{key:"ii",value:function(e,t,n){var r=hU(this.persistenceKey,e),i=new pU(e,t,n);this.setItem(r,i.Os())}},{key:"oi",value:function(){this.setItem(this.Js,"value-not-used")}},{key:"ai",value:function(e){return(e=this.Ws.exec(e))?e[1]:null}},{key:"ui",value:function(e,t){return e=this.ai(e),vU.$s(e,t)}},{key:"hi",value:function(e,t){var n=this.Gs.exec(e);return e=Number(n[1]),n=void 0!==n[2]?n[2]:null,dU.$s(new VO(n),e,t)}},{key:"fi",value:function(e,t){return e=this.zs.exec(e),e=Number(e[1]),pU.$s(e,t)}},{key:"Xs",value:function(e){return yU.$s(e)}},{key:"li",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine._i(t.batchId,t.state,t.error));case 2:KO("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"di",value:function(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}},{key:"ci",value:function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.ti(this.qs),a=this.ti(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.gi(o,s).then((function(){n.qs=r}))}},{key:"Zs",value:function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ti",value:function(e){var t=yL;return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),kU=function(){function e(){k(this,e),this.yi=new gU,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return w(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.yi.Fs(e),this.pi[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.pi[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.yi.Ms(e)}},{key:"isLocalQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.pi[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.yi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.yi=new gU,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),wU=function(){function e(){k(this,e)}return w(e,[{key:"Ti",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),bU=function(){function e(){var t=this;k(this,e),this.Ei=function(){return t.Ii()},this.Ai=function(){return t.Ri()},this.bi=[],this.Pi()}return w(e,[{key:"Ti",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}},{key:"Pi",value:function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}},{key:"Ii",value:function(){KO("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=d(this.bi);try{for(t.s();!(e=t.n()).done;)(0,e.value)(0)}catch(n){t.e(n)}finally{t.f()}}},{key:"Ri",value:function(){KO("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=d(this.bi);try{for(t.s();!(e=t.n()).done;)(0,e.value)(1)}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),_U={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xU=function(){function e(t){k(this,e),this.vi=t.vi,this.Vi=t.Vi}return w(e,[{key:"Si",value:function(e){this.Di=e}},{key:"Ci",value:function(e){this.Ni=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Vi()}},{key:"send",value:function(e){this.vi(e)}},{key:"ki",value:function(){this.Di()}},{key:"$i",value:function(e){this.Ni(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),TU=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return w(n,[{key:"qi",value:function(e,t,n,r){return new Promise((function(i,a){var o=new qO;o.listenOnce(DO.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case RO.NO_ERROR:var t=o.getResponseJson();KO("Connection","XHR received:",JSON.stringify(t)),i(t);break;case RO.TIMEOUT:KO("Connection",'RPC "'+e+'" timed out'),a(new XO(JO.DEADLINE_EXCEEDED,"Request time out"));break;case RO.HTTP_ERROR:var n,r=o.getStatus();if(KO("Connection",'RPC "'+e+'" failed with status:',r,"response text:",o.getResponseText()),0<r){var s=o.getResponseJson().error;s&&s.status&&s.message?(u=s.status.toLowerCase().replace(/_/g,"-"),n=0<=Object.values(JO).indexOf(u)?u:JO.UNKNOWN,a(new XO(n,s.message))):a(new XO(JO.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new XO(JO.UNAVAILABLE,"Connection failed."));break;default:$O()}}finally{KO("Connection",'RPC "'+e+'" completed.')}var u}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ji",value:function(e,t){var n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new IO,i=OO(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new UO({})),this.Ui(a.initMessageHeaders,t),Th()||Sh()||0<=xh().indexOf("Electron/")||Ch()||0<=xh().indexOf("MSAppHost/")||Ih()||(a.httpHeadersOverwriteParam="$httpHeaders"),KO("Connection","Creating WebChannel: "+(t=n.join("")),a);var o=r.createWebChannel(t,a),s=!1,u=!1,c=new xU({vi:function(e){u?KO("Connection","Not sending because WebChannel is closed:",e):(s||(KO("Connection","Opening WebChannel transport."),o.open(),s=!0),KO("Connection","WebChannel sending:",e),o.send(e))},Vi:function(){return o.close()}}),l=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return l(o,jO.EventType.OPEN,(function(){u||KO("Connection","WebChannel transport opened.")})),l(o,jO.EventType.CLOSE,(function(){u||(u=!0,KO("Connection","WebChannel transport closed"),c.$i())})),l(o,jO.EventType.ERROR,(function(e){u||(u=!0,GO("Connection","WebChannel transport errored:",e),c.$i(new XO(JO.UNAVAILABLE,"The operation could not be completed")))})),l(o,jO.EventType.MESSAGE,(function(e){if(!u){YO(!!(e=e.data[0]));var t=e.error||(null===(t=e[0])||void 0===t?void 0:t.error);if(t){KO("Connection","WebChannel received error:",t);var n=t.status,r=function(e){if(void 0!==(e=PO[e]))return aL(e)}(n),i=t.message;void 0===r&&(r=JO.INTERNAL,i="Unknown error status: "+n+" with message "+t.message),u=!0,c.$i(new XO(r,i)),o.close()}else KO("Connection","WebChannel received:",e),c.Oi(e)}})),l(i,LO.STAT_EVENT,(function(e){e.stat===MO?KO("Connection","Detected buffering proxy"):e.stat===FO&&KO("Connection","Detected no buffering proxy")})),setTimeout((function(){c.ki()}),0),c}}]),n}(function(){function e(t){k(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return w(e,[{key:"Li",value:function(e,t,n,r){var i=this.Bi(e,t);return KO("RestConnection","Sending: ",i,n),t={},this.Ui(t,r),this.qi(e,i,t,n).then((function(e){return KO("RestConnection","Received: ",e),e}),(function(t){throw GO("RestConnection","".concat(e," failed with error: "),t,"url: ",i,"request:",n),t}))}},{key:"Ki",value:function(e,t,n,r){return this.Li(e,t,n,r)}},{key:"Ui",value:function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+BO,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}},{key:"Bi",value:function(e,t){return e=_U[e],"".concat(this.Fi,"/v1/").concat(t,":").concat(e)}}]),e}());function EU(){return"undefined"!=typeof window?window:null}function IU(){return"undefined"!=typeof document?document:null}function SU(e){return new CL(e,!0)}var CU=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;k(this,e),this.Oe=t,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=a,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}return w(e,[{key:"reset",value:function(){this.zi=0}},{key:"Yi",value:function(){this.zi=this.Gi}},{key:"Xi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);0<i&&KO("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.zi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Ji=Date.now(),e()})),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}},{key:"tr",value:function(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}},{key:"cancel",value:function(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}},{key:"Zi",value:function(){return(Math.random()-.5)*this.zi}}]),e}(),AU=function(){function e(t,n,r,i,a,o){k(this,e),this.Oe=t,this.er=r,this.nr=i,this.credentialsProvider=a,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new CU(t,n)}return w(e,[{key:"ar",value:function(){return 1===this.state||2===this.state||4===this.state}},{key:"cr",value:function(){return 2===this.state}},{key:"start",value:function(){3!==this.state?this.auth():this.ur()}},{key:"stop",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ar(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hr",value:function(){this.state=0,this.rr.reset()}},{key:"lr",value:function(){var e=this;this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,(function(){return e.dr()})))}},{key:"wr",value:function(e){this._r(),this.stream.send(e)}},{key:"dr",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_r",value:function(){this.ir&&(this.ir.cancel(),this.ir=null)}},{key:"close",value:function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():n&&n.code===JO.RESOURCE_EXHAUSTED?(HO(n.toString()),HO("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):n&&n.code===JO.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,e.next=8,this.listener.Ci(n);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"mr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then((function(t){e.sr===n&&e.yr(t)}),(function(n){t((function(){var t=new XO(JO.UNKNOWN,"Fetching auth token failed: "+n.message);return e.pr(t)}))}))}},{key:"yr",value:function(e){var t=this,n=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si((function(){n((function(){return t.state=2,t.listener.Si()}))})),this.stream.Ci((function(e){n((function(){return t.pr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))}},{key:"ur",value:function(){var e=this;this.state=4,this.rr.Xi(f(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"pr",value:function(e){return KO("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(3,e)}},{key:"gr",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.sr===e?n():(KO("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),NU=function(e){y(n,e);var t=g(n);function n(e,r,i,a,o){var s;return k(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",r,i,o)).N=a,s}return w(n,[{key:"Tr",value:function(e){return this.nr.ji("Listen",e)}},{key:"onMessage",value:function(e){this.rr.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r="NO_CHANGE"===(a=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===a?1:"REMOVE"===a?2:"CURRENT"===a?3:"RESET"===a?4:$O(),i=t.targetChange.targetIds||[],a=(o=t.targetChange.resumeToken,e.D?(YO(void 0===o||"string"==typeof o),bR.fromBase64String(o||"")):(YO(void 0===o||o instanceof Uint8Array),bR.fromUint8Array(o||new Uint8Array))),o=t.targetChange.cause,s=o&&(o=void 0===(s=o).code?JO.UNKNOWN:aL(s.code),new XO(o,s.message||""));n=new bL(r,i,a,s||null)}else if("documentChange"in t){t.documentChange,(c=t.documentChange).document,c.document.name,c.document.updateTime;var a=LL(e,c.document.name),u=PL(c.document.updateTime),s=new KR({mapValue:{fields:c.document.fields}}),c=(u=HR.newFoundDocument(a,u,s),s=c.targetIds||[],c.removedTargetIds||[]);n=new kL(s,c,u.key,u)}else if("documentDelete"in t){t.documentDelete,(c=t.documentDelete).document,u=LL(e,c.document);var l=c.readTime?PL(c.readTime):hR.min();l=HR.newNoDocument(u,l),c=c.removedTargetIds||[],n=new kL([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove,(l=t.documentRemove).document;var f=LL(e,l.document);l=l.removedTargetIds||[],n=new kL([],l,f,null)}else{if(!("filter"in t))return $O();t.filter;var h=t.filter;h.targetId,f=h.count||0,t=new rL(f),f=h.targetId,n=new wL(f,t)}return n}(this.N,e);return e=function(e){return"targetChange"in e?(e=e.targetChange).targetIds&&e.targetIds.length||!e.readTime?hR.min():PL(e.readTime):hR.min()}(e),this.listener.Er(t,e)}},{key:"Ir",value:function(e){var t,n={};n.database=UL(this.N),n.addTarget=function(e,t){var n,r=t.target;return(n=JR(r)?{documents:WL(e,r)}:{query:KL(e,r)}).targetId=t.targetId,0<t.resumeToken.approximateByteSize()?n.resumeToken=NL(e,t.resumeToken):0<t.snapshotVersion.compareTo(hR.min())&&(n.readTime=AL(e,t.snapshotVersion.toTimestamp())),n}(this.N,e),this.N,t=e,(e=null==(e=function(){switch(t.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $O()}}())?null:{"goog-listen-tags":e})&&(n.labels=e),this.wr(n)}},{key:"Ar",value:function(e){var t={};t.database=UL(this.N),t.removeTarget=e,this.wr(t)}}]),n}(AU),PU=function(e){y(n,e);var t=g(n);function n(e,r,i,a,o){var s;return k(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",r,i,o)).N=a,s.Rr=!1,s}return w(n,[{key:"br",get:function(){return this.Rr}},{key:"start",value:function(){this.Rr=!1,this.lastStreamToken=void 0,s(u(n.prototype),"start",this).call(this)}},{key:"mr",value:function(){this.Rr&&this.Pr([])}},{key:"Tr",value:function(e){return this.nr.ji("Write",e)}},{key:"onMessage",value:function(e){if(YO(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();var t=(n=e.writeResults,r=e.commitTime,n&&0<n.length?(YO(void 0!==r),n.map((function(e){return function(e,t){var n=e.updateTime?PL(e.updateTime):PL(t);return n.isEqual(hR.min())&&(n=PL(t)),new BD(n,e.transformResults||[])}(e,r)}))):[]),n=PL(e.commitTime);return this.listener.vr(n,t)}var r;return YO(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}},{key:"Sr",value:function(){var e={};e.database=UL(this.N),this.wr(e)}},{key:"Pr",value:function(e){var t=this;e={streamToken:this.lastStreamToken,writes:e.map((function(e){return BL(t.N,e)}))},this.wr(e)}}]),n}(AU),OU=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this)).credentials=e,a.nr=r,a.N=i,a.Dr=!1,a}return w(n,[{key:"Cr",value:function(){if(this.Dr)throw new XO(JO.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Li",value:function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.nr.Li(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===JO.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new XO(JO.UNKNOWN,e.toString())}))}},{key:"Ki",value:function(e,t,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.nr.Ki(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===JO.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new XO(JO.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Dr=!0}}]),n}(function(){function e(){k(this,e)}return e}()),RU=function(){function e(t,n){k(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}return w(e,[{key:"Or",value:function(){var e=this;0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.kr=null,e.Mr("Backend didn't respond within 10 seconds."),e.Fr("Offline"),Promise.resolve()})))}},{key:"Lr",value:function(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,1<=this.Nr&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Fr("Offline")))}},{key:"set",value:function(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}},{key:"Fr",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Mr",value:function(e){e="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend."),this.$r?(HO(e),this.$r=!1):KO("OnlineStateTracker",e)}},{key:"Br",value:function(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}]),e}(),DU=function e(t,n,r,i,a){var o=this;k(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=a,this.Qr.Ti((function(e){r.enqueueAndForget(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=KU(o),!e.t0){e.next=5;break}return KO("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).Kr.add(4),e.next=4,FU(n);case 4:return n.Wr.set("Unknown"),n.Kr.delete(4),e.next=8,LU(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Wr=new RU(r,i)};function LU(e){return MU.apply(this,arguments)}function MU(){return MU=f(c.mark((function e(t){var n,r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!KU(t)){e.next=18;break}n=d(t.jr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),MU.apply(this,arguments)}function FU(e){return UU.apply(this,arguments)}function UU(){return UU=f(c.mark((function e(t){var n,r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(t.jr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),UU.apply(this,arguments)}function jU(e,t){var n=e;n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),WU(n)?zU(n):nj(n).cr()&&VU(n,t))}function qU(e,t){var n=e,r=nj(n);n.qr.delete(t),r.cr()&&BU(n,t),0===n.qr.size&&(r.cr()?r.lr():KU(n)&&n.Wr.set("Unknown"))}function VU(e,t){e.Gr.Y(t.targetId),nj(e).Ir(t)}function BU(e,t){e.Gr.Y(t),nj(e).Ar(t)}function zU(e){e.Gr=new xL({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qr.get(t)||null}}),nj(e).start(),e.Wr.Or()}function WU(e){return KU(e)&&!nj(e).ar()&&0<e.qr.size}function KU(e){return 0===e.Kr.size}function HU(e){e.Gr=void 0}function GU(e,t,n){return QU.apply(this,arguments)}function QU(){return QU=f(c.mark((function e(t,n,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(SM(n)){e.next=2;break}throw n;case 2:return t.Kr.add(1),e.next=5,FU(t);case 5:t.Wr.set("Offline"),r=r||function(){return KF(t.localStore)},t.asyncQueue.enqueueRetryable(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return KO("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Kr.delete(1),e.next=6,LU(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),QU.apply(this,arguments)}function $U(e,t){return t().catch((function(n){return GU(e,n,t)}))}function YU(e){return JU.apply(this,arguments)}function JU(){return JU=f(c.mark((function e(t){var n,r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=rj(n=t),i=0<n.Ur.length?n.Ur[n.Ur.length-1].batchId:-1;case 2:if(!(KU(o=n)&&o.Ur.length<10)){e.next=19;break}return e.prev=3,e.next=6,function(e,t){var n=e;return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)}))}(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Ur.length&&r.lr(),e.abrupt("break",19);case 10:i=a.batchId,function(e,t){e.Ur.push(t);var n=rj(e);n.cr()&&n.br&&n.Pr(t.mutations)}(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,GU(n,e.t0);case 17:e.next=2;break;case 19:XU(n)&&ZU(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),JU.apply(this,arguments)}function XU(e){return KU(e)&&!rj(e).ar()&&0<e.Ur.length}function ZU(e){rj(e).start()}function ej(e,t){return tj.apply(this,arguments)}function tj(){return tj=f(c.mark((function e(t,n){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,!n){e.next=7;break}return r.Kr.delete(2),e.next=5,LU(r);case 5:e.next=11;break;case 7:return r.Kr.add(2),e.next=10,FU(r);case 10:r.Wr.set("Unknown");case 11:case"end":return e.stop()}}),e)}))),tj.apply(this,arguments)}function nj(e){return e.zr||(e.zr=function(e,t,n){var r=e;return r.Cr(),new NU(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qr.forEach((function(e,n){VU(t,e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(null,e),Ci:function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:HU(t),WU(t)?(t.Wr.Lr(n),zU(t)):t.Wr.set("Unknown");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}().bind(null,e),Er:function(){var e=f(c.mark((function e(t,n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Wr.set("Online"),!(n instanceof bL&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=f(c.mark((function e(t){var r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=d(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qr.delete(o),t.Gr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()(t);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),KO("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,GU(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof kL?t.Gr.rt(n):n instanceof wL?t.Gr.ft(n):t.Gr.ct(n),r.isEqual(hR.min())){e.next=29;break}return e.prev=14,e.next=17,KF(t.localStore);case 17:if(i=e.sent,e.t1=0<=r.compareTo(i),!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Gr._t(t);return n.targetChanges.forEach((function(n,r){if(0<n.resumeToken.approximateByteSize()){var i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qr.get(t);n&&(e.qr.set(t,n.withResumeToken(bR.EMPTY_BYTE_STRING,n.snapshotVersion)),BU(e,t),t=new MM(n.target,t,1,n.sequenceNumber),VU(e,t))})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),KO("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,GU(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])})));return function(t,n,r){return e.apply(this,arguments)}}().bind(null,e)}),e.jr.push(function(){var t=f(c.mark((function t(n){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zr.hr(),WU(e)?zU(e):e.Wr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zr.stop();case 6:HU(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zr}function rj(e){return e.Hr||(e.Hr=function(e,t,n){var r=e;return r.Cr(),new PU(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rj(t).Sr();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(null,e),Ci:function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&rj(t).br,!e.t0){e.next=4;break}return e.next=4,function(){var e=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!iL(i=n.code)||i===JO.ABORTED){e.next=7;break}return r=t.Ur.shift(),rj(t).hr(),e.next=5,$U(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,YU(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:XU(t)&&ZU(t);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}().bind(null,e),Vr:function(){var e=f(c.mark((function e(t){var n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=rj(t),r=d(t.Ur);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Pr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(null,e),vr:function(){var e=f(c.mark((function e(t,n,r){var i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Ur.shift(),a=LM.from(i,n,r),e.next=3,$U(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,YU(t);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}().bind(null,e)}),e.jr.push(function(){var t=f(c.mark((function t(n){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Hr.hr(),t.next=4,YU(e);case 4:t.next=9;break;case 6:return t.next=8,e.Hr.stop();case 8:0<e.Ur.length&&(KO("RemoteStore","Stopping write stream with ".concat(e.Ur.length," pending writes")),e.Ur=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Hr}var ij=function(){function e(t,n,r,i,a){k(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ZO,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return w(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new XO(JO.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function aj(e,t){if(HO("AsyncQueue","".concat(t,": ").concat(e)),SM(e))return new XO(JO.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var oj=function(){function e(t){k(this,e),this.comparator=t?function(e,n){return t(e,n)||PR.comparator(e.key,n.key)}:function(e,t){return PR.comparator(e.key,t.key)},this.keyedMap=hL,this.sortedSet=new oL(this.comparator)}return w(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){return(e=this.keyedMap.get(e))?this.sortedSet.indexOf(e):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),sj=function(){function e(){k(this,e),this.Jr=new oL(PR.comparator)}return w(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jr.get(t);!n||0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):$O()}},{key:"Yr",value:function(){var e=[];return this.Jr.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),uj=function(){function e(t,n,r,i,a,o,s,u){k(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return w(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xD(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,oj.emptySet(n),a,r,i,!0,!1)}}]),e}(),cj=function e(){k(this,e),this.Xr=void 0,this.listeners=[]},lj=function e(){k(this,e),this.queries=new xF((function(e){return TD(e)}),xD),this.onlineState="Unknown",this.Zr=new Set};function fj(e,t){return hj.apply(this,arguments)}function hj(){return hj=f(c.mark((function e(t,n){var r,i,a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new cj),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xr=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=aj(e.t0,"Initialization of query '".concat(ED(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.eo(r.onlineState),!o.Xr||n.no(o.Xr)&&vj(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),hj.apply(this,arguments)}function dj(e,t){return pj.apply(this,arguments)}function pj(){return pj=f(c.mark((function e(t,n){var r,i,a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,i=n.query,a=!1,(o=r.queries.get(i))&&0<=(s=o.listeners.indexOf(n))&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),pj.apply(this,arguments)}function vj(e){e.Zr.forEach((function(e){e.next()}))}var yj=function(){function e(t,n,r){k(this,e),this.query=t,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=r||{}}return w(e,[{key:"no",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=d(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new uj(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.io?this.oo(e)&&(this.so.next(e),a=!0):this.ao(e,this.onlineState)&&(this.co(e),a=!0),this.ro=e,a}},{key:"onError",value:function(e){this.so.error(e)}},{key:"eo",value:function(e){this.onlineState=e;var t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}},{key:"ao",value:function(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}},{key:"oo",value:function(e){if(0<e.docChanges.length)return!0;var t=this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"co",value:function(e){e=uj.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}]),e}(),gj=function(){function e(t,n){k(this,e),this.payload=t,this.byteLength=n}return w(e,[{key:"ho",value:function(){return"metadata"in this.payload}}]),e}(),mj=function(){function e(t){k(this,e),this.N=t}return w(e,[{key:"zn",value:function(e){return LL(this.N,e)}},{key:"Hn",value:function(e){return e.metadata.exists?VL(this.N,e.document,!1):HR.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}},{key:"Jn",value:function(e){return PL(e)}}]),e}(),kj=function(){function e(t,n,r){k(this,e),this.lo=t,this.localStore=n,this.N=r,this.queries=[],this.documents=[],this.progress=wj(t)}return w(e,[{key:"fo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"wo",value:function(e){var t,n=new Map,r=new mj(this.N),i=d(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.zn(a.metadata.name),u=d(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||vL()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=f(c.mark((function e(){var t,n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=f(c.mark((function e(t,n,r,i){var a,o,s,u,l,f,h,p,v,y;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t,o=vL(),s=fL,u=dL,l=d(r);try{for(l.s();!(f=l.n()).done;)h=f.value,p=n.zn(h.metadata.name),h.document&&(o=o.add(p)),s=s.insert(p,n.Hn(h)),u=u.insert(p,n.Jn(h.metadata.readTime))}catch(c){l.e(c)}finally{l.f()}return v=a.jn.newChangeBuffer({trackRemovals:!0}),e.next=7,QF(a,(i=i,bD(pD(gR.fromString("__bundle__/docs/".concat(i))))));case 7:return y=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return GF(e,v,s,hR.min(),u).next((function(t){return v.apply(e),t})).next((function(t){return a.ze.removeMatchingKeysForTargetId(e,y.targetId).next((function(){return a.ze.addMatchingKeys(e,o,y.targetId)})).next((function(){return a.Qn.vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(this.localStore,new mj(this.N),this.documents,this.lo.id);case 2:t=e.sent,n=this.wo(this.documents),r=d(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,function(){var e=f(c.mark((function e(t,n){var r,i,a,o=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:vL(),e.next=3,QF(t,bD(GM(n.bundledQuery)));case 3:return i=e.sent,a=t,e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=PL(n.readTime);return 0<=i.snapshotVersion.compareTo(t)?a.Je.saveNamedQuery(e,n):(t=i.withResumeToken(bR.EMPTY_BYTE_STRING,t),a.Un=a.Un.insert(t.targetId,t),a.ze.updateTargetData(e,t).next((function(){return a.ze.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ze.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Je.saveNamedQuery(e,n)})))})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new FF(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function wj(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var bj=function e(t){k(this,e),this.key=t},_j=function e(t){k(this,e),this.key=t},xj=function(){function e(t,n){k(this,e),this.query=t,this._o=n,this.mo=null,this.current=!1,this.yo=vL(),this.mutatedKeys=vL(),this.po=SD(t),this.To=new oj(this.po)}return w(e,[{key:"Eo",get:function(){return this._o}},{key:"Io",value:function(e,t){var n=this,r=t?t.Ao:new sj,i=(t||this).To,a=(t||this).mutatedKeys,o=i,s=!1,u=vD(this.query)&&i.size===this.query.limit?i.last():null,c=yD(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ID(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ro(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&0<n.po(f,u)||c&&n.po(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(a=f?(o=o.add(f),d?a.add(e):a.delete(e)):(o=o.delete(e),a.delete(e)))})),vD(this.query)||yD(this.query))for(;o.size>this.query.limit;){var l=vD(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{To:o,Ao:r,Ln:s,mutatedKeys:a}}},{key:"Ro",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;var a=e.Ao.Yr();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $O()}};return n(e)-n(t)}(e.type,t.type)||r.po(e.doc,t.doc)})),this.bo(n);var o=t?this.Po():[];return t=(n=0===this.yo.size&&this.current?1:0)!==this.mo,this.mo=n,0!==a.length||t?{snapshot:new uj(this.query,e.To,i,a,e.mutatedKeys,0==n,t,!1),vo:o}:{vo:o}}},{key:"eo",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new sj,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}},{key:"Vo",value:function(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}},{key:"bo",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._o=t._o.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t._o=t._o.delete(e)})),this.current=e.current)}},{key:"Po",value:function(){var e=this;if(!this.current)return[];var t=this.yo;this.yo=vL(),this.To.forEach((function(t){e.Vo(t.key)&&(e.yo=e.yo.add(t.key))}));var n=[];return t.forEach((function(t){e.yo.has(t)||n.push(new _j(t))})),this.yo.forEach((function(e){t.has(e)||n.push(new bj(e))})),n}},{key:"So",value:function(e){return this._o=e.Gn,this.yo=vL(),e=this.Io(e.documents),this.applyChanges(e,!0)}},{key:"Do",value:function(){return uj.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}]),e}(),Tj=function e(t,n,r){k(this,e),this.query=t,this.targetId=n,this.view=r},Ej=function e(t){k(this,e),this.key=t,this.Co=!1},Ij=function(){function e(t,n,r,i,a,o){k(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.No={},this.xo=new xF((function(e){return TD(e)}),xD),this.ko=new Map,this.$o=new Set,this.Oo=new oL(PR.comparator),this.Fo=new Map,this.Mo=new tU,this.Lo={},this.Bo=new Map,this.Uo=lF.ie(),this.onlineState="Unknown",this.qo=void 0}return w(e,[{key:"isPrimaryClient",get:function(){return!0===this.qo}}]),e}();function Sj(e,t,n,r){return Cj.apply(this,arguments)}function Cj(){return Cj=f(c.mark((function e(t,n,r,i){var a,o,s,u,l;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ko=function(e,n,r){return function(){var e=f(c.mark((function e(t,r,i){var a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.view.Io(n),e.t0=a.Ln,!e.t0){e.next=6;break}return e.next=5,JF(t.localStore,r.query,!1).then((function(e){var t=e.documents;return r.view.Io(t,a)}));case 5:a=e.sent;case 6:return i=i&&i.targetChanges.get(r.targetId),i=r.view.applyChanges(a,t.isPrimaryClient,i),e.abrupt("return",(qj(t,r.targetId,i.vo),i.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()(t,e,r)},e.next=3,JF(t.localStore,n,!0);case 3:return a=e.sent,o=new xj(n,a.Gn),s=o.Io(a.documents),u=mL.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(s,t.isPrimaryClient,u),qj(t,r,l.vo),i=new Tj(n,r,o),e.abrupt("return",(t.xo.set(n,i),t.ko.has(r)?t.ko.get(r).push(n):t.ko.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Cj.apply(this,arguments)}function Aj(e,t,n){return Nj.apply(this,arguments)}function Nj(){return Nj=f(c.mark((function e(t,n,r){var i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yj(t),e.prev=1,e.next=4,function(e,t){var n,r=e,i=fR.now(),a=t.reduce((function(e,t){return e.add(t.key)}),vL());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Qn.Pn(e,a).next((function(a){n=a;var o,s=[],u=d(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=function(e,t){var n,r=null,i=d(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=OD(a.transform,o||null);null!=s&&(null==r&&(r=KR.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}(c,n.get(c.key));null!=l&&s.push(new JD(c.key,l,function e(t){var n=[];return pR(t.fields,(function(t,r){var i=new kR([t]);if(zR(r)){var a=e(r.mapValue).fields;if(0===a.length)n.push(i);else{var o,s=d(a);try{for(s.s();!(o=s.n()).done;){var u=o.value;n.push(i.child(u))}}catch(c){s.e(c)}finally{s.f()}}}else n.push(i)})),new wR(n)}(l.value.mapValue),zD.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.In.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Lo[e.currentUser.toKey()];r=(r=r||new oL(uR)).insert(t,n),e.Lo[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Bj(i,a.changes);case 9:return e.next=11,YU(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=aj(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Nj.apply(this,arguments)}function Pj(e,t){return Oj.apply(this,arguments)}function Oj(){return Oj=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.prev=1,e.next=4,HF(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Fo.get(t);n&&(YO(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),0<e.addedDocuments.size?n.Co=!0:0<e.modifiedDocuments.size?YO(n.Co):0<e.removedDocuments.size&&(YO(n.Co),n.Co=!1))})),e.next=8,Bj(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,vF(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Oj.apply(this,arguments)}function Rj(e,t,n){var r=e;if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.xo.forEach((function(e,n){(n=n.view.eo(t)).snapshot&&i.push(n.snapshot)})),function(e,t){var n=e;n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=d(n.listeners);try{for(a.s();!(i=a.n()).done;)i.value.eo(t)&&(r=!0)}catch(o){a.e(o)}finally{a.f()}})),r&&vj(n)}(r.eventManager,t),i.length&&r.No.Er(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Dj(e,t){return Lj.apply(this,arguments)}function Lj(){return Lj=f(c.mark((function e(t,n){var r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,i=n.batch.batchId,e.prev=1,e.next=4,function(e,t){var n=e;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=_M.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);YO(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.In.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.In.performConsistencyCheck(e)})).next((function(){return n.Qn.Pn(e,r)}))}))}(r.localStore,n);case 4:return a=e.sent,Fj(r,i,null),Mj(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Bj(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vF(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Lj.apply(this,arguments)}function Mj(e,t){(e.Bo.get(t)||[]).forEach((function(e){e.resolve()})),e.Bo.delete(t)}function Fj(e,t,n){var r=e,i=r.Lo[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function Uj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=d(e.ko.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.xo.delete(a),n&&e.No.jo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach((function(t){e.Mo.containsKey(t)||jj(e,t)}))}function jj(e,t){e.$o.delete(t.path.canonicalString());var n=e.Oo.get(t);null!==n&&(qU(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),Vj(e))}function qj(e,t,n){var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof bj?(e.Mo.addReference(a.key,t),function(e,t){var n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(KO("SyncEngine","New document in limbo: "+n),e.$o.add(r),Vj(e))}(e,a)):a instanceof _j?(KO("SyncEngine","Document no longer in limbo: "+a.key),e.Mo.removeReference(a.key,t),e.Mo.containsKey(a.key)||jj(e,a.key)):$O()}}catch(o){i.e(o)}finally{i.f()}}function Vj(e){for(;0<e.$o.size&&e.Oo.size<e.maxConcurrentLimboResolutions;){var t=e.$o.values().next().value;e.$o.delete(t);var n=new PR(gR.fromString(t));t=e.Uo.next(),e.Fo.set(t,new Ej(n)),e.Oo=e.Oo.insert(n,t),jU(e.remoteStore,new MM(bD(pD(n.path)),t,2,oR.T))}}function Bj(e,t,n){return zj.apply(this,arguments)}function zj(){return zj=f(c.mark((function e(t,n,r){var i,a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t,a=[],o=[],s=[],e.t0=i.xo.isEmpty(),e.t0){e.next=9;break}return i.xo.forEach((function(e,t){s.push(i.Ko(t,n,r).then((function(e){e&&(i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e),e=jF.kn(t.targetId,e),o.push(e))})))})),e.next=6,Promise.all(s);case 6:return i.No.Er(a),e.next=9,function(){var e=f(c.mark((function e(t,n){var r,i,a,o,s,u,l,f;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return _M.forEach(n,(function(t){return _M.forEach(t.Nn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return _M.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),SM(e.t0)){e.next=10;break}throw e.t0;case 10:KO("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=d(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Un.get(s),l=u.snapshotVersion,f=u.withLastLimboFreeSnapshotVersion(l),r.Un=r.Un.insert(s,f))}catch(c){i.e(c)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),zj.apply(this,arguments)}function Wj(e,t){return Kj.apply(this,arguments)}function Kj(){return Kj=f(c.mark((function e(t,n){var r,i,a,o,s,u,l,f;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($j(r=t),Yj(r),!0!==n||!0===r.qo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Hj(r,i.toArray());case 5:return a=e.sent,r.qo=!0,e.next=9,ej(r.remoteStore,!0);case 9:o=d(a);try{for(o.s();!(s=o.n()).done;)u=s.value,jU(r.remoteStore,u)}catch(c){o.e(c)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.qo){e.next=25;break}return l=[],f=Promise.resolve(),r.ko.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return Uj(r,t),$F(r.localStore,t,!0)})),qU(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,Hj(r,l);case 21:return function(){var e=r;e.Fo.forEach((function(t,n){qU(e.remoteStore,n)})),e.Mo.us(),e.Fo=new Map,e.Oo=new oL(PR.comparator)}(),r.qo=!1,e.next=25,ej(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Kj.apply(this,arguments)}function Hj(e,t){return Gj.apply(this,arguments)}function Gj(){return Gj=f(c.mark((function e(t,n){var r,i,a,o,s,u,l,f,h,p,v,y,g,m,k,w,b;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t,i=[],a=[],o=d(n),e.prev=2,o.s();case 4:if((s=o.n()).done){e.next=53;break}if(u=s.value,l=void 0,!(f=r.ko.get(u))||0===f.length){e.next=42;break}return e.next=11,QF(r.localStore,bD(f[0]));case 11:l=e.sent,h=d(f),e.prev=13,h.s();case 15:if((p=h.n()).done){e.next=32;break}return v=p.value,y=r.xo.get(v),k=r,w=y,b=void 0,e.next=23,JF((b=k).localStore,w.query,!0);case 23:return k=e.sent,k=w.view.So(k),b.isPrimaryClient&&qj(b,w.targetId,k.vo),e.next=28,k;case 28:(g=e.sent).snapshot&&a.push(g.snapshot);case 30:e.next=15;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(13),h.e(e.t0);case 37:return e.prev=37,h.f(),e.finish(37);case 40:e.next=50;break;case 42:return e.next=44,XF(r.localStore,u);case 44:return m=e.sent,e.next=47,QF(r.localStore,m);case 47:return l=e.sent,e.next=50,Sj(r,Qj(m),u,!1);case 50:i.push(l);case 51:e.next=4;break;case 53:e.next=58;break;case 55:e.prev=55,e.t1=e.catch(2),o.e(e.t1);case 58:return e.prev=58,o.f(),e.finish(58);case 61:return e.abrupt("return",(r.No.Er(a),i));case 62:case"end":return e.stop()}}),e,null,[[2,55,58,61],[13,34,37,40]])}))),Gj.apply(this,arguments)}function Qj(e){return dD(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $j(e){var t=e;return t.remoteStore.remoteSyncer.applyRemoteEvent=Pj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=e,r=n.Fo.get(t);if(r&&r.Co)return vL().add(r.key);var i=vL(),a=n.ko.get(t);if(!a)return i;var o,s=d(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.xo.get(u);i=i.unionWith(c.view.Eo)}}catch(l){s.e(l)}finally{s.f()}return i}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(){var e=f(c.mark((function e(t,n,r){var i,a,o,s,u,l;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t).sharedClientState.updateQueryState(n,"rejected",r),a=i.Fo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new oL(PR.comparator)).insert(o,HR.newNoDocument(o,hR.min())),u=vL().add(o),l=new gL(hR.min(),new Map,new cL(uR),s,u),e.next=9,Pj(i,l);case 9:i.Oo=i.Oo.remove(o),i.Fo.delete(n),Vj(i),e.next=16;break;case 14:return e.next=16,$F(i.localStore,n,!1).then((function(){return Uj(i,n,r)})).catch(vF);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}().bind(null,t),t.No.Er=function(e,t){var n,r=e,i=!1,a=d(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=d(u.listeners);try{for(l.s();!(c=l.n()).done;)c.value.no(o)&&(i=!0)}catch(f){l.e(f)}finally{l.f()}u.Xr=o}}}catch(f){a.e(f)}finally{a.f()}i&&vj(r)}.bind(null,t.eventManager),t.No.jo=function(e,t,n){var r=e,i=r.queries.get(t);if(i){var a,o=d(i.listeners);try{for(o.s();!(a=o.n()).done;)a.value.onError(n)}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}.bind(null,t.eventManager),t}function Yj(e){var t=e;return t.remoteStore.remoteSyncer.applySuccessfulWrite=Dj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=function(){var e=f(c.mark((function e(t,n,r){var i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t,e.prev=1,e.next=4,function(e,t){var n=e;return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.In.lookupMutationBatch(e,t).next((function(t){return YO(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)})).next((function(){return n.In.performConsistencyCheck(e)})).next((function(){return n.Qn.Pn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Fj(i,n,r),Mj(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Bj(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vF(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n,r){return e.apply(this,arguments)}}().bind(null,t),t}var Jj=function(){function e(){k(this,e),this.synchronizeTabs=!1}return w(e,[{key:"initialize",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.N=SU(t.databaseInfo.databaseId),this.sharedClientState=this.Wo(t),this.persistence=this.Go(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.zo(t),this.localStore=this.Ho(t);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"zo",value:function(e){return null}},{key:"Ho",value:function(e){return BF(this.persistence,new qF,e.initialUser,this.N)}},{key:"Go",value:function(e){return new sU(cU.Ns,this.N)}},{key:"Wo",value:function(e){return new kU}},{key:"terminate",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Xj=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this)).Jo=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return w(n,[{key:"initialize",value:function(){var e=f(c.mark((function e(t){var r=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(u(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(){var t=CF(e),n=hR.min();return t.Kt({index:lM.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=VM(t.readTime)),r.done()})).next((function(){return n}))}()})).then((function(e){n.Kn=e})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.localStore);case 4:return e.next=6,this.Jo.initialize(this,t);case 6:return e.next=8,Yj(this.Jo.syncEngine);case 8:return e.next=10,YU(this.Jo.remoteStore);case 10:return e.next=12,this.persistence.nn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Ho",value:function(e){return BF(this.persistence,new qF,e.initialUser,this.N)}},{key:"zo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new kF(t,e.asyncQueue)}},{key:"Go",value:function(e){var t=MF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nF.withCacheSize(this.cacheSizeBytes):nF.DEFAULT;return new RF(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,EU(),IU(),this.N,this.sharedClientState,!!this.forceOwnership)}},{key:"Wo",value:function(e){return new kU}}]),n}(Jj),Zj=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,r,!1)).Jo=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return w(n,[{key:"initialize",value:function(){var e=f(c.mark((function e(t){var r=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(u(n.prototype),"initialize",this).call(this,t);case 2:if(t=this.Jo.syncEngine,e.t0=this.sharedClientState instanceof mU,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={_i:function(){var e=f(c.mark((function e(t,n,r,i){var a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.next=3,function(e,t){var n=e,r=n.In;return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Xt(e,t).next((function(t){return t?n.Qn.Pn(e,t):_M.resolve(null)}))}))}(a.localStore,n);case 3:if(e.t0=t=e.sent,null===e.t0){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,YU(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Fj(a,n,i||null),Mj(a,n),a.localStore.In.te(n)):$O();case 11:return e.next=13,Bj(a,t);case 13:e.next=16;break;case 15:KO("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}().bind(null,t),mi:function(){var e=f(c.mark((function e(t,n,r,i){var a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t).qo){e.next=5;break}KO("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.ko.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,ZF(a.localStore);case 11:return o=e.sent,s=gL.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Bj(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,$F(a.localStore,n,!0);case 18:return Uj(a,n,i),e.abrupt("break",21);case 20:$O();case 21:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}().bind(null,t),gi:function(){var e=f(c.mark((function e(t,n,r){var i,a,o,s,u,l,f,h,p;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=$j(t)).qo){e.next=46;break}a=d(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=22;break}if(s=o.value,!i.ko.has(s)){e.next=11;break}KO("SyncEngine","Adding an already active target "+s),e.next=20;break;case 11:return e.next=13,XF(i.localStore,s);case 13:return u=e.sent,e.next=16,QF(i.localStore,u);case 16:return l=e.sent,e.next=19,Sj(i,Qj(u),l.targetId,!1);case 19:jU(i.remoteStore,l);case 20:e.next=5;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),a.e(e.t0);case 27:return e.prev=27,a.f(),e.finish(27);case 30:f=d(r),e.prev=31,p=c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ko.has(t),!e.t0){e.next=5;break}return e.next=5,$F(i.localStore,t,!1).then((function(){qU(i.remoteStore,t),Uj(i,t)})).catch(vF);case 5:case"end":return e.stop()}}),e)})),f.s();case 34:if((h=f.n()).done){e.next=38;break}return e.delegateYield(p(),"t1",36);case 36:e.next=34;break;case 38:e.next=43;break;case 40:e.prev=40,e.t2=e.catch(31),f.e(e.t2);case 43:return e.prev=43,f.f(),e.finish(43);case 46:case"end":return e.stop()}}),e,null,[[3,24,27,30],[31,40,43,46]])})));return function(t,n,r){return e.apply(this,arguments)}}().bind(null,t),pn:function(e){return e.localStore.persistence.pn()}.bind(null,t),wi:function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",ZF(n.localStore).then((function(e){return Bj(n,e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(null,t)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.nn(function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wj(r.Jo.syncEngine,t);case 2:r.gcScheduler&&(t&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):t||r.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"Wo",value:function(e){var t=EU();if(!mU.bt(t))throw new XO(JO.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=MF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mU(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Xj),eq=function(){function e(){k(this,e)}return w(e,[{key:"initialize",value:function(){var e=f(c.mark((function e(t,n){var r=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Rj(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=function(){var e=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t).currentUser.isEqual(n)){e.next=12;break}return KO("SyncEngine","User change. New user:",n.toKey()),e.next=5,zF(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,(t=r).Bo.forEach((function(e){e.forEach((function(e){e.reject(new XO(JO.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Bo.clear(),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=12,Bj(r,i.Wn);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}().bind(null,this.syncEngine),e.next=12,ej(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"createEventManager",value:function(e){return new lj}},{key:"createDatastore",value:function(e){var t=SU(e.databaseInfo.databaseId),n=(n=e.databaseInfo,new TU(n));return e=e.credentials,new OU(e,n=n,t=t)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Rj(a.syncEngine,e,0)},e=new(bU.bt()?bU:wU),new DU(t,n,r,i,e)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Ij(e,t,n,r,i,a);return o&&(s.qo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,KO("RemoteStore","RemoteStore shutting down."),n.Kr.add(5),e.next=5,FU(n);case 5:n.Qr.shutdown(),n.Wr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function tq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return f(c.mark((function r(){var i;return c.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var nq=function(){function e(t){k(this,e),this.observer=t,this.muted=!1}return w(e,[{key:"next",value:function(e){this.observer.next&&this.Yo(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Xo",value:function(){this.muted=!0}},{key:"Yo",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),rq=function(){function e(t,n){var r=this;k(this,e),this.Zo=t,this.N=n,this.metadata=new ZO,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then((function(e){e&&e.ho()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return w(e,[{key:"close",value:function(){return this.Zo.cancel()}},{key:"getMetadata",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Qo",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ea());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ea",value:function(){var e=f(c.mark((function e(){var t,n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.na();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ta.decode(t),r=Number(n),isNaN(r)&&this.sa("length string (".concat(n,") is not valid number")),e.next=9,this.ia(r);case 9:return n=e.sent,e.abrupt("return",new gj(JSON.parse(n),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ra",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"na",value:function(){var e=f(c.mark((function e(){var t,n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ra()<0,!e.t0){e.next=5;break}return e.next=4,this.oa();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=9;break}case 7:e.next=0;break;case 9:if(0!==this.buffer.length){e.next=11;break}return e.abrupt("return",null);case 11:return(t=this.ra())<0&&this.sa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ia",value:function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.oa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.sa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sa",value:function(e){throw this.Zo.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"oa",value:function(){var e=f(c.mark((function e(){var t,n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Zo.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),iq=function(){function e(t){k(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return w(e,[{key:"lookup",value:function(){var e=f(c.mark((function e(t){var n,r=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(0<this.mutations.length)){e.next=2;break}throw new XO(JO.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=f(c.mark((function e(t,n){var r,i,a,o,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UL((r=t).N)+"/documents",a={documents:n.map((function(e){return DL(r.N,e)}))},e.next=5,r.Ki("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t,n=(t=r.N,"found"in(e=e)?function(e,t){YO(!!t.found),t.found.name,t.found.updateTime;var n=LL(e,t.found.name);return e=PL(t.found.updateTime),t=new KR({mapValue:{fields:t.found.fields}}),HR.newFoundDocument(n,e,t)}(t,e):"missing"in e?function(e,t){return YO(!!t.missing),YO(!!t.readTime),e=LL(e,t.missing),t=PL(t.readTime),HR.newNoDocument(e,t)}(t,e):$O());s.set(n.key.toString(),n)})),u=[],e.abrupt("return",(n.forEach((function(e){YO(!!(e=s.get(e.toString()))),u.push(e)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new tL(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=f(c.mark((function e(){var t,n=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){t=PR.fromPath(t),n.mutations.push(new nL(t,n.precondition(t)))})),e.next=7,function(){var e=f(c.mark((function e(t,n){var r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UL((r=t).N)+"/documents",a={writes:n.map((function(e){return BL(r.N,e)}))},e.next=3,r.Li("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $O();t=hR.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new XO(JO.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zD.updateTime(t):zD.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(this.writtenDocs.has(e.toString())||!t)return zD.exists(!0);if(t.isEqual(hR.min()))throw new XO(JO.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zD.updateTime(t)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),aq=function(){function e(t,n,r,i){k(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.aa=5,this.rr=new CU(this.asyncQueue,"transaction_retry")}return w(e,[{key:"run",value:function(){--this.aa,this.ca()}},{key:"ca",value:function(){var e=this;this.rr.Xi(f(c.mark((function t(){var n,r;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new iq(e.datastore),(r=e.ua(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.ha(t)}))}))})).catch((function(t){e.ha(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ua",value:function(e){try{var t=this.updateFunction(e);return!CR(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"ha",value:function(e){var t=this;0<this.aa&&this.la(e)?(--this.aa,this.asyncQueue.enqueueAndForget((function(){return t.ca(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"la",value:function(e){return"FirebaseError"===e.name&&("aborted"===(e=e.code)||"failed-precondition"===e||!iL(e))}}]),e}(),oq=function(){function e(t,n,r){var i=this;k(this,e),this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=VO.UNAUTHENTICATED,this.clientId=sR.I(),this.credentialListener=function(){return Promise.resolve()},this.credentials.start(n,function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return KO("FirestoreClient","Received user=",t.uid),e.next=3,i.credentialListener(t);case 3:i.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}return w(e,[{key:"getConfiguration",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setCredentialChangeListener",value:function(e){this.credentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new XO(JO.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ZO;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(f(c.mark((function n(){var r;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.credentials.shutdown(),t.resolve(),n.next=17;break;case 13:n.prev=13,n.t2=n.catch(0),r=aj(n.t2,"Failed to shutdown persistence"),t.reject(r);case 17:case"end":return n.stop()}}),n,null,[[0,13]])})))),t.promise}}]),e}();function sq(e,t){return uq.apply(this,arguments)}function uq(){return uq=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),KO("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,zF(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),uq.apply(this,arguments)}function cq(e,t){return lq.apply(this,arguments)}function lq(){return lq=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,fq(t);case 3:return r=e.sent,KO("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=f(c.mark((function e(t,n){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t).asyncQueue.verifyOperationInProgress(),KO("RemoteStore","RemoteStore received new credentials"),t=KU(r),r.Kr.add(3),e.next=6,FU(r);case 6:return t&&r.Wr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Kr.delete(3),e.next=12,LU(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),lq.apply(this,arguments)}function fq(e){return hq.apply(this,arguments)}function hq(){return hq=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return KO("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,sq(t,new Jj);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),hq.apply(this,arguments)}function dq(e){return pq.apply(this,arguments)}function pq(){return pq=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return KO("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,cq(t,new eq);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),pq.apply(this,arguments)}function vq(e){return fq(e).then((function(e){return e.persistence}))}function yq(e){return fq(e).then((function(e){return e.localStore}))}function gq(e){return dq(e).then((function(e){return e.remoteStore}))}function mq(e){return dq(e).then((function(e){return e.syncEngine}))}function kq(e){return wq.apply(this,arguments)}function wq(){return wq=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dq(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=function(){var e=f(c.mark((function e(t,n){var r,i,a,o,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$j(t),!(o=r.xo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Do(),e.next=15;break;case 6:return e.next=8,QF(r.localStore,bD(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,Sj(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&jU(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}().bind(null,n.syncEngine),r.onUnlisten=function(){var e=f(c.mark((function e(t,n){var r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(r=t).xo.get(n),!(1<(a=r.ko.get(i.targetId)).length)){e.next=3;break}return e.abrupt("return",(r.ko.set(i.targetId,a.filter((function(e){return!xD(e,n)}))),void r.xo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,$F(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),qU(r.remoteStore,i.targetId),Uj(r,i.targetId)})).catch(vF);case 9:e.next=14;break;case 11:return Uj(r,i.targetId),e.next=14,$F(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}().bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),wq.apply(this,arguments)}function bq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ZO;return e.asyncQueue.enqueueAndForget(f(c.mark((function i(){return c.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new nq({next:function(a){t.enqueueAndForget((function(){return dj(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new XO(JO.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new XO(JO.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new yj(pD(n.path),a,{includeMetadataChanges:!0,uo:!0});return fj(e,o)},i.next=3,kq(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function _q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ZO;return e.asyncQueue.enqueueAndForget(f(c.mark((function i(){return c.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new nq({next:function(n){t.enqueueAndForget((function(){return dj(e,o)})),n.fromCache&&"server"===r.source?i.reject(new XO(JO.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new yj(n,a,{includeMetadataChanges:!0,uo:!0});return fj(e,o)},i.next=3,kq(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function xq(e,t,n,r){var i=function(e,t){return e=function(e){if(e instanceof Uint8Array)return tq(e,void 0);if(e instanceof ArrayBuffer)return tq(new Uint8Array(e),void 0);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(e="string"==typeof e?(new TextEncoder).encode(e):e),new rq(e,t=t)}(n,SU(t));e.asyncQueue.enqueueAndForget(f(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t,n){var r=e;(function(){var e=f(c.mark((function e(t,n,r){var i,a,o,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=e,r=PL(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Je.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&0<=e.createTime.compareTo(r)}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith({taskState:"Success",documentsLoaded:i.totalDocuments,bytesLoaded:i.totalBytes,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}));case 10:return r._updateProgress(wj(i)),a=new kj(i,t.localStore,n.N),e.next=14,n.Qo();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.fo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Qo();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,Bj(t,u.En,void 0);case 30:return e.next=32,function(e,t){var n=e;return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Je.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),GO("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))},t.next=3,mq(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}var Tq=function e(t,n,r,i,a,o,s,u){k(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u},Eq=function(){function e(t,n){k(this,e),this.projectId=t,this.database=n||"(default)"}return w(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Iq=new Map;function Sq(e,t,n){if(!n)throw new XO(JO.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Cq(e,t,n,r){if(!0===t&&!0===r)throw new XO(JO.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Aq(e){if(!PR.isDocumentKey(e))throw new XO(JO.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Nq(e){if(PR.isDocumentKey(e))throw new XO(JO.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Pq(e){return void 0===e?"undefined":null===e?"null":"string"==typeof e?(20<e.length&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e)):"number"==typeof e||"boolean"==typeof e?""+e:"object"!=typeof e?"function"==typeof e?"a function":$O():e instanceof Array?"an array":(e=(e=e).constructor?e.constructor.name:null)?"a custom ".concat(e," object"):"an object"}function Oq(e,t){if((e="_delegate"in e?e._delegate:e)instanceof t)return e;if(t.name===e.constructor.name)throw new XO(JO.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw e=Pq(e),new XO(JO.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(e))}function Rq(e,t){if(t<=0)throw new XO(JO.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Dq=function(){function e(t){var n;if(k(this,e),void 0===t.host){if(void 0!==t.ssl)throw new XO(JO.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new XO(JO.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Cq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return w(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Lq=function(){function e(t,n){k(this,e),this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dq({}),this._settingsFrozen=!1,t instanceof Eq?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new XO(JO.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eq(e.options.projectId)}(t))}return w(e,[{key:"app",get:function(){if(!this._app)throw new XO(JO.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new XO(JO.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dq(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new tR;switch(e.type){case"gapi":var t=e.client;return YO(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new aR(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new XO(JO.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Iq.get(e);t&&(KO("ComponentProvider","Removing Datastore"),Iq.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}(),Mq=function(){function e(t,n,r){k(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return w(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Uq(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Fq=function(){function e(t,n,r){k(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return w(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Uq=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this,e,r,pD(i)))._path=i,a.type="collection",a}return w(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Mq(this.firestore,null,new PR(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Fq);function jq(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ud(e),Sq("collection","path",t),e instanceof Lq){var a=gR.fromString.apply(gR,[t].concat(l(r)));return Nq(a),new Uq(e,null,a)}if(!(e instanceof Mq||e instanceof Uq))throw new XO(JO.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Nq(r=e._path.child(gR.fromString.apply(gR,[t].concat(l(r))))),new Uq(e.firestore,null,r)}function qq(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ud(e),Sq("doc","path",t=1===arguments.length?sR.I():t),e instanceof Lq){var a=gR.fromString.apply(gR,[t].concat(l(r)));return Aq(a),new Mq(e,null,new PR(a))}if(!(e instanceof Mq||e instanceof Uq))throw new XO(JO.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Aq(r=e._path.child(gR.fromString.apply(gR,[t].concat(l(r))))),new Mq(e.firestore,e instanceof Uq?e.converter:null,new PR(r))}function Vq(e,t){return e=ud(e),t=ud(t),(e instanceof Mq||e instanceof Uq)&&(t instanceof Mq||t instanceof Uq)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Bq(e,t){return e=ud(e),t=ud(t),e instanceof Fq&&t instanceof Fq&&e.firestore===t.firestore&&xD(e._query,t._query)&&e.converter===t.converter}var zq=function(){function e(){var t=this;k(this,e),this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new CU(this,"async_queue_retry"),this.Ta=function(){var e=IU();e&&KO("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.tr()};var n=IU();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ta)}return w(e,[{key:"isShuttingDown",get:function(){return this.wa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ea(),this.Ia(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.wa){this.wa=!0,this.ya=e||!1;var t=IU();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ea(),this.wa)return new Promise((function(){}));var n=new ZO;return this.Ia((function(){return t.wa&&t.ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.da.push(e),t.Aa()}))}},{key:"Aa",value:function(){var e=f(c.mark((function e(){var t=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.da.length){e.next=14;break}return e.prev=1,e.next=4,this.da[0]();case 4:this.da.shift(),this.rr.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),SM(e.t0)){e.next=12;break}throw e.t0;case 12:KO("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:0<this.da.length&&this.rr.Xi((function(){return t.Aa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"Ia",value:function(e){var t=this,n=this.fa.then((function(){return t.ga=!0,e().catch((function(e){throw t.ma=e,t.ga=!1,HO("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.ga=!1,e}))}));return this.fa=n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;return this.Ea(),-1<this.pa.indexOf(e)&&(t=0),n=ij.createAndSchedule(this,e,t,n,(function(e){return r.Ra(e)})),this._a.push(n),n}},{key:"Ea",value:function(){this.ma&&$O()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ba",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t=this.fa;case 2:if(t===this.fa){e.next=6;break}case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Pa",value:function(e){var t,n=d(this._a);try{for(n.s();!(t=n.n()).done;)if(t.value.timerId===e)return!0}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"va",value:function(e){var t=this;return this.ba().then((function(){t._a.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=d(t._a);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ba()}))}},{key:"Va",value:function(e){this.pa.push(e)}},{key:"Ra",value:function(e){e=this._a.indexOf(e),this._a.splice(e,1)}}]),e}();function Wq(e){return function(e){if("object"==typeof e&&null!==e)for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return 1}}(e)}var Kq,Hq,Gq=function(){function e(){k(this,e),this._progressObserver={},this._taskCompletionResolver=new ZO,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return w(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Qq=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,r)).type="firestore",i._queue=new zq,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return w(n,[{key:"_terminate",value:function(){return this._firestoreClient||Yq(this),this._firestoreClient.terminate()}}]),n}(Lq);function $q(e){return e._firestoreClient||Yq(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Yq(e){var t,n,r,i=e._freezeSettings();t=e._databaseId,n=(null===(r=e._app)||void 0===r?void 0:r.options.appId)||"",r=e._persistenceKey,i=new Tq(t,n,r,(i=i).host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams),e._firestoreClient=new oq(e._credentials,e._queue,i)}function Jq(e,t,n){var r=new ZO;return e.asyncQueue.enqueue(f(c.mark((function i(){var a;return c.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,sq(e,n);case 3:return i.next=5,cq(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),"FirebaseError"===(a=i.t0).name?a.code===JO.FAILED_PRECONDITION||a.code===JO.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Xq(e){return function(e){var t=new ZO;return e.asyncQueue.enqueueAndForget(f(c.mark((function n(){return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(){var e=f(c.mark((function e(t,n){var r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return KU((r=t).remoteStore)||KO("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(){var e=r.localStore;return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.In.getHighestUnacknowledgedBatchId(t)}))}();case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Bo.get(i)||[]).push(n),r.Bo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=aj(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}(),n.next=3,mq(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}($q(e=Oq(e,Qq)))}function Zq(e){return(t=$q(e=Oq(e,Qq))).asyncQueue.enqueue(f(c.mark((function e(){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vq(t);case 2:return n=e.sent,e.next=5,gq(t);case 5:return r=e.sent,e.abrupt("return",(n.setNetworkEnabled(!0),function(){var e=r;return e.Kr.delete(0),LU(e)}()));case 7:case"end":return e.stop()}}),e)}))));var t}function eV(e){return(t=$q(e=Oq(e,Qq))).asyncQueue.enqueue(f(c.mark((function e(){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vq(t);case 2:return n=e.sent,e.next=5,gq(t);case 5:return r=e.sent,e.abrupt("return",(n.setNetworkEnabled(!1),f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=r).Kr.add(0),e.next=4,FU(t);case 4:t.Wr.set("Offline");case 5:case"end":return e.stop()}}),e)})))()));case 7:case"end":return e.stop()}}),e)}))));var t}function tV(e,t){return n=$q(e=Oq(e,Qq)),r=t,n.asyncQueue.enqueue(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t){var n=e;return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Je.getNamedQuery(e,t)}))},e.next=3,yq(n);case 3:return e.t1=e.sent,e.t2=r,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).then((function(t){return t?new Fq(e,null,t.query):null}));var n,r}function nV(e){if(e._initialized||e._terminated)throw new XO(JO.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var rV=function(){function e(){k(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new XO(JO.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kR(n)}return w(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}(),iV=function(){function e(t){k(this,e),this._byteString=t}return w(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(bR.fromBase64String(t))}catch(t){throw new XO(JO.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(bR.fromUint8Array(t))}}]),e}(),aV=function e(t){k(this,e),this._methodName=t},oV=function(){function e(t,n){if(k(this,e),!isFinite(t)||t<-90||90<t)throw new XO(JO.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||180<n)throw new XO(JO.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return w(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return uR(this._lat,e._lat)||uR(this._long,e._long)}}]),e}(),sV=/^__.*__$/,uV=function(){function e(t,n,r){k(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return w(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new JD(e,this.data,this.fieldMask,t,this.fieldTransforms):new YD(e,this.data,t,this.fieldTransforms)}}]),e}(),cV=function(){function e(t,n,r){k(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return w(e,[{key:"toMutation",value:function(e,t){return new JD(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function lV(e){switch(e){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw $O()}}var fV=function(){function e(t,n,r,i,a,o){k(this,e),this.settings=t,this.databaseId=n,this.N=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Sa(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return w(e,[{key:"path",get:function(){return this.settings.path}},{key:"Da",get:function(){return this.settings.Da}},{key:"Ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}},{key:"$a",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}},{key:"Oa",value:function(e){return this.Ca({path:void 0,xa:!0})}},{key:"Fa",value:function(e){return PV(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Sa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ka(this.path.get(e))}},{key:"ka",value:function(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(lV(this.Da)&&sV.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}]),e}(),hV=function(){function e(t,n,r){k(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.N=r||SU(t)}return w(e,[{key:"Ba",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new fV({Da:e,methodName:t,La:n,path:kR.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}]),e}();function dV(e){var t=e._freezeSettings(),n=SU(e._databaseId);return new hV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pV(e,t,n,r,i){var a,o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);if(SV("Data must be an object, but it was:",u,r),r=EV(r,u),s.merge)a=new wR(u.fieldMask),o=u.fieldTransforms;else if(s.mergeFields){var c,l=[],f=d(s.mergeFields);try{for(f.s();!(c=f.n()).done;){var h=CV(t,c.value,n);if(!u.contains(h))throw new XO(JO.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));OV(l,h)||l.push(h)}}catch(p){f.e(p)}finally{f.f()}a=new wR(l),o=u.fieldTransforms.filter((function(e){return a.covers(e.field)}))}else a=null,o=u.fieldTransforms;return new uV(new KR(r),a,o)}var vV=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Da)throw 1===e.Da?e.Fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(aV);function yV(e,t,n){return new fV({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}var gV=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"_toFieldTransform",value:function(e){return new VD(e.path,new RD)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(aV),mV=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).Ua=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=yV(this,e,!0),n=this.Ua.map((function(e){return TV(e,t)})),r=new DD(n);return new VD(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(aV),kV=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).Ua=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=yV(this,e,!0),n=this.Ua.map((function(e){return TV(e,t)})),r=new MD(n);return new VD(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(aV),wV=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e)).qa=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=new UD(e.N,ND(e.N,this.qa));return new VD(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(aV);function bV(e,t,n,r){var i=e.Ba(1,t,n);SV("Data must be an object, but it was:",i,r);var a=[],o=KR.empty();return pR(r,(function(e,r){var s=NV(t,e,n);if(r=ud(r),e=i.$a(s),r instanceof vV)a.push(s);else{var u=TV(r,e);null!=u&&(a.push(s),o.set(s,u))}})),r=new wR(a),new cV(o,r,i.fieldTransforms)}function _V(e,t,n,r,i,a){var o=e.Ba(1,t,n),s=[CV(t,r,n)],u=[i];if(a.length%2!=0)throw new XO(JO.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(CV(t,a[c])),u.push(a[c+1]);for(var l=[],f=KR.empty(),h=s.length-1;0<=h;--h)if(!OV(l,s[h])){var d=s[h],p=ud(p=u[h]),v=o.$a(d);if(p instanceof vV)l.push(d);else{var y=TV(p,v);null!=y&&(l.push(d),f.set(d,y))}}return i=new wR(l),new cV(f,i,o.fieldTransforms)}function xV(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return TV(n,e.Ba(r?4:3,t))}function TV(e,t){if(IV(e=ud(e)))return SV("Unsupported field value:",t,e),EV(e,t);if(e instanceof aV)return function(e,t){if(!lV(t.Da))throw t.Fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Fa("".concat(e._methodName,"() is not currently supported inside arrays"));(e=e._toFieldTransform(t))&&t.fieldTransforms.push(e)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(t){var n,r=[],i=0,a=d(e);try{for(a.s();!(n=a.n()).done;){var o=TV(n.value,t.Oa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(t)}return function(t,n){if(null===(t=ud(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ND(n.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var r=fR.fromDate(t);return{timestampValue:AL(n.N,r)}}if(t instanceof fR)return r=new fR(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:AL(n.N,r)};if(t instanceof oV)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof iV)return{bytesValue:NL(n.N,t._byteString)};if(t instanceof Mq){var i=n.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw n.Fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:OL(t.firestore._databaseId||n.databaseId,t._key.path)}}throw n.Fa("Unsupported field value: ".concat(Pq(t)))}(0,t)}function EV(e,t){var n={};return vR(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):pR(e,(function(e,r){null!=(r=TV(r,t.Na(e)))&&(n[e]=r)})),{mapValue:{fields:n}}}function IV(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof fR||e instanceof oV||e instanceof iV||e instanceof Mq||e instanceof aV)}function SV(e,t,n){if(!IV(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=Pq(n))?t.Fa(e+" a custom object"):t.Fa(e+" "+n);var r}function CV(e,t,n){if((t=ud(t))instanceof rV)return t._internalPath;if("string"==typeof t)return NV(e,t);throw PV("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var AV=new RegExp("[~\\*/\\[\\]]");function NV(e,t,r){if(0<=t.search(AV))throw PV("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,r);try{return i(rV,l(t.split(".")))._internalPath}catch(n){throw PV("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,r)}}function PV(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new XO(JO.INVALID_ARGUMENT,s+e+u)}function OV(e,t){return e.some((function(e){return e.isEqual(t)}))}var RV=function(){function e(t,n,r,i,a){k(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return w(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Mq(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new DV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document&&null!==(e=this._document.data.field(LV("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e)}}]),e}(),DV=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(){return s(u(n.prototype),"data",this).call(this)}}]),n}(RV);function LV(e,t){return"string"==typeof t?NV(e,t):(t instanceof rV?t:t._delegate)._internalPath}var MV=function(){function e(t,n){k(this,e),this.hasPendingWrites=t,this.fromCache=n}return w(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),FV=function(e){y(n,e);var t=g(n);function n(e,r,i,a,o,s){var u;return k(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return w(n,[{key:"exists",value:function(){return s(u(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new UV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document&&null!==(e=this._document.data.field(LV("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e,t.serverTimestamps)}}]),n}(RV),UV=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(u(n.prototype),"data",this).call(this,e)}}]),n}(FV),jV=function(){function e(t,n,r,i){k(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new MV(i.hasPendingWrites,i.fromCache),this.query=r}return w(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new UV(n._firestore,n._userDataWriter,r.key,r,new MV(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((e=!!e.includeMetadataChanges)&&this._snapshot.excludesMetadataChanges)throw new XO(JO.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new UV(e._firestore,e._userDataWriter,t.doc.key,t.doc,new MV(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new UV(e._firestore,e._userDataWriter,t.doc.key,t.doc,new MV(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $O()}}(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function qV(e,t){return e instanceof FV&&t instanceof FV?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jV&&t instanceof jV&&e._firestore===t._firestore&&Bq(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function VV(e){if(yD(e)&&0===e.explicitOrderBy.length)throw new XO(JO.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var BV=function e(){k(this,e)};function zV(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++)e=a[i]._apply(e);return e}var WV=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this)).Ka=e,a.ja=r,a.Qa=i,a.type="where",a}return w(n,[{key:"_apply",value:function(e){var t=dV(e.firestore);return t=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new XO(JO.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){JV(o,a);var u,c=[],l=d(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(YV(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=YV(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||JV(o,a),s=xV(n,t,o,"in"===a||"not-in"===a);return function(e,t){if(t.v()){var n=mD(e);if(null!==n&&!n.isEqual(t.field))throw new XO(JO.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=gD(e);null!==r&&XV(0,t.field,r)}var i=function(e,t){var n,r=d(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0<=t.indexOf(i.op))return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===t.op?new XO(JO.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new XO(JO.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,a=XR.create(i,a,s)),a}(e._query,"where",t,e.firestore._databaseId,this.Ka,this.ja,this.Qa),new Fq(e.firestore,e.converter,(t=(e=e._query).filters.concat([t]),new hD(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)))}}]),n}(BV),KV=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this)).Ka=e,i.Wa=r,i.type="orderBy",i}return w(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new XO(JO.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new XO(JO.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cD(t,n);return t=r,null!==gD(n=e)||null!==(e=mD(n))&&XV(0,e,t.field),r}(e._query,this.Ka,this.Wa);return new Fq(e.firestore,e.converter,(t=(e=e._query).explicitOrderBy.concat([t]),new hD(e.path,e.collectionGroup,t,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))}}]),n}(BV),HV=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this)).type=e,a.Ga=r,a.za=i,a}return w(n,[{key:"_apply",value:function(e){return new Fq(e.firestore,e.converter,_D(e._query,this.Ga,this.za))}}]),n}(BV),GV=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this)).type=e,a.Ha=r,a.Ja=i,a}return w(n,[{key:"_apply",value:function(e){var t=$V(e,this.type,this.Ha,this.Ja);return new Fq(e.firestore,e.converter,(e=e._query,t=t,new hD(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)))}}]),n}(BV),QV=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this)).type=e,a.Ha=r,a.Ja=i,a}return w(n,[{key:"_apply",value:function(e){var t=$V(e,this.type,this.Ha,this.Ja);return new Fq(e.firestore,e.converter,(e=e._query,t=t,new hD(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)))}}]),n}(BV);function $V(e,t,n,r){if(n[0]=ud(n[0]),n[0]instanceof RV)return function(e,t,n,r,i){if(!r)throw new XO(JO.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=d(wD(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(UR(t,r.key));else{var c=r.data.field(u.field);if(IR(c))throw new XO(JO.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new XO(JO.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new sD(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=dV(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new XO(JO.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new XO(JO.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!kD(e)&&-1!==c.indexOf("/"))throw new XO(JO.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(gR.fromString(c));if(!PR.isDocumentKey(l))throw new XO(JO.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new PR(l);s.push(UR(t,f))}else{var h=xV(n,r,c);s.push(h)}}return new sD(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function YV(e,t,n){if("string"==typeof(n=ud(n))){if(""===n)throw new XO(JO.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!kD(t)&&-1!==n.indexOf("/"))throw new XO(JO.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));if(t=t.path.child(gR.fromString(n)),!PR.isDocumentKey(t))throw new XO(JO.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(t,"' is not because it has an odd number of segments (").concat(t.length,")."));return UR(e,new PR(t))}if(n instanceof Mq)return UR(e,n._key);throw new XO(JO.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Pq(n),"."))}function JV(e,t){if(!Array.isArray(e)||0===e.length)throw new XO(JO.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(10<e.length)throw new XO(JO.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function XV(e,t,n){if(!n.isEqual(t))throw new XO(JO.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ZV=function(){function e(){k(this,e)}return w(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(OR(e)){case 0:return null;case 1:return e.booleanValue;case 2:return TR(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ER(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $O()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return pR(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new oV(TR(e.latitude),TR(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=function e(t){return IR(t=t.mapValue.fields.__previous_value__)?e(t):t}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(SR(e));default:return null}}},{key:"convertTimestamp",value:function(e){return e=xR(e),new fR(e.seconds,e.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=gR.fromString(e);YO(ZL(n));var r=new Eq(n.get(1),n.get(3)),i=new PR(n.popFirst(5));return r.isEqual(t)||HO("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function eB(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var tB=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new iV(e)}},{key:"convertReference",value:function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new Mq(this.firestore,null,e)}}]),n}(ZV),nB=function(){function e(t,n){k(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=dV(t)}return w(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=rB(e,this._firestore),i=eB(r.converter,t,n),a=pV(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,zD.none())),this}},{key:"update",value:function(e,t,n){var r;this._verifyNotCommitted(),e=rB(e,this._firestore);for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return r="string"==typeof(t=ud(t))||t instanceof rV?_V(this._dataReader,"WriteBatch.update",e._key,t,n,a):bV(this._dataReader,"WriteBatch.update",e._key,t),this._mutations.push(r.toMutation(e._key,zD.exists(!0))),this}},{key:"delete",value:function(e){return this._verifyNotCommitted(),e=rB(e,this._firestore),this._mutations=this._mutations.concat(new tL(e._key,zD.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new XO(JO.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function rB(e,t){if((e=ud(e)).firestore!==t)throw new XO(JO.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var iB=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new iV(e)}},{key:"convertReference",value:function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new Mq(this.firestore,null,e)}}]),n}(ZV);function aB(e){e=Oq(e,Mq);var t=Oq(e.firestore,Qq),n=$q(t),r=new iB(t);return function(e,t){var n=new ZO;return e.asyncQueue.enqueueAndForget(f(c.mark((function r(){return c.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=f(c.mark((function e(t,n,r){var i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e){var n=t;return n.persistence.runTransaction("read document","readonly",(function(t){return n.Qn.An(t,e)}))}(n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new XO(JO.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),n=aj(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(n);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yq(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new FV(t,r,e._key,n,new MV(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function oB(e){e=Oq(e,Fq);var t=Oq(e.firestore,Qq),n=$q(t),r=new iB(t);return function(e,t){var n=new ZO;return e.asyncQueue.enqueueAndForget(f(c.mark((function r(){return c.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=f(c.mark((function e(t,n,r){var i,a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JF(t,n,!0);case 3:i=e.sent,a=new xj(n,i.Gn),o=a.Io(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n=aj(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(n);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yq(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new jV(t,r,e,n)}))}function sB(e,t,n){e=Oq(e,Mq);var r=Oq(e.firestore,Qq);return t=eB(e.converter,t,n),fB(r,[pV(dV(r),"setDoc",e._key,t,null!==e.converter,n).toMutation(e._key,zD.none())])}function uB(e,t,n){e=Oq(e,Mq);for(var r=Oq(e.firestore,Qq),i=dV(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return fB(r,[("string"==typeof(t=ud(t))||t instanceof rV?_V(i,"updateDoc",e._key,t,n,o):bV(i,"updateDoc",e._key,t)).toMutation(e._key,zD.exists(!0))])}function cB(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;e=ud(e);var a={includeMetadataChanges:!1},o=0;"object"!=typeof n[o]||Wq(n[o])||(a=n[o],o++);var s,u,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Wq(n[o])){var d=n[o];n[o]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[o+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),n[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}if(e instanceof Mq)u=Oq(e.firestore,Qq),l=pD(e._key.path),s={next:function(t){n[o]&&n[o](hB(u,e,t))},error:n[o+1],complete:n[o+2]};else{var p=Oq(e,Fq);u=Oq(p.firestore,Qq),l=p._query;var v=new iB(u);s={next:function(e){n[o]&&n[o](new jV(u,v,p,e))},error:n[o+1],complete:n[o+2]},VV(e._query)}return function(e,t,n,r){var i=new nq(r),a=new yj(t,i,n);return e.asyncQueue.enqueueAndForget(f(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fj,t.next=3,kq(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Xo(),e.asyncQueue.enqueueAndForget(f(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dj,t.next=3,kq(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}($q(u),l,h,s)}function lB(e,t){return function(e,t){var n=new nq(t);return e.asyncQueue.enqueueAndForget(f(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){e.Zr.add(t),t.next()},t.next=3,kq(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Xo(),e.asyncQueue.enqueueAndForget(f(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){e.Zr.delete(t)},t.next=3,kq(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}($q(e=Oq(e,Qq)),Wq(t)?t:{next:t})}function fB(e,t){return function(e,t){var n=new ZO;return e.asyncQueue.enqueueAndForget(f(c.mark((function r(){return c.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Aj,r.next=3,mq(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}($q(e),t)}function hB(e,t,n){var r=n.docs.get(t._key),i=new iB(e);return new FV(e,i,t._key,r,new MV(n.hasPendingWrites,n.fromCache),t.converter)}var dB=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,r))._firestore=e,i}return w(n,[{key:"get",value:function(e){var t=this,r=rB(e,this._firestore),i=new iB(this._firestore);return s(u(n.prototype),"get",this).call(this,e).then((function(e){return new FV(t._firestore,i,r._key,e._document,new MV(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){k(this,e),this._firestore=t,this._transaction=n,this._dataReader=dV(t)}return w(e,[{key:"get",value:function(e){var t=this,n=rB(e,this._firestore),r=new tB(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return $O();var i=e[0];if(i.isFoundDocument())return new RV(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new RV(t._firestore,r,n._key,null,n.converter);throw $O()}))}},{key:"set",value:function(e,t,n){return t=eB((e=rB(e,this._firestore)).converter,t,n),n=pV(this._dataReader,"Transaction.set",e._key,t,null!==e.converter,n),this._transaction.set(e._key,n),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];return e=rB(e,this._firestore),t="string"==typeof(t=ud(t))||t instanceof rV?_V(this._dataReader,"Transaction.update",e._key,t,n,i):bV(this._dataReader,"Transaction.update",e._key,t),this._transaction.update(e._key,t),this}},{key:"delete",value:function(e){return e=rB(e,this._firestore),this._transaction.delete(e._key),this}}]),e}());function pB(e,t){return function(e,t){var n=new ZO;return e.asyncQueue.enqueueAndForget(f(c.mark((function r(){var i;return c.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,dq(e).then((function(e){return e.datastore}));case 2:i=r.sent,new aq(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}($q(e),(function(n){return t(new dB(e,n))}))}function vB(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new XO("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function yB(){if("undefined"==typeof Uint8Array)throw new XO("unimplemented","Uint8Arrays are not available in this environment.")}function gB(){if("undefined"==typeof atob)throw new XO("unimplemented","Blobs are unavailable in Firestore in this environment.")}BO=at=zd,jd(new vd("firestore",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=new Qq(r,new rR(e.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),i._setSettings(n),i}),"PUBLIC")),Qd("@firebase/firestore","3.1.0",void 0);var mB=function(){function e(t){k(this,e),this._delegate=t}return w(e,[{key:"toBase64",value:function(){return gB(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return yB(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return gB(),new e(iV.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return yB(),new e(iV.fromUint8Array(t))}}]),e}();function kB(e){return function(e,t){if("object"==typeof e&&null!==e){var n,r=e,i=d(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return 1}}catch(o){i.e(o)}finally{i.f()}}}(e)}var wB=function(){function e(){k(this,e)}return w(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){nV(e=Oq(e,Qq));var n=$q(e),r=e._freezeSettings();return Jq(n,e=new eq,new Xj(e,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){nV(e=Oq(e,Qq));var t=$q(e),n=e._freezeSettings();return Jq(t,e=new eq,new Zj(e,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new XO(JO.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ZO;return e._queue.enqueueAndForgetEvenWhileRestricted(f(c.mark((function n(){return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(TM.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return t+="main",e.next=5,TM.delete(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(MF(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),bB=function(){function e(t,n,r){var i=this;k(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Eq||(this._appCompat=t)}return w(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||GO("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(e=Oq(e,Lq))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&GO("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:"".concat(t,":").concat(n),ssl:!1})),r.mockUserToken){var a,o;if("string"==typeof r.mockUserToken)a=r.mockUserToken,o=VO.MOCK_USER;else{a=_h(r.mockUserToken,null===(n=e._app)||void 0===n?void 0:n.options.projectId);var s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new XO(JO.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new VO(s)}e._credentials=new nR(new eR(a,o))}}(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Zq(this._delegate)}},{key:"disableNetwork",value:function(){return eV(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Cq("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Xq(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return lB(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new XO("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new LB(this,jq(this._delegate,e))}catch(e){throw SB(e,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new IB(this,qq(this._delegate,e))}catch(e){throw SB(e,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new OB(this,function(e,t){if(e=Oq(e,Lq),Sq("collectionGroup","collection id",t),0<=t.indexOf("/"))throw new XO(JO.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Fq(e,null,(t=t,new hD(gR.emptyPath(),t)))}(this._delegate,e))}catch(e){throw SB(e,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return pB(this._delegate,(function(n){return e(new xB(t,n))}))}},{key:"batch",value:function(){var e=this;return $q(this._delegate),new TB(new nB(this._delegate,(function(t){return fB(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return n=e,r=$q(t=Oq(t=this._delegate,Qq)),e=new Gq,xq(r,t._databaseId,n,e),e;var t,n,r}},{key:"namedQuery",value:function(e){var t=this;return tV(this._delegate,e).then((function(e){return e?new OB(t,e):null}))}}]),e}(),_B=function(e){y(n,e);var t=g(n);function n(e){var r;return k(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new mB(new iV(e))}},{key:"convertReference",value:function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),IB.forKey(e,this.firestore,null)}}]),n}(ZV),xB=function(){function e(t,n){k(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new _B(t)}return w(e,[{key:"get",value:function(e){var t=this,n=MB(e);return this._delegate.get(n).then((function(e){return new NB(t._firestore,new FV(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){return e=MB(e),n?(vB("Transaction.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this}},{key:"update",value:function(e,t,n){for(var r,i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return e=MB(e),2===arguments.length?this._delegate.update(e,t):(r=this._delegate).update.apply(r,[e,t,n].concat(a)),this}},{key:"delete",value:function(e){return e=MB(e),this._delegate.delete(e),this}}]),e}(),TB=function(){function e(t){k(this,e),this._delegate=t}return w(e,[{key:"set",value:function(e,t,n){return e=MB(e),n?(vB("WriteBatch.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this}},{key:"update",value:function(e,t,n){for(var r,i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return e=MB(e),2===arguments.length?this._delegate.update(e,t):(r=this._delegate).update.apply(r,[e,t,n].concat(a)),this}},{key:"delete",value:function(e){return e=MB(e),this._delegate.delete(e),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),EB=function(){function e(t,n,r){k(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return w(e,[{key:"fromFirestore",value:function(e,t){return e=new UV(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null),this._delegate.fromFirestore(new PB(this._firestore,e),null!=t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new _B(t),n),i.set(n,a)),a}}]),e}();EB.INSTANCES=new WeakMap;var IB=function(){function e(t,n){k(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _B(t)}return w(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new LB(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new LB(this.firestore,jq(this._delegate,e))}catch(e){throw SB(e,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ud(e))instanceof Mq&&Vq(this._delegate,e)}},{key:"set",value:function(e,t){t=vB("DocumentReference.set",t);try{return t?sB(this._delegate,e,t):sB(this._delegate,e)}catch(e){throw SB(e,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?uB(this._delegate,e):uB.apply(void 0,[this._delegate,e,t].concat(r))}catch(e){throw SB(e,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return fB(Oq((e=this._delegate).firestore,Qq),[new tL(e._key,zD.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=CB(n);return n=AB(n,(function(t){return new NB(e.firestore,new FV(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})),cB(this._delegate,i,n)}},{key:"get",value:function(e){var t,n=this;return t=("cache"===(null==e?void 0:e.source)?aB:"server"===(null==e?void 0:e.source)?function(e){e=Oq(e,Mq);var t=Oq(e.firestore,Qq);return bq($q(t),e._key,{source:"server"}).then((function(n){return hB(t,e,n)}))}:function(e){e=Oq(e,Mq);var t=Oq(e.firestore,Qq);return bq($q(t),e._key).then((function(n){return hB(t,e,n)}))})(this._delegate),t.then((function(e){return new NB(n.firestore,new FV(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(EB.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!=0)throw new XO("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Mq(n._delegate,r,new PR(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Mq(n._delegate,r,t))}}]),e}();function SB(e,t,n){return e.message=e.message.replace(t,n),e}function CB(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"==typeof r&&!kB(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function AB(e,t){var n;return{next:function(e){n.next&&n.next(t(e))},error:null===(e=(n=kB(e[0])?e[0]:kB(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===e?void 0:e.bind(n),complete:null===(e=n.complete)||void 0===e?void 0:e.bind(n)}}var NB=function(){function e(t,n){k(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"ref",get:function(){return new IB(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return qV(this._delegate,e._delegate)}}]),e}(),PB=function(e){y(n,e);var t=g(n);function n(){return k(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(e){return void 0!==(e=this._delegate.data(e))||$O(),e}}]),n}(NB),OB=function(){function e(t,n){k(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _B(t)}return w(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,zV(this._delegate,(a=n,o=r,i=LV("where",i=t),new WV(i,a,o))))}catch(t){throw SB(t,/(orderBy|where)\(\)/,"Query.$1()")}var i,a,o}},{key:"orderBy",value:function(t,n){try{var r,i;return new e(this.firestore,zV(this._delegate,(a=(r=[t,n])[0],o=void 0===(i=r[1])?"asc":i,a=LV("orderBy",a),new KV(a,o))))}catch(t){throw SB(t,/(orderBy|where)\(\)/,"Query.$1()")}var a,o}},{key:"limit",value:function(t){try{return new e(this.firestore,zV(this._delegate,(Rq("limit",n=t),new HV("limit",n,"F"))))}catch(t){throw SB(t,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,zV(this._delegate,(Rq("limitToLast",n=t),new HV("limitToLast",n,"L"))))}catch(t){throw SB(t,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,zV(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GV("startAt",t,!0)}.apply(void 0,arguments)))}catch(n){throw SB(n,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,zV(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GV("startAfter",t,!1)}.apply(void 0,arguments)))}catch(n){throw SB(n,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,zV(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QV("endBefore",t,!0)}.apply(void 0,arguments)))}catch(n){throw SB(n,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,zV(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QV("endAt",t,!1)}.apply(void 0,arguments)))}catch(n){throw SB(n,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Bq(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t=("cache"===(null==e?void 0:e.source)?oB:"server"===(null==e?void 0:e.source)?function(e){e=Oq(e,Fq);var t=Oq(e.firestore,Qq),n=$q(t),r=new iB(t);return _q(n,e._query,{source:"server"}).then((function(n){return new jV(t,r,e,n)}))}:function(e){e=Oq(e,Fq);var t=Oq(e.firestore,Qq),n=$q(t),r=new iB(t);return VV(e._query),_q(n,e._query).then((function(n){return new jV(t,r,e,n)}))})(this._delegate),t.then((function(e){return new DB(n.firestore,new jV(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=CB(n);return n=AB(n,(function(t){return new DB(e.firestore,new jV(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})),cB(this._delegate,i,n)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(EB.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),RB=function(){function e(t,n){k(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new PB(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),DB=function(){function e(t,n){k(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"query",get:function(){return new OB(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new PB(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new RB(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new PB(n._firestore,r))}))}},{key:"isEqual",value:function(e){return qV(this._delegate,e._delegate)}}]),e}(),LB=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return w(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new IB(this.firestore,e):null}},{key:"doc",value:function(e){try{return new IB(this.firestore,void 0===e?qq(this._delegate):qq(this._delegate,e))}catch(e){throw SB(e,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Oq(e.firestore,Qq),r=qq(e),i=eB(e.converter,t);return fB(n,[pV(dV(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zD.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new IB(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Vq(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(EB.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(OB);function MB(e){return Oq(e,Mq)}var FB={Firestore:bB,GeoPoint:oV,Timestamp:fR,Blob:mB,Transaction:xB,WriteBatch:TB,DocumentReference:IB,DocumentSnapshot:NB,Query:OB,QueryDocumentSnapshot:PB,QuerySnapshot:DB,CollectionReference:LB,FieldPath:function(){function e(){k(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=i(rV,n)}return w(e,[{key:"isEqual",value:function(e){return(e=ud(e))instanceof rV&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(kR.keyField().canonicalString())}}]),e}(),FieldValue:function(){function e(t){k(this,e),this._delegate=t}return w(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new gV("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new vV("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mV("arrayUnion",t)}.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kV("arrayRemove",t)}.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new wV("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),setLogLevel:function(e){e=e,zO.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};function UB(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function jB(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return jB(e)})):"function"==typeof e||"object"==typeof e?UB(e,(function(e){return jB(e)})):e}Hq=function(e,t){return new bB(e,t,new wB)},(Kq=rp).INTERNAL.registerComponent(new vd("firestore-compat",(function(e){var t=e.getProvider("app-compat").getImmediate();return e=e.getProvider("firestore").getImmediate(),Hq(t,e)}),"PUBLIC").setServiceProps(Object.assign({},FB))),Kq.registerVersion("@firebase/firestore-compat","0.1.3");var qB="functions",VB={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},BB=function(e){y(n,e);var t=g(n);function n(e,r,i){var a;return k(this,n),(a=t.call(this,"".concat(qB,"/").concat(e),r||"")).details=i,a}return n}(Rh);function zB(e,t){var n=function(e){if(200<=e&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n,i=void 0;try{var a=t&&t.error;if(a){var o=a.status;if("string"==typeof o){if(!VB[o])return new BB("internal","internal");n=VB[o],r=o}var s=a.message;"string"==typeof s&&(r=s),void 0!==(i=a.details)&&(i=jB(i))}}catch(e){}return"ok"===n?null:new BB(n,r,i)}var WB,KB,HB,GB,QB,$B=function(){function e(t,n,r){var i=this;k(this,e),this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then((function(e){return i.auth=e}),(function(){})),this.messaging||n.get().then((function(e){return i.messaging=e}),(function(){})),this.appCheck||r.get().then((function(e){return i.appCheck=e}),(function(){}))}return w(e,[{key:"getAuthToken",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.auth){e.next=11;break}return e.prev=1,e.next=4,this.auth.getToken();case 4:return t=e.sent,e.abrupt("return",null==t?void 0:t.accessToken);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return");case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMessagingToken",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission){e.next=8;break}return e.prev=1,e.abrupt("return",this.messaging.getToken());case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return");case 8:case"end":return e.stop()}}),e,this,[[1,5]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAppCheckToken",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appCheck){e.next=5;break}return e.next=3,this.appCheck.getToken();case 3:return t=e.sent,e.abrupt("return",t.error?null:t.token);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getContext",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAuthToken();case 2:return e.t0=e.sent,e.next=5,this.getMessagingToken();case 5:return e.t1=e.sent,e.next=8,this.getAppCheckToken();case 8:return e.t2=e.sent,e.abrupt("return",{authToken:e.t0,messagingToken:e.t1,appCheckToken:e.t2});case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),YB="us-central1",JB=function(){function e(t,n,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:YB,s=arguments.length>5?arguments[5]:void 0;k(this,e),this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new $B(n,r,i),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return Promise.resolve(e())}}));try{var u=new URL(o);this.customDomain=u.origin,this.region=YB}catch(t){this.customDomain=null,this.region=o}}return w(e,[{key:"_delete",value:function(){return this.deleteService()}},{key:"_url",value:function(e){var t=this.app.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e):"".concat(this.emulatorOrigin,"/").concat(t,"/").concat(this.region,"/").concat(e)}}]),e}();function XB(e,t,n){return function(r){return function(){var e=f(c.mark((function e(t,n,r,i){var a,o,s,u,l;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._url(n),o={data:r=function e(t){if(null==t)return null;if("number"==typeof(t=t instanceof Number?t.valueOf():t)&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((function(t){return e(t)}));if("function"==typeof t||"object"==typeof t)return UB(t,(function(t){return e(t)}));throw new Error("Data cannot be encoded in JSON: "+t)}(r)},s={},e.next=5,t.contextProvider.getContext();case 5:return(u=e.sent).authToken&&(s.Authorization="Bearer "+u.authToken),u.messagingToken&&(s["Firebase-Instance-ID-Token"]=u.messagingToken),null!==u.appCheckToken&&(s["X-Firebase-AppCheck"]=u.appCheckToken),i=i.timeout||7e4,e.next=12,Promise.race([function(){var e=f(c.mark((function e(t,n,r,i){var a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r["Content-Type"]="application/json",e.prev=1,e.next=4,i(t,{method:"POST",body:JSON.stringify(n),headers:r});case 4:a=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{status:0,json:null});case 10:return o=null,e.prev=11,e.next=14,a.json();case 14:o=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:return e.abrupt("return",{status:a.status,json:o});case 20:case"end":return e.stop()}}),e,null,[[1,7],[11,17]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()(a,o,s,t.fetchImpl),function(e){return new Promise((function(t,n){setTimeout((function(){n(new BB("deadline-exceeded","deadline-exceeded"))}),e)}))}(i),t.cancelAllRequests]);case 12:if(i=e.sent){e.next=15;break}throw new BB("cancelled","Firebase Functions instance was deleted.");case 15:if(!(t=zB(i.status,i.json))){e.next=18;break}throw t;case 18:if(i.json){e.next=20;break}throw new BB("internal","Response is not valid JSON object.");case 20:if(void 0===(l=i.json.data)&&(l=i.json.result),void 0!==l){e.next=24;break}throw new BB("internal","Response is missing data field.");case 24:return i=jB(l),e.abrupt("return",{data:i});case 26:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(e,t,r,n||{})}}function ZB(e,t,n){ud(e).emulatorOrigin="http://".concat(t,":").concat(n)}WB=fetch.bind(self),jd(new vd(qB,(function(e,t){var n=t.instanceIdentifier;return function(e){var t=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("messaging-internal");return e=e.getProvider("app-check-internal"),new JB(t,r,i,e,n,WB)}(e)}),"PUBLIC").setMultipleInstances(!0)),Qd("@firebase/functions","0.7.2");var ez=function(){function e(t,n){k(this,e),this.app=t,this._delegate=n,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}return w(e,[{key:"httpsCallable",value:function(e,t){return XB(ud(this._delegate),e,t)}},{key:"useFunctionsEmulator",value:function(e){if(null==(e=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?")))throw new Rh("functions","No origin provided to useFunctionsEmulator()");if(null==e[2])throw new Rh("functions","Port missing in origin provided to useFunctionsEmulator()");return ZB(this._delegate,e[1],Number(e[2]))}},{key:"useEmulator",value:function(e,t){return ZB(this._delegate,e,t)}}]),e}(),tz="us-central1",nz=function(e,t){return function(t){var n=e.getProvider("app-compat").getImmediate();return t=e.getProvider("functions").getImmediate({identifier:null!=t?t:tz}),new ez(n,t)}(t.instanceIdentifier)};KB={Functions:ez},rp.INTERNAL.registerComponent(new vd("functions-compat",nz,"PUBLIC").setServiceProps(KB).setMultipleInstances(!0)),rp.registerVersion("@firebase/functions-compat","0.1.3");var rz="/firebase-messaging-sw.js",iz="/firebase-cloud-messaging-push-scope",az="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",oz="https://fcmregistrations.googleapis.com/v1",sz="google.c.a.c_id",uz="google.c.a.e";function cz(e){return e=new Uint8Array(e),btoa(String.fromCharCode.apply(String,l(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(zH=zH=zH||{})[zH.DATA_MESSAGE=1]="DATA_MESSAGE",zH[zH.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",(zH=HB=HB||{}).PUSH_RECEIVED="push-received",zH.NOTIFICATION_CLICKED="notification-clicked";var lz="fcm_token_details_db",fz="fcm_token_object_Store";function hz(e){return dz.apply(this,arguments)}function dz(){return dz=f(c.mark((function e(t){var n,r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(lz)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,yp(lz,5,function(){var e=f(c.mark((function e(n){var r,a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.oldVersion<2||!n.objectStoreNames.contains(fz)){e.next=8;break}return a=n.transaction.objectStore(fz),e.next=4,a.index("fcmSenderId").get(t);case 4:return s=e.sent,e.next=7,a.clear();case 7:s&&(2===n.oldVersion?(o=s).auth&&o.p256dh&&o.endpoint&&(i={token:o.fcmToken,createTime:null!==(r=o.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:cz(o.vapidKey)}}):3===n.oldVersion?i={token:(o=s).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:cz(o.auth),p256dh:cz(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:cz(o.vapidKey)}}:4===n.oldVersion&&(i={token:(s=s).fcmToken,createTime:s.createTime,subscriptionOptions:{auth:cz(s.auth),p256dh:cz(s.p256dh),endpoint:s.endpoint,swScope:s.swScope,vapidKey:cz(s.vapidKey)}}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.sent.close(),e.next=14,gp(lz);case 14:return e.next=16,gp("fcm_vapid_details_db");case 16:return e.next=18,gp("undefined");case 18:return e.abrupt("return",function(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&0<e.createTime&&"string"==typeof e.token&&0<e.token.length&&"string"==typeof t.auth&&0<t.auth.length&&"string"==typeof t.p256dh&&0<t.p256dh.length&&"string"==typeof t.endpoint&&0<t.endpoint.length&&"string"==typeof t.swScope&&0<t.swScope.length&&"string"==typeof t.vapidKey&&0<t.vapidKey.length}(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),dz.apply(this,arguments)}var pz="firebase-messaging-database",vz=1,yz="firebase-messaging-store",gz=null;function mz(){return gz=gz||yp(pz,vz,(function(e){0===e.oldVersion&&e.createObjectStore(yz)})),gz}function kz(e){return wz.apply(this,arguments)}function wz(){return wz=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xz(t),e.next=3,mz();case 3:return r=e.sent,e.next=6,r.transaction(yz).objectStore(yz).get(n);case 6:if(!(n=e.sent)){e.next=9;break}return e.abrupt("return",n);case 9:return e.next=11,hz(t.appConfig.senderId);case 11:if(!(n=e.sent)){e.next=18;break}return e.next=15,bz(t,n);case 15:e.t0=n,e.next=19;break;case 18:e.t0=void 0;case 19:return e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e)}))),wz.apply(this,arguments)}function bz(e,t){return _z.apply(this,arguments)}function _z(){return _z=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xz(t),e.next=3,mz();case 3:return r=e.sent,i=r.transaction(yz,"readwrite"),e.next=7,i.objectStore(yz).put(n,t);case 7:return e.next=9,i.complete;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),_z.apply(this,arguments)}function xz(e){return e.appConfig.appId}var Tz=new Dh("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ez(e,t){return Iz.apply(this,arguments)}function Iz(){return Iz=f(c.mark((function e(t,n){var r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cz(t);case 2:return e.t0=e.sent,r={method:"DELETE",headers:e.t0},e.prev=4,e.next=7,fetch("".concat(Sz(t.appConfig),"/").concat(n),r);case 7:return i=e.sent,e.next=10,i.json();case 10:if(!(a=e.sent).error){e.next=14;break}throw o=a.error.message,Tz.create("token-unsubscribe-failed",{errorInfo:o});case 14:e.next=19;break;case 16:throw e.prev=16,e.t1=e.catch(4),Tz.create("token-unsubscribe-failed",{errorInfo:e.t1});case 19:case"end":return e.stop()}}),e,null,[[4,16]])}))),Iz.apply(this,arguments)}function Sz(e){var t=e.projectId;return"".concat(oz,"/projects/").concat(t,"/registrations")}function Cz(e){return Az.apply(this,arguments)}function Az(){return Az=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return r=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(r)}));case 5:case"end":return e.stop()}}),e)}))),Az.apply(this,arguments)}function Nz(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==az&&(a.web.applicationPubKey=i),a}var Pz=6048e5;function Oz(e){return Rz.apply(this,arguments)}function Rz(){return Rz=f(c.mark((function e(t){var n,r,i,a,o,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=f(c.mark((function e(t,n){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){e=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");for(var t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}(n)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t.swRegistration,t.vapidKey);case 2:return n=e.sent,s={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:cz(n.getKey("auth")),p256dh:cz(n.getKey("p256dh"))},e.next=6,kz(t.firebaseDependencies);case 6:if(!(u=e.sent)){e.next=19;break}if(r=u.subscriptionOptions,i=s.vapidKey===r.vapidKey,a=s.endpoint===r.endpoint,o=s.auth===r.auth,r=s.p256dh===r.p256dh,!(i&&a&&o&&r)){e.next=10;break}return e.abrupt("return",Date.now()>=u.createTime+Pz?function(){var e=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(){var e=f(c.mark((function e(t,n){var r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cz(t);case 2:return r=e.sent,i=Nz(n.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(Sz(t.appConfig),"/").concat(n.token),i);case 8:return o=e.sent,e.next=11,o.json();case 11:a=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Tz.create("token-update-failed",{errorInfo:e.t0});case 17:if(!a.error){e.next=20;break}throw i=a.error.message,Tz.create("token-update-failed",{errorInfo:i});case 20:if(a.token){e.next=22;break}throw Tz.create("token-update-no-token");case 22:return e.abrupt("return",a.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}()(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,bz(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Dz(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()(t,{token:u.token,createTime:Date.now(),subscriptionOptions:s}):u.token);case 10:return e.prev=10,e.next=13,Ez(t.firebaseDependencies,u.token);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.warn(e.t0);case 18:case 19:return e.abrupt("return",Mz(t.firebaseDependencies,s));case 20:case"end":return e.stop()}}),e,null,[[10,15]])}))),Rz.apply(this,arguments)}function Dz(e){return Lz.apply(this,arguments)}function Lz(){return Lz=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kz(t.firebaseDependencies);case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=9;break}return e.next=7,Ez(t.firebaseDependencies,n.token);case 7:return e.next=9,function(){var e=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xz(t),e.next=3,mz();case 3:return n=e.sent,r=n.transaction(yz,"readwrite"),e.next=7,r.objectStore(yz).delete(t);case 7:return e.next=9,r.complete;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t.firebaseDependencies);case 9:return e.next=11,t.swRegistration.pushManager.getSubscription();case 11:return r=e.sent,e.abrupt("return",!r||r.unsubscribe());case 13:case"end":return e.stop()}}),e)}))),Lz.apply(this,arguments)}function Mz(e,t){return Fz.apply(this,arguments)}function Fz(){return Fz=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=f(c.mark((function e(t,n){var r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cz(t);case 2:return r=e.sent,n=Nz(n),n={method:"POST",headers:r,body:JSON.stringify(n)},e.prev=5,e.next=8,fetch(Sz(t.appConfig),n);case 8:return a=e.sent,e.next=11,a.json();case 11:i=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Tz.create("token-subscribe-failed",{errorInfo:e.t0});case 17:if(!i.error){e.next=20;break}throw n=i.error.message,Tz.create("token-subscribe-failed",{errorInfo:n});case 20:if(i.token){e.next=22;break}throw Tz.create("token-subscribe-no-token");case 22:return e.abrupt("return",i.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 2:return e.t0=e.sent,e.t1=Date.now(),e.t2=n,n={token:e.t0,createTime:e.t1,subscriptionOptions:e.t2},e.next=8,bz(t,n);case 8:return e.abrupt("return",n.token);case 9:case"end":return e.stop()}}),e)}))),Fz.apply(this,arguments)}function Uz(e){var t,n,r,i={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return n=i,(r=e).notification&&(n.notification={},(t=r.notification.title)&&(n.notification.title=t),(t=r.notification.body)&&(n.notification.body=t),(r=r.notification.image)&&(n.notification.image=r)),n=i,(r=e).data&&(n.data=r.data),n=i,(r=e).fcmOptions&&(n.fcmOptions={},(e=r.fcmOptions.link)&&(n.fcmOptions.link=e),(r=r.fcmOptions.analytics_label)&&(n.fcmOptions.analyticsLabel=r)),i}function jz(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function qz(e){return Tz.create("missing-app-config-values",{valueName:e})}jz("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jz("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Vz=function(){function e(t,n,r){k(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw qz("App Configuration Object");if(!e.name)throw qz("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw qz(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return w(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function Bz(e){return zz.apply(this,arguments)}function zz(){return zz=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(rz,{scope:iz});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch((function(){})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Tz.create("failed-service-worker-registration",{browserErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),zz.apply(this,arguments)}function Wz(e,t){return Kz.apply(this,arguments)}function Kz(){return Kz=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Tz.create("only-available-in-window");case 2:if(e.t0="default"===Notification.permission,!e.t0){e.next=6;break}return e.next=6,Notification.requestPermission();case 6:if("granted"===Notification.permission){e.next=8;break}throw Tz.create("permission-blocked");case 8:return r=t,e.next=11,(i=null==n?void 0:n.vapidKey)?r.vapidKey=i:r.vapidKey||(r.vapidKey=az);case 11:return e.next=13,function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n||t.swRegistration,e.t0){e.next=4;break}return e.next=4,Bz(t);case 4:if(!n&&t.swRegistration){e.next=8;break}if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw Tz.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,null==n?void 0:n.serviceWorkerRegistration);case 13:return e.abrupt("return",Oz(t));case 14:case"end":return e.stop()}}),e)}))),Kz.apply(this,arguments)}function Hz(e,t,n){return Gz.apply(this,arguments)}function Gz(){return Gz=f(c.mark((function e(t,n,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){switch(e){case HB.NOTIFICATION_CLICKED:return"notification_open";case HB.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(n,{message_id:r[sz],message_name:r["google.c.a.c_l"],message_time:r["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return e.stop()}}),e)}))),Gz.apply(this,arguments)}function Qz(e,t){return $z.apply(this,arguments)}function $z(){return $z=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.data,e.t0=i.isFirebaseMessaging,!e.t0){e.next=9;break}if(t.onMessageHandler&&i.messageType===HB.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Uz(i)):t.onMessageHandler.next(Uz(i))),r=i.data,e.t1="object"==typeof(n=r)&&n&&sz in n&&"1"===r[uz],!e.t1){e.next=9;break}return e.next=9,Hz(t,i.messageType,r);case 9:case"end":return e.stop()}}),e)}))),$z.apply(this,arguments)}var Yz=function(e){var t=new Vz(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(function(e){return Qz(t,e)})),t},Jz=function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return Wz(t,e)}}};function Xz(e){return function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Tz.create("only-available-in-window");case 2:if(e.t0=t.swRegistration,e.t0){e.next=6;break}return e.next=6,Bz(t);case 6:return e.abrupt("return",Dz(t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(e=ud(e))}function Zz(e,t){return function(e,t){if(!navigator)throw Tz.create("only-available-in-window");return e.onMessageHandler=t,function(){e.onMessageHandler=null}}(e=ud(e),t)}jd(new vd("messaging",Yz,"PUBLIC")),jd(new vd("messaging-internal",Jz,"PRIVATE"));var eW="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tW="https://fcmregistrations.googleapis.com/v1",nW="FCM_MSG",rW="google.c.a.c_id",iW=3,aW=1;function oW(e){return e=new Uint8Array(e),btoa(String.fromCharCode.apply(String,l(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(zH=GB=GB||{})[zH.DATA_MESSAGE=1]="DATA_MESSAGE",zH[zH.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",(zH=QB=QB||{}).PUSH_RECEIVED="push-received",zH.NOTIFICATION_CLICKED="notification-clicked";var sW="fcm_token_details_db",uW="fcm_token_object_Store";function cW(e){return lW.apply(this,arguments)}function lW(){return lW=f(c.mark((function e(t){var n,r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(sW)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,yp(sW,5,function(){var e=f(c.mark((function e(n){var r,a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.oldVersion<2||!n.objectStoreNames.contains(uW)){e.next=8;break}return a=n.transaction.objectStore(uW),e.next=4,a.index("fcmSenderId").get(t);case 4:return s=e.sent,e.next=7,a.clear();case 7:s&&(2===n.oldVersion?(o=s).auth&&o.p256dh&&o.endpoint&&(i={token:o.fcmToken,createTime:null!==(r=o.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:oW(o.vapidKey)}}):3===n.oldVersion?i={token:(o=s).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:oW(o.auth),p256dh:oW(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:oW(o.vapidKey)}}:4===n.oldVersion&&(i={token:(s=s).fcmToken,createTime:s.createTime,subscriptionOptions:{auth:oW(s.auth),p256dh:oW(s.p256dh),endpoint:s.endpoint,swScope:s.swScope,vapidKey:oW(s.vapidKey)}}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.sent.close(),e.next=14,gp(sW);case 14:return e.next=16,gp("fcm_vapid_details_db");case 16:return e.next=18,gp("undefined");case 18:return e.abrupt("return",function(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&0<e.createTime&&"string"==typeof e.token&&0<e.token.length&&"string"==typeof t.auth&&0<t.auth.length&&"string"==typeof t.p256dh&&0<t.p256dh.length&&"string"==typeof t.endpoint&&0<t.endpoint.length&&"string"==typeof t.swScope&&0<t.swScope.length&&"string"==typeof t.vapidKey&&0<t.vapidKey.length}(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),lW.apply(this,arguments)}var fW="firebase-messaging-database",hW=1,dW="firebase-messaging-store",pW=null;function vW(){return pW=pW||yp(fW,hW,(function(e){0===e.oldVersion&&e.createObjectStore(dW)})),pW}function yW(e){return gW.apply(this,arguments)}function gW(){return gW=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wW(t),e.next=3,vW();case 3:return r=e.sent,e.next=6,r.transaction(dW).objectStore(dW).get(n);case 6:if(!(n=e.sent)){e.next=9;break}return e.abrupt("return",n);case 9:return e.next=11,cW(t.appConfig.senderId);case 11:if(!(n=e.sent)){e.next=18;break}return e.next=15,mW(t,n);case 15:e.t0=n,e.next=19;break;case 18:e.t0=void 0;case 19:return e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e)}))),gW.apply(this,arguments)}function mW(e,t){return kW.apply(this,arguments)}function kW(){return kW=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wW(t),e.next=3,vW();case 3:return r=e.sent,i=r.transaction(dW,"readwrite"),e.next=7,i.objectStore(dW).put(n,t);case 7:return e.next=9,i.complete;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),kW.apply(this,arguments)}function wW(e){return e.appConfig.appId}var bW=new Dh("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _W(e,t){return xW.apply(this,arguments)}function xW(){return xW=f(c.mark((function e(t,n){var r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EW(t);case 2:return e.t0=e.sent,r={method:"DELETE",headers:e.t0},e.prev=4,e.next=7,fetch("".concat(TW(t.appConfig),"/").concat(n),r);case 7:return i=e.sent,e.next=10,i.json();case 10:if(!(a=e.sent).error){e.next=14;break}throw o=a.error.message,bW.create("token-unsubscribe-failed",{errorInfo:o});case 14:e.next=19;break;case 16:throw e.prev=16,e.t1=e.catch(4),bW.create("token-unsubscribe-failed",{errorInfo:e.t1});case 19:case"end":return e.stop()}}),e,null,[[4,16]])}))),xW.apply(this,arguments)}function TW(e){var t=e.projectId;return"".concat(tW,"/projects/").concat(t,"/registrations")}function EW(e){return IW.apply(this,arguments)}function IW(){return IW=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return r=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(r)}));case 5:case"end":return e.stop()}}),e)}))),IW.apply(this,arguments)}function SW(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==eW&&(a.web.applicationPubKey=i),a}function CW(e){return AW.apply(this,arguments)}function AW(){return AW=f(c.mark((function e(t){var n,r,i,a,o,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=f(c.mark((function e(t,n){var r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){e=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");for(var t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}(n)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t.swRegistration,t.vapidKey);case 2:return n=e.sent,s={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:oW(n.getKey("auth")),p256dh:oW(n.getKey("p256dh"))},e.next=6,yW(t.firebaseDependencies);case 6:if(!(u=e.sent)){e.next=19;break}if(r=u.subscriptionOptions,i=s.vapidKey===r.vapidKey,a=s.endpoint===r.endpoint,o=s.auth===r.auth,r=s.p256dh===r.p256dh,!(i&&a&&o&&r)){e.next=10;break}return e.abrupt("return",Date.now()>=u.createTime+6048e5?function(){var e=f(c.mark((function e(t,n){var r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(){var e=f(c.mark((function e(t,n){var r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EW(t);case 2:return r=e.sent,i=SW(n.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(TW(t.appConfig),"/").concat(n.token),i);case 8:return o=e.sent,e.next=11,o.json();case 11:a=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),bW.create("token-update-failed",{errorInfo:e.t0});case 17:if(!a.error){e.next=20;break}throw i=a.error.message,bW.create("token-update-failed",{errorInfo:i});case 20:if(a.token){e.next=22;break}throw bW.create("token-update-no-token");case 22:return e.abrupt("return",a.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}()(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,mW(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,NW(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()(t,{token:u.token,createTime:Date.now(),subscriptionOptions:s}):u.token);case 10:return e.prev=10,e.next=13,_W(t.firebaseDependencies,u.token);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.warn(e.t0);case 18:case 19:return e.abrupt("return",OW(t.firebaseDependencies,s));case 20:case"end":return e.stop()}}),e,null,[[10,15]])}))),AW.apply(this,arguments)}function NW(e){return PW.apply(this,arguments)}function PW(){return PW=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yW(t.firebaseDependencies);case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=9;break}return e.next=7,_W(t.firebaseDependencies,n.token);case 7:return e.next=9,function(){var e=f(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wW(t),e.next=3,vW();case 3:return n=e.sent,r=n.transaction(dW,"readwrite"),e.next=7,r.objectStore(dW).delete(t);case 7:return e.next=9,r.complete;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t.firebaseDependencies);case 9:return e.next=11,t.swRegistration.pushManager.getSubscription();case 11:return r=e.sent,e.abrupt("return",!r||r.unsubscribe());case 13:case"end":return e.stop()}}),e)}))),PW.apply(this,arguments)}function OW(e,t){return RW.apply(this,arguments)}function RW(){return RW=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=f(c.mark((function e(t,n){var r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EW(t);case 2:return r=e.sent,n=SW(n),n={method:"POST",headers:r,body:JSON.stringify(n)},e.prev=5,e.next=8,fetch(TW(t.appConfig),n);case 8:return a=e.sent,e.next=11,a.json();case 11:i=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),bW.create("token-subscribe-failed",{errorInfo:e.t0});case 17:if(!i.error){e.next=20;break}throw n=i.error.message,bW.create("token-subscribe-failed",{errorInfo:n});case 20:if(i.token){e.next=22;break}throw bW.create("token-subscribe-no-token");case 22:return e.abrupt("return",i.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 2:return e.t0=e.sent,e.t1=Date.now(),e.t2=n,n={token:e.t0,createTime:e.t1,subscriptionOptions:e.t2},e.next=8,mW(t,n);case 8:return e.abrupt("return",n.token);case 9:case"end":return e.stop()}}),e)}))),RW.apply(this,arguments)}function DW(e,t){return LW.apply(this,arguments)}function LW(){return LW=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t){var n={};return e.from&&(n.project_number=e.from),e.fcm_message_id&&(n.message_id=e.fcm_message_id),n.instance_id=t,e.notification?n.message_type=GB.DISPLAY_NOTIFICATION.toString():n.message_type=GB.DATA_MESSAGE.toString(),n.sdk_platform=iW.toString(),n.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(n.collapse_key=e.collapse_key),n.event=aW.toString(),null!==(t=e.fcmOptions)&&void 0!==t&&t.analytics_label&&(n.analytics_label=null===(e=e.fcmOptions)||void 0===e?void 0:e.analytics_label),n},e.t1=n,e.next=4,t.firebaseDependencies.installations.getId();case 4:e.t2=e.sent,n=(0,e.t0)(e.t1,e.t2),function(e,t){var n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}(t,n);case 7:case"end":return e.stop()}}),e)}))),LW.apply(this,arguments)}function MW(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function FW(e,t){return UW.apply(this,arguments)}function UW(){return UW=f(c.mark((function e(t,n){var r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(t){return null}}(t),!r){e.next=16;break}if(e.t0=n.deliveryMetricsExportedToBigQueryEnabled,!e.t0){e.next=6;break}return e.next=6,DW(n,r);case 6:return e.next=8,VW();case 8:if(!(o=e.sent).some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))){e.next=11;break}return e.abrupt("return",function(e,t){t.isFirebaseMessaging=!0,t.messageType=QB.PUSH_RECEIVED;var n,r=d(e);try{for(r.s();!(n=r.n()).done;)n.value.postMessage(t)}catch(i){r.e(i)}finally{r.f()}}(o,r));case 11:if(e.t1=r.notification,!e.t1){e.next=15;break}return e.next=15,function(e){var t=e.actions,n=Notification.maxActions;return t&&n&&t.length>n&&console.warn("This browser only supports ".concat(n," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(n=e.title)&&void 0!==n?n:"",e)}(function(e){var t=Object.assign({},e.notification);return t.data=h({},nW,e),t}(r));case 15:n&&n.onBackgroundMessageHandler&&(a={from:(i=r).from,collapseKey:i.collapse_key,messageId:i.fcm_message_id},t=a,(o=i).notification&&(t.notification={},(r=o.notification.title)&&(t.notification.title=r),(r=o.notification.body)&&(t.notification.body=r),(o=o.notification.image)&&(t.notification.image=o)),t=a,(o=i).data&&(t.data=o.data),t=a,(o=i).fcmOptions&&(t.fcmOptions={},(i=o.fcmOptions.link)&&(t.fcmOptions.link=i),(o=o.fcmOptions.analytics_label)&&(t.fcmOptions.analyticsLabel=o)),a=a,"function"==typeof n.onBackgroundMessageHandler?n.onBackgroundMessageHandler(a):n.onBackgroundMessageHandler.next(a));case 16:case"end":return e.stop()}}),e)}))),UW.apply(this,arguments)}function jW(e){return qW.apply(this,arguments)}function qW(){return qW=f(c.mark((function e(t){var n,r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null===(a=null===(r=t.notification)||void 0===r?void 0:r.data)||void 0===a?void 0:a[nW])||t.action){e.next=24;break}if(t.stopImmediatePropagation(),t.notification.close(),r=function(e){var t,n=null!==(t=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==t?t:null===(n=e.notification)||void 0===n?void 0:n.click_action;return n||(function(e){return"object"==typeof e&&e&&rW in e}(e.data)?self.location.origin:null)}(n),!r){e.next=24;break}if(a=new URL(r,self.location.href),t=new URL(self.location.origin),a.host!==t.host){e.next=24;break}return e.next=9,function(){var e=f(c.mark((function e(t){var n,r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VW();case 2:n=e.sent,r=d(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=13;break}if(a=i.value,o=new URL(a.url,self.location.href),t.host!==o.host){e.next=11;break}return e.abrupt("return",a);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[4,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()(a);case 9:if(!(o=e.sent)){e.next=16;break}return e.next=13,o.focus();case 13:o=e.sent,e.next=22;break;case 16:return e.next=18,self.clients.openWindow(r);case 18:return o=e.sent,i=3e3,e.next=22,new Promise((function(e){setTimeout(e,i)}));case 22:if(!o){e.next=24;break}return e.abrupt("return",(n.messageType=QB.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,o.postMessage(n)));case 24:case"end":return e.stop()}}),e)}))),qW.apply(this,arguments)}function VW(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function BW(e){return bW.create("missing-app-config-values",{valueName:e})}MW("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),MW("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var zW,WW,KW,HW=function(){function e(t,n,r){k(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw BW("App Configuration Object");if(!e.name)throw BW("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw BW(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return w(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}(),GW=function(e){var t=new HW(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(function(e){e.waitUntil(FW(e,t))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=t.newSubscription)){e.next=11;break}return e.next=3,yW(n.firebaseDependencies);case 3:return t=e.sent,e.next=6,NW(n);case 6:return n.vapidKey=null!==(t=null===(t=null==t?void 0:t.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==t?t:eW,e.next=9,CW(n);case 9:e.next=13;break;case 11:return e.next=13,NW(n);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(e,t))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(jW(e))})),t};function QW(e,t){return function(e,t){if(void 0!==self.document)throw bW.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,function(){e.onBackgroundMessageHandler=null}}(e=ud(e),t)}jd(new vd("messaging-sw",GW,"PUBLIC"));var $W=function(){function e(t,n){k(this,e),this.app=t,this._delegate=n,this.app=t,this._delegate=n}return w(e,[{key:"getToken",value:function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wz(t=ud(t),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this._delegate,t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteToken",value:function(){var e=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xz(this._delegate));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onMessage",value:function(e){return Zz(this._delegate,e)}},{key:"onBackgroundMessage",value:function(e){return QW(this._delegate,e)}}]),e}(),YW=function(e){return self&&"ServiceWorkerGlobalScope"in self?new $W(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new $W(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate())},JW={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?Nh()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!=typeof window&&Nh()&&Oh()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};rp.INTERNAL.registerComponent(new vd("messaging-compat",YW,"PUBLIC").setServiceProps(JW)),rp.registerVersion("@firebase/messaging-compat","0.1.1"),(zH=zW=zW||{})[zH.NO_ERROR=0]="NO_ERROR",zH[zH.NETWORK_ERROR=1]="NETWORK_ERROR",zH[zH.ABORT=2]="ABORT";var XW="firebasestorage.googleapis.com",ZW="storageBucket",eK=function(e){y(n,e);var t=g(n);function n(e,r){var i;return k(this,n),(i=t.call(this,tK(e),"Firebase Storage: ".concat(r," (").concat(tK(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(v(i),n.prototype),i}return w(n,[{key:"_codeEquals",value:function(e){return tK(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Rh);function tK(e){return"storage/"+e}function nK(){return new eK("unknown","An unknown error occurred, please check the error payload for server response.")}function rK(){return new eK("canceled","User canceled the upload/download.")}function iK(){return new eK("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function aK(e){return new eK("invalid-argument",e)}function oK(){return new eK("app-deleted","The Firebase app was deleted.")}function sK(e){return new eK("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uK(e,t){return new eK("invalid-format","String does not match format '"+e+"': "+t)}function cK(e){throw new eK("internal-error","Internal error: "+e)}var lK=function(){function e(){var t=this;k(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=zW.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=zW.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=zW.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return w(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw cK("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw cK("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw cK("cannot .getStatus() before sending");try{return this.xhr_.status}catch(n){return-1}}},{key:"getResponseText",value:function(){if(!this.sent_)throw cK("cannot .getResponseText() before sending");return this.xhr_.responseText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),fK=function(){function e(){k(this,e)}return w(e,[{key:"createConnection",value:function(){return new lK}}]),e}(),hK=function(){function e(t,n){k(this,e),this.bucket=t,this.path_=n}return w(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(n){return new e(t,"")}if(""===r.path)return r;throw new eK("invalid-default-bucket","Invalid default bucket '"+(t=t)+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=(s=new RegExp("^https?://".concat(s,"/v[A-Za-z0-9_]+/b/").concat(i,"/o(/([^?#]*).*)?$"),"i"),n=n===XW?"(?:storage.googleapis.com|storage.cloud.google.com)":n,[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:s,indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n,"/").concat(i,"/([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}]),c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];r=new e(h,d=d||""),l.postModify(r);break}}if(null==r)throw new eK("invalid-url","Invalid URL '"+(i=t)+"'.");return r}}]),e}(),dK=function(){function e(t){k(this,e),this.promise_=Promise.reject(t)}return w(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function pK(e){return"string"==typeof e||e instanceof String}function vK(e){return yK()&&e instanceof Blob}function yK(){return"undefined"!=typeof Blob}function gK(e,t,n,r){if(r<t)throw aK("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(n<r)throw aK("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function mK(e,t,n){var r=null==n?"https://".concat(t):t;return"".concat(n,"://").concat(r,"/v0").concat(e)}function kK(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1)}var wK=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;k(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.pool_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return w(e,[{key:"start_",value:function(){var e=this,t=function(t,n){if(n)t(!1,new bK(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r;var i=function(t){var n=t.loaded;t=t.lengthComputable?t.total:-1,null!==e.progressCallback_&&e.progressCallback_(n,t)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n,a=r.getErrorCode()===zW.NO_ERROR,o=r.getStatus();a&&!e.isRetryStatusCode_(o)?(n=-1!==e.successCodes_.indexOf(o),t(!0,new bK(n,r))):(n=r.getErrorCode()===zW.ABORT,t(!1,new bK(!1,null,n)))}))}},n=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponseText());void 0!==o?r(o):r()}catch(t){i(t)}else if(null!==a){var s=nK();s.serverResponse=a.getResponseText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else n.canceled?i((e.appDelete_?oK:rK)()):i(new eK("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}));this.canceled_?n(0,new bK(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=!1,o=0;function s(){return 2===o}var u=!1;function c(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];u||(u=!0,t.apply(null,n))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];u||(e||s()||a?c.call.apply(c,[null,e].concat(n)):(r<64&&(r*=2),l(1===o?(o=2,0):1e3*(r+Math.random()))))}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(o=2),clearTimeout(i),l(0)):e||(o=1)))}return l(0),setTimeout((function(){d(a=!0)}),n),d}(t,n,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=500<=e&&e<600,n=-1!==[408,429].indexOf(e);return e=-1!==this.additionalRetryCodes_.indexOf(e),t||n||e}}]),e}(),bK=function e(t,n,r){k(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r};function _K(){for(var e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(yK())return new Blob(n);throw new eK("unsupported-environment","This browser doesn't seem to support creating Blobs")}var xK={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},TK=function e(t,n){k(this,e),this.data=t,this.contentType=n||null};function EK(e,t){switch(e){case xK.RAW:return new TK(IK(t));case xK.BASE64:case xK.BASE64URL:return new TK(SK(e,t));case xK.DATA_URL:return new TK(function(e){return(e=new CK(e)).base64?SK(xK.BASE64,e.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw uK(xK.DATA_URL,"Malformed data URL.")}return IK(t)}(e.rest)}(t),function(e){return(e=new CK(e)).contentType}(t))}throw nK()}function IK(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function SK(e,t){switch(e){case xK.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw uK(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case xK.BASE64URL:if(r=-1!==t.indexOf("+"),n=-1!==t.indexOf("/"),r||n)throw uK(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(t)}catch(t){throw uK(e,"Invalid character found")}for(var a=new Uint8Array(i.length),o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}var CK=function e(t){k(this,e),this.base64=!1,this.contentType=null;var n,r=t.match(/^data:([^,]+)?,/);if(null===r)throw uK(xK.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=r[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)},AK=function(){function e(t,n){k(this,e);var r=0,i="";vK(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return w(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(vK(this.data_)){var r=this.data_;return null===(i=t,a=n,a=(r=r).webkitSlice?r.webkitSlice(i,a):r.mozSlice?r.mozSlice(i,a):r.slice?r.slice(i,a):null)?null:new e(a)}var i,a;return new e(t=new Uint8Array(this.data_.buffer,t,n-t),!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(yK()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(_K.apply(null,i))}var a=n.map((function(e){return pK(e)?EK(xK.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function NK(e){var t;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(e=t)||Array.isArray(e)?null:t}function PK(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function OK(e,t){return t}var RK=function e(t,n,r,i){k(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||OK},DK=null;function LK(){if(DK)return DK;var e=[];e.push(new RK("bucket")),e.push(new RK("generation")),e.push(new RK("metageneration")),e.push(new RK("name","fullPath",!0));var t=new RK("name");t.xform=function(e,t){return!pK(t=t)||t.length<2?t:PK(t)},e.push(t);var n=new RK("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new RK("timeCreated")),e.push(new RK("updated")),e.push(new RK("md5Hash",null,!0)),e.push(new RK("cacheControl",null,!0)),e.push(new RK("contentDisposition",null,!0)),e.push(new RK("contentEncoding",null,!0)),e.push(new RK("contentLanguage",null,!0)),e.push(new RK("contentType",null,!0)),e.push(new RK("metadata","customMetadata",!0)),DK=e}function MK(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath;return r=new hK(n,r),t._makeStorageReference(r)}})}function FK(e,t,n){return null===(t=NK(t))?null:function(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return MK(r,e),r}(e,t,n)}function UK(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function jK(e,t,n){return null===(n=NK(n))?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=d(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,"");o=e._makeStorageReference(new hK(t,o)),r.prefixes.push(o)}}catch(f){a.e(f)}finally{a.f()}}if(n.items){var s,u=d(n.items);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=e._makeStorageReference(new hK(t,c.name));r.items.push(l)}}catch(f){u.e(f)}finally{u.f()}}return r}(e,t,n)}var qK=function e(t,n,r,i){k(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function VK(e){if(!e)throw nK()}function BK(e,t){return function(n,r){return VK(null!==(r=FK(e,r,t))),r}}function zK(e,t){return function(n,r){return VK(null!==(r=jK(e,t,r))),r}}function WK(e,t){return function(n,r){var i=FK(e,r,t);return VK(null!==i),function(e,t,n,r){if(null===(t=NK(t)))return null;if(!pK(t.downloadTokens))return null;var i=t.downloadTokens;if(0===i.length)return null;var a=encodeURIComponent;return i.split(",").map((function(t){var i=e.bucket,o=e.fullPath;return mK("/b/"+a(i)+"/o/"+a(o),n,r)+kK({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function KK(e){return function(t,n){var r,i;return(r=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new eK("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new eK("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,new eK("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(t=e.path,new eK("unauthorized","User does not have permission to access '"+t+"'.")):n).serverResponse=n.serverResponse,r}}function HK(e){var t=KK(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(n=e.path,i=new eK("object-not-found","Object '"+n+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function GK(e,t,n){var r=mK(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new qK(r,"GET",BK(e,n),i);return a.errorHandler=HK(t),a}function QK(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=(e=t,(t=null)&&t.contentType||e&&e.type()||"application/octet-stream")),r}function $K(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=QK(t,r,i),c=(i="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+UK(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",s="\r\n--"+s+"--",AK.getBlob(i,r,s));if(null===c)throw iK();s={name:u.fullPath},u=mK(a,e.host,e._protocol),a=e.maxUploadRetryTime;var l=new qK(u,"POST",BK(e,n),a);return l.urlParams=s,l.headers=o,l.body=c.uploadData(),l.errorHandler=KK(t),l}var YK=function e(t,n,r,i){k(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null};function JK(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){VK(!1)}return VK(!!n&&-1!==(t||["active"]).indexOf(n)),n}function XK(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=QK(t,r,i),s=(i={name:o.fullPath},a=mK(a,e.host,e._protocol),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},n=UK(o,n),e=e.maxUploadRetryTime,new qK(a,"POST",(function(e){var t;JK(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){VK(!1)}return VK(pK(t)),t}),e));return s.urlParams=i,s.headers=r,s.body=n,s.errorHandler=KK(t),s}function ZK(e,t,n,r){e=e.maxUploadRetryTime;var i=new qK(n,"POST",(function(e){var t=JK(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){VK(!1)}return n||VK(!1),e=Number(n),VK(!isNaN(e)),new YK(e,r.size(),"final"===t)}),e);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=KK(t),i}function eH(e,t,n,r,i,a,o,s){var u=new YK(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new eK("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;0<i&&(l=Math.min(l,i)),i=(o=u.current)+l,c={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)};var f=r.slice(o,i);if(null===f)throw iK();i=t.maxUploadRetryTime;var h=new qK(n,"POST",(function(e,n){var i,o=JK(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?BK(t,a)(e,n):null,new YK(s,c,"final"===o,i)}),i);return h.headers=c,h.body=f.uploadData(),h.progressCallback=s||null,h.errorHandler=KK(e),h}var tH={STATE_CHANGED:"state_changed"},nH={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rH(e){switch(e){case"running":case"pausing":case"canceling":return nH.RUNNING;case"paused":return nH.PAUSED;case"success":return nH.SUCCESS;case"canceled":return nH.CANCELED;default:return nH.ERROR}}var iH=function e(t,n,r){k(this,e),"function"==typeof t||null!=n||null!=r?(this.next=t,this.error=null!=n?n:void 0,this.complete=null!=r?r:void 0):(this.next=(t=t).next,this.error=t.error,this.complete=t.complete)};function aH(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var oH=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;k(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=LK(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return w(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return 262144<e.size()}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=p(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=XK(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=ZK(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=262144*this._chunkMultiplier,n=new YK(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=eH(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(i){return e._error=i,void e._transition("error")}var s=e._ref.storage._makeRequest(o,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=GK(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=$K(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=rK(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=rH(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new iH(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){-1!==(e=this._observers.indexOf(e))&&this._observers.splice(e,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(rH(this._state)){case nH.SUCCESS:aH(this._resolve.bind(null,this.snapshot))();break;case nH.CANCELED:case nH.ERROR:aH(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(rH(this._state)){case nH.RUNNING:case nH.PAUSED:e.next&&aH(e.next.bind(e,this.snapshot))();break;case nH.SUCCESS:e.complete&&aH(e.complete.bind(e))();break;case nH.CANCELED:case nH.ERROR:default:e.error&&aH(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),sH=function(){function e(t,n){k(this,e),this._service=t,this._location=n instanceof hK?n:hK.makeFromUrl(n,t.host)}return w(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new hK(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return PK(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);return null===t?null:(t=new hK(this._location.bucket,t),new e(this._service,t))}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw sK(e)}}]),e}();function uH(e){var t={prefixes:[],items:[]};return function(){var e=f(c.mark((function e(n,r,i){var a,o,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={pageToken:i},e.next=3,cH(n,s);case 3:if(u=e.sent,(a=r.prefixes).push.apply(a,l(u.prefixes)),(o=r.items).push.apply(o,l(u.items)),e.t0=null!=u.nextPageToken,!e.t0){e.next=10;break}return e.next=10,t(n,r,u.nextPageToken);case 10:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()(e,t).then((function(){return t}))}function cH(e,t){return lH.apply(this,arguments)}function lH(){return lH=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=n&&"number"==typeof n.maxResults&&gK("options.maxResults",1,1e3,n.maxResults),n=n||{},n=function(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&0<n.length&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i),r=mK(t.bucketOnlyServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime;var o=new qK(r,"GET",zK(e,t.bucket),i);return o.urlParams=a,o.errorHandler=KK(t),o}(t.storage,t._location,"/",n.pageToken,n.maxResults),e.next=4,t.storage.makeRequestWithTokens(n);case 4:return e.abrupt("return",e.sent.getPromise());case 5:case"end":return e.stop()}}),e)}))),lH.apply(this,arguments)}function fH(e,t){return hH.apply(this,arguments)}function hH(){return hH=f(c.mark((function e(t,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=mK(t.fullServerUrl(),e.host,e._protocol),a=UK(n,r),o=(n=e.maxOperationRetryTime,new qK(i,"PATCH",BK(e,r),n));return o.headers={"Content-Type":"application/json; charset=utf-8"},o.body=a,o.errorHandler=HK(t),o}(t.storage,t._location,n,LK()),e.next=4,t.storage.makeRequestWithTokens(n);case 4:return e.abrupt("return",e.sent.getPromise());case 5:case"end":return e.stop()}}),e)}))),hH.apply(this,arguments)}function dH(e){return pH.apply(this,arguments)}function pH(){return pH=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._throwIfRoot("getDownloadURL"),n=function(e,t,n){var r=mK(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new qK(r,"GET",WK(e,n),i);return a.errorHandler=HK(t),a}(t.storage,t._location,LK()),e.next=4,t.storage.makeRequestWithTokens(n);case 4:return e.abrupt("return",e.sent.getPromise().then((function(e){if(null===e)throw new eK("no-download-url","The given file does not have any download URLs.");return e})));case 5:case"end":return e.stop()}}),e)}))),pH.apply(this,arguments)}function vH(e){return yH.apply(this,arguments)}function yH(){return yH=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._throwIfRoot("deleteObject"),n=function(e,t){var n=mK(t.fullServerUrl(),e.host,e._protocol),r=(e=e.maxOperationRetryTime,new qK(n,"DELETE",(function(e,t){}),e));return r.successCodes=[200,204],r.errorHandler=HK(t),r}(t.storage,t._location),e.next=4,t.storage.makeRequestWithTokens(n);case 4:return e.abrupt("return",e.sent.getPromise());case 5:case"end":return e.stop()}}),e)}))),yH.apply(this,arguments)}function gH(e,t){var n;return n=e._location.path,t=(t=t).split("/").filter((function(e){return 0<e.length})).join("/"),t=0===n.length?t:n+"/"+t,t=new hK(e._location.bucket,t),new sH(e.storage,t)}function mH(e,t){if(e instanceof bH){var n=e;if(null==n._bucket)throw new eK("no-default-bucket","No default bucket found. Did you set the '"+ZW+"' property when initializing the app?");return n=new sH(n,n._bucket),null!=t?mH(n,t):n}return void 0!==t?gH(e,t):e}function kH(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof bH)return new sH(e,t);throw aK("To use ref(service, url), the first argument must be a Storage instance.")}return mH(e,t)}function wH(e,t){return null==(t=null==t?void 0:t[ZW])?null:hK.makeFromBucketSpec(t,e)}var bH=function(){function e(t,n,r,i,a,o){k(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=XW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?hK.makeFromBucketSpec(a,this._host):wH(this._host,this.app.options)}return w(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=hK.makeFromBucketSpec(this._url,e):this._bucket=wH(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){gK("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){gK("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=f(c.mark((function e(){var t,n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_getAppCheckToken",value:function(){var e=f(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=7;break}return e.next=4,t.getToken();case 4:e.t0=e.sent.token,e.next=8;break;case 7:e.t0=null;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new sH(this,e)}},{key:"_makeRequest",value:function(e,t,n){var r=this;if(this._deleted)return new dK(oK());var i,a,o,s,u,c,l=(i=e,a=this._appId,o=t,s=n,u=this._pool,c=this._firebaseVersion,e=kK(i.urlParams),t=i.url+e,e=n=Object.assign({},i.headers),(a=a)&&(e["X-Firebase-GMPID"]=a),a=n,null!==(o=o)&&0<o.length&&(a.Authorization="Firebase "+o),c=c,n["X-Firebase-Storage-Version"]="webjs/"+(null!=c?c:"AppManager"),c=n,null!==(s=s)&&(c["X-Firebase-AppCheck"]=s),new wK(t,i.method,n,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,u));return this._requests.add(l),l.getPromise().then((function(){return r._requests.delete(l)}),(function(){return r._requests.delete(l)})),l}},{key:"makeRequestWithTokens",value:function(){var e=f(c.mark((function e(t){var n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return n=e.sent,r=p(n,2),i=r[0],a=r[1],e.abrupt("return",this._makeRequest(t,i,a));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function _H(e,t,n){return t=t,n=n,(e=e=ud(e))._throwIfRoot("uploadBytesResumable"),new oH(e,new AK(t),n)}function xH(e){return function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._throwIfRoot("getMetadata"),n=GK(t.storage,t._location,LK()),e.next=4,t.storage.makeRequestWithTokens(n);case 4:return e.abrupt("return",e.sent.getPromise());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(e=ud(e))}function TH(e,t){return kH(e=ud(e),t)}function EH(e,t,n){var r,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=(r=[e,t,n,a])[0],t=r[1],n=r[2],a=void 0===(i=r[3])?{}:i,e.host="".concat(t,":").concat(n),e._protocol="http",(a=a.mockUserToken)&&(e._overrideAuthToken="string"==typeof a?a:_h(a,e.app.options.projectId))}function IH(e,t){var n=t.instanceIdentifier;return function(e){var t=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return e=e.getProvider("app-check-internal"),new bH(t,r,e,new fK,n,zd)}(e)}jd(new vd("storage",IH,"PUBLIC").setMultipleInstances(!0)),Qd("@firebase/storage","0.8.3");var SH=function(){function e(t,n,r){k(this,e),this._delegate=t,this.task=n,this.ref=r}return w(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),CH=function(){function e(t,n){k(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return w(e,[{key:"snapshot",get:function(){return new SH(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new SH(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"==typeof t?function(e){return t(new SH(e,i,i._ref))}:{next:t.next?function(e){return t.next(new SH(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),AH=function(){function e(t,n){k(this,e),this._delegate=t,this._service=n}return w(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new NH(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new NH(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),NH=function(){function e(t,n){k(this,e),this._delegate=t,this.storage=n}return w(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){return new e(t=gH(this._delegate,t),this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new CH(_H(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xK.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString"),e=EK(t,e);var r=Object.assign({},n);return null==r.contentType&&null!=e.contentType&&(r.contentType=e.contentType),new CH(new oH(this._delegate,new AK(e.data,!0),r),this)}},{key:"listAll",value:function(){var e=this;return uH(ud(this._delegate)).then((function(t){return new AH(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return e=e||void 0,cH(ud(this._delegate),e).then((function(e){return new AH(e,t.storage)}))}},{key:"getMetadata",value:function(){return xH(this._delegate)}},{key:"updateMetadata",value:function(e){return fH(ud(this._delegate),e)}},{key:"getDownloadURL",value:function(){return dH(ud(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),vH(ud(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw sK(e)}}]),e}(),PH=function(){function e(t,n){k(this,e),this.app=t,this._delegate=n}return w(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(OH(e))throw aK("ref() expected a child path but got a URL, use refFromURL instead.");return new NH(TH(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!OH(e))throw aK("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hK.makeFromUrl(e,this._delegate.host)}catch(e){throw aK("refFromUrl() expected a valid full URL but got an invalid one.")}return new NH(TH(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};EH(this._delegate,e,t,n)}}]),e}();function OH(e){return/^[A-Za-z]+:\/\//.test(e)}function RH(e,t){return function(t){var n=e.getProvider("app-compat").getImmediate();return t=e.getProvider("storage").getImmediate({identifier:t}),new PH(n,t)}(t.instanceIdentifier)}KW={TaskState:nH,TaskEvent:tH,StringFormat:xK,Storage:PH,Reference:NH},(WW=rp).INTERNAL.registerComponent(new vd("storage-compat",RH,"PUBLIC").setServiceProps(KW).setMultipleInstances(!0)),WW.registerVersion("@firebase/storage-compat","0.1.3");var DH,LH,MH,FH,UH,jH="0.5.1",qH="FB-PERF-TRACE-MEASURE",VH="@firebase/performance/config",BH="@firebase/performance/configexpire",zH="Performance",WH=new Dh("performance",zH,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),KH=new Ad(zH);KH.logLevel=wd.INFO;var HH,GH,QH=function(){function e(t){if(k(this,e),!(this.window=t))throw WH.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return w(e,[{key:"getUrl",value:function(){return this.windowLocation.href.split("?")[0]}},{key:"mark",value:function(e){this.performance&&this.performance.mark&&this.performance.mark(e)}},{key:"measure",value:function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)}},{key:"getEntriesByType",value:function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}},{key:"getEntriesByName",value:function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}},{key:"getTimeOrigin",value:function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}},{key:"requiredApisAvailable",value:function(){return fetch&&Promise&&Oh()?!!Nh()||(KH.info("IndexedDB is not supported by current browswer"),!1):(KH.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}},{key:"setupObserver",value:function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){var n,r=d(e.getEntries());try{for(r.s();!(n=r.n()).done;){var i=n.value;t(i)}}catch(a){r.e(a)}finally{r.f()}}));n.observe({entryTypes:[e]})}}}],[{key:"getInstance",value:function(){return void 0===FH&&(FH=new e(UH)),FH}}]),e}();function $H(e,t){var n=e.length-t.length;if(n<0||1<n)throw WH.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var YH=function(){function e(){k(this,e),this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=$H("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=$H("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return w(e,[{key:"getFlTransportFullUrl",value:function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}}],[{key:"getInstance",value:function(){return void 0===GH&&(GH=new e),GH}}]),e}();(zH=DH=DH||{})[zH.UNKNOWN=0]="UNKNOWN",zH[zH.VISIBLE=1]="VISIBLE",zH[zH.HIDDEN=2]="HIDDEN";var JH=["firebase_","google_","ga_"],XH=new RegExp("^[a-zA-Z]\\w*$");function ZH(){switch(QH.getInstance().document.visibilityState){case"visible":return DH.VISIBLE;case"hidden":return DH.HIDDEN;default:return DH.UNKNOWN}}function eG(e){if(!(e=null===(e=e.options)||void 0===e?void 0:e.appId))throw WH.create("no app id");return e}var tG="0.0.1",nG={loggingEnabled:!0},rG="FIREBASE_INSTALLATIONS_AUTH";function iG(e,t){var n,r,i=function(){var e=QH.getInstance().localStorage;if(e){var t=e.getItem(BH);if(t&&function(e){return Number(e)>Date.now()}(t)&&(t=e.getItem(VH)))try{return JSON.parse(t)}catch(e){return}}}();return i?(oG(i),Promise.resolve()):(r=t,function(e){var t=e.getToken();return t.then((function(e){})),t}((n=e).installations).then((function(e){var t=function(e){if(!(e=null===(e=e.options)||void 0===e?void 0:e.projectId))throw WH.create("no project id");return e}(n.app),i=function(e){if(!(e=null===(e=e.options)||void 0===e?void 0:e.apiKey))throw WH.create("no api key");return e}(n.app);return e=new Request("https://firebaseremoteconfig.googleapis.com/v1/projects/".concat(t,"/namespaces/fireperf:fetch?key=").concat(i),{method:"POST",headers:{Authorization:"".concat(rG," ").concat(e)},body:JSON.stringify({app_instance_id:r,app_instance_id_token:e,app_id:eG(n.app),app_version:jH,sdk_version:tG})}),fetch(e).then((function(e){if(e.ok)return e.json();throw WH.create("RC response not ok")}))})).catch((function(){KH.info(aG)})).then(oG).then((function(e){return function(e){var t=QH.getInstance().localStorage;e&&t&&(t.setItem(VH,JSON.stringify(e)),t.setItem(BH,String(Date.now()+60*YH.getInstance().configTimeToLive*60*1e3)))}(e)}),(function(){})))}var aG="Could not fetch config, will use default configs";function oG(e){if(!e)return e;var t=YH.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=nG.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=sG(t.tracesSamplingRate),t.logNetworkAfterSampling=sG(t.networkRequestsSamplingRate),e}function sG(e){return Math.random()<=e}var uG,cG=1;function lG(e){var t;return cG=2,uG=uG||(t=e,function(){var e=QH.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(e){var t=e.getId();return t.then((function(e){HH=e})),t}(t.installations)})).then((function(e){return iG(t,e)})).then((function(){return fG()}),(function(){return fG()}))),uG}function fG(){cG=3}var hG,dG=1e4,pG=3,vG=1e3,yG=pG,gG=[],mG=!1;function kG(e){setTimeout((function(){if(0!==yG)return gG.length?void function(){var e=gG.splice(0,vG),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=YH.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||KH.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=dG;isNaN(n)||(r=Math.max(n,r)),e=e.logResponseDetails,Array.isArray(e)&&0<e.length&&"RETRY_REQUEST_LATER"===e[0].responseAction&&(gG=[].concat(l(t),l(gG)),KH.info("Retry transport request later.")),yG=pG,kG(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:YH.getInstance().logSource,log_event:t},e).catch((function(){gG=[].concat(l(e),l(gG)),yG--,KH.info("Tries left: ".concat(yG,".")),kG(dG)}))}():kG(dG)}),e)}function wG(e){return function(){!function(e){if(!e.eventTime||!e.message)throw WH.create("invalid cc log");gG=[].concat(l(gG),[e])}({message:e.apply(void 0,arguments),eventTime:Date.now()})}}function bG(e,t){(hG=hG||wG(TG))(e,t)}function _G(e){var t=YH.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&QH.getInstance().requiredApisAvailable()&&(e.isAuto&&ZH()!==DH.VISIBLE||(3===cG?xG(e):lG(e.performanceController).then((function(){return xG(e)}),(function(){return xG(e)}))))}function xG(e){var t;!HH||(t=YH.getInstance()).loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return bG(e,1)}),0)}function TG(e,t){return 0===t?(t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},t={application_info:EG(e.performanceController.app),network_request_metric:t},JSON.stringify(t)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();return 0!==Object.keys(n).length&&(t.custom_attributes=n),e={application_info:EG(e.performanceController.app),trace_metric:t},JSON.stringify(e)}(e)}function EG(e){return{google_app_id:eG(e),app_instance_id:HH,web_app_info:{sdk_version:jH,page_url:QH.getInstance().getUrl(),service_worker_status:"serviceWorker"in(e=QH.getInstance().navigator)?e.serviceWorker.controller?2:3:1,visibility_state:ZH(),effective_connection_type:function(){var e=QH.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0}}var IG=["_fp","_fcp","_fid"],SG=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;k(this,e),this.performanceController=t,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=QH.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-".concat(this.randomId,"-").concat(this.name),this.traceStopMark="FB-PERF-TRACE-STOP-".concat(this.randomId,"-").concat(this.name),this.traceMeasure=i||"".concat(qH,"-").concat(this.randomId,"-").concat(this.name),i&&this.calculateTraceMetrics())}return w(e,[{key:"start",value:function(){if(1!==this.state)throw WH.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}},{key:"stop",value:function(){if(2!==this.state)throw WH.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),_G(this)}},{key:"record",value:function(e,t,n){if(e<=0)throw WH.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw WH.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object.assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var a=i[r];isNaN(Number(n.metrics[a]))||(this.counters[a]=Number(Math.floor(n.metrics[a])))}_G(this)}},{key:"incrementMetric",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)}},{key:"putMetric",value:function(e,t){if(n=e,r=this.name,0===n.length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<IG.indexOf(n))&&n.startsWith("_"))throw WH.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=(e=t,(t=Math.floor(e))<e&&KH.info("Metric value should be an Integer, setting the value as : ".concat(t,".")),t)}},{key:"getMetric",value:function(e){return this.counters[e]||0}},{key:"putAttribute",value:function(e,t){var n,r=!(0===(n=e).length||40<n.length)&&!JH.some((function(e){return n.startsWith(e)}))&&!!n.match(XH),i=0!==(i=t).length&&i.length<=100;if(r&&i)this.customAttributes[e]=t;else{if(!r)throw WH.create("invalid attribute name",{attributeName:e});if(!i)throw WH.create("invalid attribute value",{attributeValue:t})}}},{key:"getAttribute",value:function(e){return this.customAttributes[e]}},{key:"removeAttribute",value:function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}},{key:"getAttributes",value:function(){return Object.assign({},this.customAttributes)}},{key:"setStartTime",value:function(e){this.startTimeUs=e}},{key:"setDuration",value:function(e){this.durationUs=e}},{key:"calculateTraceMetrics",value:function(){var e;(e=(e=this.api.getEntriesByName(this.traceMeasure))&&e[0])&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))}}],[{key:"createOobTrace",value:function(t,n,r,i){var a=QH.getInstance().getUrl();if(a){var o=new e(t,"_wt_"+a,!0);a=Math.floor(1e3*QH.getInstance().getTimeOrigin()),o.setStartTime(a),n&&n[0]&&(o.setDuration(Math.floor(1e3*n[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd))),r&&((n=r.find((function(e){return"first-paint"===e.name})))&&n.startTime&&o.putMetric("_fp",Math.floor(1e3*n.startTime)),(r=r.find((function(e){return"first-contentful-paint"===e.name})))&&r.startTime&&o.putMetric("_fcp",Math.floor(1e3*r.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))),_G(o)}}},{key:"createUserTimingTrace",value:function(t,n){_G(new e(t,n,!1,n))}}]),e}();function CG(e,t){var n,r,i=t;i&&void 0!==i.responseStart&&(r=QH.getInstance().getTimeOrigin(),n=Math.floor(1e3*(i.startTime+r)),t=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,r=Math.floor(1e3*(i.responseEnd-i.startTime)),function(e){var t,n,r,i=YH.getInstance();i.instrumentationEnabled&&(t=e.url,n=i.logEndPointUrl.split("?")[0],r=i.flTransportEndpointUrl.split("?")[0],t!==n&&t!==r&&i.loggingEnabled&&i.logNetworkAfterSampling&&setTimeout((function(){return bG(e,0)}),0))}({performanceController:e,url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:n,timeToResponseInitiatedUs:t,timeToResponseCompletedUs:r}))}var AG=5e3;function NG(e){HH&&(setTimeout((function(){return function(e){var t=QH.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout((function(){SG.createOobTrace(e,n,r),i=void 0}),AG);t.onFirstInputDelay((function(t){i&&(clearTimeout(i),SG.createOobTrace(e,n,r,t))}))}else SG.createOobTrace(e,n,r)}(e)}),0),setTimeout((function(){return function(e){var t,n=QH.getInstance(),r=n.getEntriesByType("resource"),i=d(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;CG(e,a)}}catch(o){i.e(o)}finally{i.f()}n.setupObserver("resource",(function(t){return CG(e,t)}))}(e)}),0),setTimeout((function(){return function(e){var t,n=QH.getInstance(),r=n.getEntriesByType("measure"),i=d(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;PG(e,a)}}catch(o){i.e(o)}finally{i.f()}n.setupObserver("measure",(function(t){return PG(e,t)}))}(e)}),0))}function PG(e,t){var n=t.name;n.substring(0,qH.length)!==qH&&SG.createUserTimingTrace(e,n)}var OG=function(){function e(t,n){k(this,e),this.app=t,this.installations=n,this.initialized=!1}return w(e,[{key:"_init",value:function(e){var t=this;this.initialized||(void 0!==(null==e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null==e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),QH.getInstance().requiredApisAvailable()?Ph().then((function(e){e&&(mG||(kG(5500),mG=!0),lG(t).then((function(){return NG(t)}),(function(){return NG(t)})),t.initialized=!0)})).catch((function(e){KH.info("Environment doesn't support IndexedDB: ".concat(e))})):KH.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}},{key:"instrumentationEnabled",get:function(){return YH.getInstance().instrumentationEnabled},set:function(e){YH.getInstance().instrumentationEnabled=e}},{key:"dataCollectionEnabled",get:function(){return YH.getInstance().dataCollectionEnabled},set:function(e){YH.getInstance().dataCollectionEnabled=e}}]),e}(),RG="[DEFAULT]",DG=function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(r.name!==RG)throw WH.create("FB not default");if("undefined"==typeof window)throw WH.create("no window");e=window,UH=e;var a=new OG(r,i);return a._init(n),a};jd(new vd("performance",DG,"PUBLIC")),Qd("@firebase/performance","0.5.1");var LG=function(){function e(t,n){k(this,e),this.app=t,this._delegate=n}return w(e,[{key:"instrumentationEnabled",get:function(){return this._delegate.instrumentationEnabled},set:function(e){this._delegate.instrumentationEnabled=e}},{key:"dataCollectionEnabled",get:function(){return this._delegate.dataCollectionEnabled},set:function(e){this._delegate.dataCollectionEnabled=e}},{key:"trace",value:function(e){return e=e,t=ud(t=this._delegate),new SG(t,e);var t}}]),e}();function MG(e){var t=e.getProvider("app-compat").getImmediate();return e=e.getProvider("performance").getImmediate(),new LG(t,e)}(LH=rp).INTERNAL.registerComponent(new vd("performance-compat",MG,"PUBLIC")),LH.registerVersion("@firebase/performance-compat","0.1.1");var FG="@firebase/remote-config",UG=function(){function e(){k(this,e),this.listeners=[]}return w(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}(),jG=new Dh("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"}),qG=["1","true","t","yes","y","on"],VG=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";k(this,e),this._source=t,this._value=n}return w(e,[{key:"asString",value:function(){return this._value}},{key:"asBoolean",value:function(){return"static"!==this._source&&0<=qG.indexOf(this._value.toLowerCase())}},{key:"asNumber",value:function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e}},{key:"getSource",value:function(){return this._source}}]),e}();function BG(e){return zG.apply(this,arguments)}function zG(){return zG=f(c.mark((function e(t){var n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ud(t),e.next=3,Promise.all([n._storage.getLastSuccessfulFetchResponse(),n._storage.getActiveConfigEtag()]);case 3:if(r=e.sent,i=p(r,2),a=i[0],t=i[1],e.t0=!!(a&&a.config&&a.eTag&&a.eTag!==t),!e.t0){e.next=12;break}return e.next=11,Promise.all([n._storageCache.setActiveConfig(a.config),n._storage.setActiveConfigEtag(a.eTag)]);case 11:e.t0=!0;case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),zG.apply(this,arguments)}function WG(e){var t=ud(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),t._initializePromise}function KG(e){return HG.apply(this,arguments)}function HG(){return HG=f(c.mark((function e(t){var n,r,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ud(t),r=new UG,setTimeout(f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.abort();case 1:case"end":return e.stop()}}),e)}))),n.settings.fetchTimeoutMillis),e.prev=2,e.next=5,n._client.fetch({cacheMaxAgeMillis:n.settings.minimumFetchIntervalMillis,signal:r});case 5:return e.next=7,n._storageCache.setLastFetchStatus("success");case 7:e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(2),i="fetch-throttle",i=(t=e.t0)instanceof Rh&&-1!==t.code.indexOf(i)?"throttle":"failure",e.next=14,n._storageCache.setLastFetchStatus(i);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])}))),HG.apply(this,arguments)}function GG(e){var t,n,r,i,a,o=ud(e);return i=void 0===(n=(t=[o._storageCache.getActiveConfig(),o.defaultConfig])[0])?{}:n,a=void 0===(r=t[1])?{}:r,Object.keys(Object.assign(Object.assign({},i),a)).reduce((function(t,n){return t[n]=QG(e,n),t}),{})}function QG(e,t){var n=ud(e);return n._isInitializationComplete||n._logger.debug('A value was requested for key "'.concat(t,'" before SDK initialization completed.')+" Await on ensureInitialized if the intent was to get a previously activated value."),(e=n._storageCache.getActiveConfig())&&void 0!==e[t]?new VG("remote",e[t]):n.defaultConfig&&void 0!==n.defaultConfig[t]?new VG("default",String(n.defaultConfig[t])):(n._logger.debug('Returning static value for key "'.concat(t,'".')+" Define a default or remote value if this is unintentional."),new VG("static"))}var $G=function(){function e(t,n,r,i){k(this,e),this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return w(e,[{key:"isCachedDataFresh",value:function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t;return t=n<=e,this.logger.debug("Config fetch cache check."+" Cache age millis: ".concat(n,".")+" Cache max age millis (minimumFetchIntervalMillis setting): ".concat(e,".")+" Is cache hit: ".concat(t,".")),t}},{key:"fetch",value:function(){var e=f(c.mark((function e(t){var n,r,i,a,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);case 2:if(n=e.sent,r=p(n,2),i=r[0],!(a=r[1])||!this.isCachedDataFresh(t.cacheMaxAgeMillis,i)){e.next=8;break}return e.abrupt("return",a);case 8:return t.eTag=a&&a.eTag,e.next=11,this.client.fetch(t);case 11:return t=e.sent,o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===t.status&&o.push(this.storage.setLastSuccessfulFetchResponse(t)),e.next=16,Promise.all(o);case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),YG=function(){function e(t,n,r,i,a,o){k(this,e),this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=o}return w(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=f(c.mark((function e(t){var n,r,i,a,o,s,u,l,f,h,d,v;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]);case 2:return n=e.sent,r=p(n,2),i=r[0],a=r[1],o="".concat(window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com","/v1/projects/").concat(this.projectId,"/namespaces/").concat(this.namespace,":fetch?key=").concat(this.apiKey),s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:i,app_instance_id_token:a,app_id:this.appId,language_code:(a=navigator).languages&&a.languages[0]||a.language},a={method:"POST",headers:s,body:JSON.stringify(a)},o=fetch(o,a),a=new Promise((function(e,n){t.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),e.prev=12,e.next=15,Promise.race([o,a]);case 15:return e.next=17,o;case 17:u=e.sent,e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(12),l="fetch-client-network","AbortError"===e.t0.name&&(l="fetch-timeout"),jG.create(l,{originalErrorMessage:e.t0.message});case 24:if(f=u.status,o=u.headers.get("ETag")||void 0,200!==u.status){e.next=37;break}return e.prev=27,e.next=30,u.json();case 30:v=e.sent,e.next=36;break;case 33:throw e.prev=33,e.t1=e.catch(27),jG.create("fetch-client-parse",{originalErrorMessage:e.t1.message});case 36:h=v.entries,d=v.state;case 37:if("INSTANCE_STATE_UNSPECIFIED"===d?f=500:"NO_CHANGE"===d?f=304:"NO_TEMPLATE"!==d&&"EMPTY_CONFIG"!==d||(h={}),304===f||200===f){e.next=39;break}throw jG.create("fetch-status",{httpStatus:f});case 39:return e.abrupt("return",{status:f,eTag:o,config:h});case 40:case"end":return e.stop()}}),e,this,[[12,20],[27,33]])})));return function(t){return e.apply(this,arguments)}}())}]),e}(),JG=function(){function e(t,n){k(this,e),this.client=t,this.storage=n}return w(e,[{key:"fetch",value:function(){var e=f(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getThrottleMetadata();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return n=e.t0,e.abrupt("return",this.attemptFetch(t,n));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"attemptFetch",value:function(){var e=f(c.mark((function e(t,n){var r,i,a,o,s;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.throttleEndTimeMillis,i=n.backoffCount,a=t.signal,o=r,e.next=5,new Promise((function(e,t){var n=Math.max(o-Date.now(),0),r=setTimeout(e,n);a.addEventListener((function(){clearTimeout(r),t(jG.create("fetch-throttle",{throttleEndTimeMillis:o}))}))}));case 5:return e.prev=5,e.next=8,this.client.fetch(t);case 8:return s=e.sent,e.next=11,this.storage.deleteThrottleMetadata();case 11:return e.abrupt("return",s);case 14:if(e.prev=14,e.t0=e.catch(5),function(e){if(e instanceof Rh&&e.customData)return 429===(e=Number(e.customData.httpStatus))||500===e||503===e||504===e}(e.t0)){e.next=18;break}throw e.t0;case 18:return i={throttleEndTimeMillis:Date.now()+sd(i),backoffCount:i+1},e.next=21,this.storage.setThrottleMetadata(i);case 21:return e.abrupt("return",this.attemptFetch(t,i));case 22:case"end":return e.stop()}}),e,this,[[5,14]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),XG=function(){function e(t,n,r,i,a){k(this,e),this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return w(e,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),e}();function ZG(e,t){return e=e.target.error||void 0,jG.create(t,{originalErrorMessage:e&&e.message})}var eQ="app_namespace_store",tQ=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Promise((function(e,n){try{var r=indexedDB.open("firebase_remote_config",1);r.onerror=function(e){n(ZG(e,"storage-open"))},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(eQ,{keyPath:"compositeKey"})}}catch(t){n(jG.create("storage-open",{originalErrorMessage:t}))}}));k(this,e),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return w(e,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(e){return this.set("last_fetch_status",e)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.set("last_successful_fetch_timestamp_millis",e)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(e){return this.set("last_successful_fetch_response",e)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(e){return this.set("active_config",e)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(e){return this.set("active_config_etag",e)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(e){return this.set("throttle_metadata",e)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:function(){var e=f(c.mark((function e(t){var n,r=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a,o=n.transaction([eQ],"readonly").objectStore(eQ),s=r.createCompositeKey(t);try{var u=o.get(s);u.onerror=function(e){i(ZG(e,"storage-get"))},u.onsuccess=function(t){t=t.target.result,e(t?t.value:void 0)}}catch(a){i(jG.create("storage-get",{originalErrorMessage:a&&a.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(){var e=f(c.mark((function e(t,n){var r,i=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,a){var o=r.transaction([eQ],"readwrite").objectStore(eQ),s=i.createCompositeKey(t);try{var u=o.put({compositeKey:s,value:n});u.onerror=function(e){a(ZG(e,"storage-set"))},u.onsuccess=function(){e()}}catch(e){a(jG.create("storage-set",{originalErrorMessage:e&&e.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=f(c.mark((function e(t){var n,r=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a=n.transaction([eQ],"readwrite").objectStore(eQ),o=r.createCompositeKey(t);try{var s=a.delete(o);s.onerror=function(e){i(ZG(e,"storage-delete"))},s.onsuccess=function(){e()}}catch(e){i(jG.create("storage-delete",{originalErrorMessage:e&&e.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createCompositeKey",value:function(e){return[this.appId,this.appName,this.namespace,e].join()}}]),e}(),nQ=function(){function e(t){k(this,e),this.storage=t}return w(e,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:function(){var e=f(c.mark((function e(){var t,n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),e.next=5,t;case 5:return(t=e.sent)&&(this.lastFetchStatus=t),e.next=9,n;case 9:return(n=e.sent)&&(this.lastSuccessfulFetchTimestampMillis=n),e.next=13,r;case 13:(r=e.sent)&&(this.activeConfig=r);case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setLastFetchStatus",value:function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}},{key:"setActiveConfig",value:function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}]),e}();function rQ(){return iQ.apply(this,arguments)}function iQ(){return(iQ=f(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,Ph();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}jd(new vd("remote-config",(function(e,t){var n=t.instanceIdentifier;return function(e){var t=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jG.create("registration-window");if(!Nh())throw jG.create("indexed-db-unavailable");var i=t.options,a=i.projectId,o=i.apiKey;if(e=i.appId,!a)throw jG.create("registration-project-id");if(!o)throw jG.create("registration-api-key");if(!e)throw jG.create("registration-app-id");n=n||"firebase";var s=new tQ(e,t.name,n),u=new nQ(s),c=new Ad(FG);return c.logLevel=wd.ERROR,e=new YG(r,zd,n,a,o,e),e=new JG(e,s),e=new $G(e,s,u,c),WG(e=new XG(t,e,u,s,c)),e}(e)}),"PUBLIC").setMultipleInstances(!0)),Qd(FG,"0.3.0");var aQ=function(){function e(t,n){k(this,e),this.app=t,this._delegate=n}return w(e,[{key:"defaultConfig",get:function(){return this._delegate.defaultConfig},set:function(e){this._delegate.defaultConfig=e}},{key:"fetchTimeMillis",get:function(){return this._delegate.fetchTimeMillis}},{key:"lastFetchStatus",get:function(){return this._delegate.lastFetchStatus}},{key:"settings",get:function(){return this._delegate.settings},set:function(e){this._delegate.settings=e}},{key:"activate",value:function(){return BG(this._delegate)}},{key:"ensureInitialized",value:function(){return WG(this._delegate)}},{key:"fetch",value:function(){return KG(this._delegate)}},{key:"fetchAndActivate",value:function(){return function(){var e=f(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KG(t=ud(t));case 2:return e.abrupt("return",BG(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this._delegate)}},{key:"getAll",value:function(){return GG(this._delegate)}},{key:"getBoolean",value:function(e){return QG(ud(this._delegate),e).asBoolean()}},{key:"getNumber",value:function(e){return QG(ud(this._delegate),e).asNumber()}},{key:"getString",value:function(e){return QG(ud(this._delegate),e).asString()}},{key:"getValue",value:function(e){return QG(this._delegate,e)}},{key:"setLogLevel",value:function(e){!function(e,t){var n=ud(e);switch(t){case"debug":n._logger.logLevel=wd.DEBUG;break;case"silent":n._logger.logLevel=wd.SILENT;break;default:n._logger.logLevel=wd.ERROR}}(this._delegate,e)}}]),e}();function oQ(e,t){return function(t){var n=e.getProvider("app-compat").getImmediate();return t=e.getProvider("remote-config").getImmediate({identifier:t}),new aQ(n,t)}(t.instanceIdentifier)}return(MH=rp).INTERNAL.registerComponent(new vd("remoteConfig-compat",oQ,"PUBLIC").setMultipleInstances(!0).setServiceProps({isSupported:rQ})),MH.registerVersion("@firebase/remote-config-compat","0.1.1"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),rp.registerVersion("firebase","9.1.1","compat-cdn"),rp}()}).call(this,n(26),n(29))},function(e,t,n){"use strict";e.exports=n(104)},function(e,t,n){"use strict";var r=n(22),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=m.prototype=new g;k.constructor=m,r(k,y.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+I(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=S(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,l=r+I(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function P(){var e=N.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(0),i=n(22),a=n(50);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,k);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,k);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,k);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,T=60107,E=60108,I=60114,S=60109,C=60110,A=60112,N=60113,P=60120,O=60115,R=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;_=j("react.element"),x=j("react.portal"),T=j("react.fragment"),E=j("react.strict_mode"),I=j("react.profiler"),S=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),N=j("react.suspense"),P=j("react.suspense_list"),O=j("react.memo"),R=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var q,V="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function z(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var W=!1;function K(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case x:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,ge=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Pe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Re,Fe=!1,Ue=!1;function je(){null===Ce&&null===Ae||(Le(),Oe())}function qe(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ye){Ve=!1}function ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,Ke=null,He=!1,Ge=null,Qe={onError:function(e){We=!0,Ke=e}};function $e(e,t,n,r,i,a,o,s,u){We=!1,Ke=null,ze.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){mt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function _t(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Et={},It={};function St(e){if(Et[e])return Et[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return Et[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Ct=St("animationend"),At=St("animationiteration"),Nt=St("animationstart"),Pt=St("transitionend"),Ot=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ft(u),i=Mt):0!==(s&=a)&&(r=Ft(s),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==s&&(r=Ft(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function qt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?qt(10,t):e;case 10:return 0===(e=Vt(192&~t))?qt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Fe||Le();var i=Xt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=yt(st,e,t,n,r,i),!0;case"dragenter":return ut=yt(ut,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(yn),mn=un(i({},yn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=un(bn),xn=un(i({},hn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Sn}var An=i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(An),Pn=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,qn=f&&(!Fn||Un&&8<Un&&11>=Un),Vn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Pe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Jn(e){Ar(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if(Qn(t,Yn,e,Ie(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Tr.length;Er++)Rt.set(Tr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if($e.apply(this,arguments),We){if(!We)throw Error(o(198));var l=Ke;We=!1,Ke=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Sr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Ie(n),o=[];e:{var s=Ot.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Ct:case At:case Nt:u=wn;break;case Pt:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=qe(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==u&&jr(o,s,u,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Zn;else if(Gn(s))if(er)y=cr;else{y=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ur);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(kr=g,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,i)}var m;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(qn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(g=Fr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:g}),m?k.data=m:null!==(m=Wn(n))&&(k.data=m))),(m=jn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=qe(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=qe(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=qe(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=qe(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function qr(){}var Vr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Xr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ti=null,Ei=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},ji=null,qi=null,Vi=!1,Bi=Ni(),zi=1e4>Bi?Ni:function(){return Ni()-Bi};function Wi(){switch(Pi()){case Oi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Oi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Ki(e),Ei(e,t)}function Gi(e,t,n){return e=Ki(e),Ii(e,t,n)}function Qi(){if(null!==qi){var e=qi;qi=null,Si(e)}$i()}function $i(){if(!Vi&&null!==ji){Vi=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ii(Oi,Qi),n}finally{Vi=!1}}}var Yi=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Vs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ma(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ta(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Ju(t,e.mode,n)).return=e,t}if(_a(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ta(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===T?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ta(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===T?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ta(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=y}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var k=d(i,v,m.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,y),null===f?l=k:f.sibling=k,f=k,v=g}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=h(i,m.value,c))&&(s=a(m,s,y),null===f?l=m:f.sibling=m,f=m);return l}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=p(v,i,y,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=a(m,s,y),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===T&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===T){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===T?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(_a(a))return v(e,r,a,u);if(B(a))return y(e,r,a,u);if(l&&Ta(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ia=Ea(!0),Sa=Ea(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Pa=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Pa,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Pa)}function La(e){Oa(Pa.current);var t=Oa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,qa=null,Va=!1;function Ba(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(Va){var t=qa;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(ja=e);Ba(ja,n)}ja=e,qa=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,ja=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ha(e){if(e!==ja)return!1;if(!Va)return Ka(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=qa;t;)Ba(e,t),t=Qr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qa=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qa=null}}else qa=ja?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){qa=ja=null,Va=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Oo,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Vs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Rs;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Po.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function yo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Po.bind(null,Za,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Za.flags|=e,i.memoizedState=go(1|t,n,a,r)}function _o(e,t){return wo(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function To(e,t){return bo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)}function So(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Po(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,Za,e),[r.memoizedState,e]},useRef:mo,useState:yo,useDebugValue:So,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return mo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,go(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:Io,useLayoutEffect:To,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:Io,useLayoutEffect:To,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ia(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function qo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ku(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Hu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_u(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(t,e),null;t.memoizedState={baseLanes:0},_u(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_u(t,r);return Uo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=gi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ko(e,t,n,r,i){if(gi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ya(t,n,l,r),u=t.memoizedState),(s=sa||ma(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=yi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&wa(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=sa||ma(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,s,a)):Uo(e,t,s,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Qo,$o,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$u(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(o,s),null!==e?r=Hu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&mi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Pa.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Aa.current),Ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Nr(Ir[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=qr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Nr(Ir[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}Te(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=qr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Pa.current),Oa(Aa.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Rs||0===(134217727&Vs)&&0===(134217727&Bs)||mu(Rs,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ua(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fa.current,fi(Fa,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Aa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=qr)}for(f in Te(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){qu(e,n)}else t.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(a){qu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){qu(t,a)}break;case 5:vs(t);break;case 4:Es(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Ts(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=qr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?me(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=zi(),ms(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Ns=b.ReactCurrentDispatcher,Ps=b.ReactCurrentOwner,Os=0,Rs=null,Ds=null,Ls=0,Ms=0,Fs=ci(0),Us=0,js=null,qs=0,Vs=0,Bs=0,zs=0,Ws=null,Ks=0,Hs=1/0;function Gs(){Hs=zi()+500}var Qs,$s=null,Ys=!1,Js=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Os)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=qs),0!==Yi.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Os)&&98===e?e=qt(12,uu):e=qt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Rs&&(Bs|=t,4===Us&&mu(e,Ls));var r=Wi();1===t?0!==(8&Os)&&0===(48&Os)?ku(e):(yu(e,n),0===Os&&(Gs(),Qi())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),yu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ut(e,e===Rs?Ls:0),t=Mt,0===r)null!==n&&(n!==Fi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Si(n)}15===t?(n=ku.bind(null,e),null===ji?(ji=[n],qi=Ii(Oi,$i)):ji.push(n),n=Fi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ut(e,e===Rs?Ls:0);if(0===n)return null;var r=n,i=Os;Os|=16;var a=Iu();for(Rs===e&&Ls===r||(Gs(),Tu(e,r));;)try{Au();break}catch(u){Eu(e,u)}if(na(),Ns.current=a,Os=i,null!==Ds?r=0:(Rs=null,Ls=0,r=Us),0!==(qs&Bs))Tu(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Su(e,n))),1===r)throw t=js,Tu(e,0),mu(e,n),yu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ou(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=Ks+500-zi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Kr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(o(329))}}return yu(e,zi()),e.callbackNode===t?gu.bind(null,e):null}function mu(e,t){for(t&=~zs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Os))throw Error(o(327));if(Lu(),e===Rs&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Su(e,t);0!==(qs&Bs)&&(n=Su(e,t=Ut(e,t)))}else n=Su(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Su(e,t))),1===n)throw n=js,Tu(e,0),mu(e,t),yu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),yu(e,zi()),null}function wu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Gs(),Qi())}}function bu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Gs(),Qi())}}function _u(e,t){fi(Fs,Ms),Ms|=t,qs|=t}function xu(){Ms=Fs.current,li(Fs)}function Tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:xu()}n=n.return}Rs=e,Ds=Hu(e.current,null),Ls=Ms=qs=t,Us=0,js=null,zs=Bs=Vs=0}function Eu(e,t){for(;;){var n=Ds;try{if(na(),Ya.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Ps.current=null,null===n||null===n.return){Us=1,js=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var g=new Set;g.add(c),h.updateQueue=g}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=la(-1,1);m.tag=2,fa(s,m)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var w=Vu.bind(null,a,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Xs||!Xs.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Pu(n)}catch(x){t=x,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Iu(){var e=Ns.current;return Ns.current=Oo,null===e?Oo:e}function Su(e,t){var n=Os;Os|=16;var r=Iu();for(Rs===e&&Ls===t||Tu(e,t);;)try{Cu();break}catch(i){Eu(e,i)}if(na(),Os=n,Ns.current=r,null!==Ds)throw Error(o(261));return Rs=null,Ls=0,Us}function Cu(){for(;null!==Ds;)Nu(Ds)}function Au(){for(;null!==Ds&&!Ci();)Nu(Ds)}function Nu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Pu(e):Ds=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Us&&(Us=5)}function Ou(e){var t=Wi();return Hi(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Lu()}while(null!==eu);if(0!==(48&Os))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ds=Rs=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ps.current=null,Vr=$t,gr(s=yr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=s,g=null;t:for(;;){for(var m;y!==u||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(m=y.firstChild);)g=y,y=m;for(;;){if(y===s)break t;if(g===u&&++p===a&&(h=f),g===c&&++v===l&&(d=f),null!==(m=y.nextSibling))break;g=(y=g).parentNode}y=m}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{Du()}catch(I){if(null===$s)throw Error(o(330));qu($s,I),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var k=$s.flags;if(16&k&&me($s.stateNode,""),128&k){var w=$s.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:_s($s),$s.flags&=-3;break;case 6:_s($s),$s.flags&=-3,Is($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Is($s.alternate,$s);break;case 4:Is($s.alternate,$s);break;case 8:Es(s,u=$s);var _=u.alternate;ws(u),null!==_&&ws(_)}$s=$s.nextEffect}}catch(I){if(null===$s)throw Error(o(330));qu($s,I),$s=$s.nextEffect}}while(null!==$s);if(b=Br,w=yr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&gr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!b.extend&&_>s&&(u=s,s=_,_=u),u=pr(k,_),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),_>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}$t=!!Vr,Br=Vr=null,e.current=n,$s=r;do{try{for(k=e;null!==$s;){var x=$s.flags;if(36&x&&gs(k,$s.alternate,$s),128&x){w=void 0;var T=$s.ref;if(null!==T){var E=$s.stateNode;$s.tag,w=E,"function"===typeof T?T(w):T.current=w}}$s=$s.nextEffect}}catch(I){if(null===$s)throw Error(o(330));qu($s,I),$s=$s.nextEffect}}while(null!==$s);$s=null,Ui(),Os=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((x=$s).sibling=null,x.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(I){}if(yu(e,zi()),Ys)throw Ys=!1,e=Js,Js=null,e;return 0!==(8&Os)||Qi(),null}function Du(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Cs(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ys(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,Uu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(o(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));qu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));qu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Qi(),!0}function ju(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),yu(e,t))}function qu(e,t){if(3===e.tag)ju(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ju(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),yu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ls&n)===n&&(4===Us||3===Us&&(62914560&Ls)===Ls&&500>zi()-Ks?Tu(e,0):zs|=n),yu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=qs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),yu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new zu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case E:s=8,i|=1;break;case I:return(e=Wu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case N:return(e=Wu(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case P:return(e=Wu(19,n,t,i)).elementType=P,e.lanes=a,e;case F:return $u(n,i,a,t);case U:return(e=Wu(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case C:s=9;break e;case A:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=F,e.lanes=n,e}function Yu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:gi(t.type)&&bi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ya(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=qo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(qa=Qr(t.stateNode.containerInfo.firstChild),ja=t,a=Va=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),zo(e,t),Uo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),qo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=wu,De=function(e,t,n,r,i){var a=Os;Os|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Os=a)&&(Gs(),Qi())}},Le=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,yu(e,zi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Pe,Oe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ti=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Os=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(51)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,h=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(h,0))},i=function(e,t){f=setTimeout(e,t)},a=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,g=null,m=-1,k=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,_=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+k;try{g(!0,e)?_.postMessage(null):(y=!1,g=null)}catch(n){throw _.postMessage(null),n}}else y=!1},r=function(e){g=e,y||(y=!0,_.postMessage(null))},i=function(e,n){m=d((function(){e(t.unstable_now())}),n)},a=function(){p(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>I(o,n))void 0!==u&&0>I(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],C=[],A=1,N=null,P=3,O=!1,R=!1,D=!1;function L(e){for(var t=T(C);null!==t;){if(null===t.callback)E(C);else{if(!(t.startTime<=e))break;E(C),t.sortIndex=t.expirationTime,x(S,t)}t=T(C)}}function M(e){if(D=!1,L(e),!R)if(null!==T(S))R=!0,r(F);else{var t=T(C);null!==t&&i(M,t.startTime-e)}}function F(e,n){R=!1,D&&(D=!1,a()),O=!0;var r=P;try{for(L(n),N=T(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,P=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===T(S)&&E(S),L(n)}else E(S);N=T(S)}if(null!==N)var u=!0;else{var c=T(C);null!==c&&i(M,c.startTime-n),u=!1}return u}finally{N=null,P=r,O=!1}}var U=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,r(F))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return T(S)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:A++,callback:n,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(C,e),null===T(S)&&e===T(C)&&(D?a():D=!0,i(M,o-s))):(e.sortIndex=u,x(S,e),R||O||(R=!0,r(F))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},,,,,function(e,t,n){"use strict";n(22);var r=n(0),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";var r=n(58);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(61)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,k=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case y:case c:return e;default:return t}}case a:return t}}}function x(e){return _(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=y,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||_(e)===f},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===y},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===u},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===k||e.$$typeof===w||e.$$typeof===b||e.$$typeof===m)},t.typeOf=_},function(e,t,n){"use strict";e.exports=n(63)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,k=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case y:case c:return e;default:return t}}case a:return t}}}function x(e){return _(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=y,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||_(e)===f},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===y},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===u},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===k||e.$$typeof===w||e.$$typeof===b||e.$$typeof===m)},t.typeOf=_},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function g(){}function m(){}var k={};u(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(A([])));b&&b!==n&&r.call(b,a)&&(k=b);var _=m.prototype=y.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=m,u(_,"constructor",m),u(m,"constructor",g),g.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(T.prototype),u(T.prototype,o,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new T(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},,function(e,t,n){"use strict";var r=n(6),i=n(27),a=n(67),o=n(34);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(14));s.Axios=a,s.Cancel=n(15),s.CancelToken=n(80),s.isCancel=n(33),s.VERSION=n(35).version,s.all=function(e){return Promise.all(e)},s.spread=n(81),s.isAxiosError=n(82),e.exports=s,e.exports.default=s},function(e,t,n){"use strict";var r=n(6),i=n(28),a=n(68),o=n(69),s=n(34),u=n(79),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=e;n.length;){var h=n.shift(),d=n.shift();try{f=h(f)}catch(p){d(p);break}}try{i=o(f)}catch(p){return Promise.reject(p)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},function(e,t,n){"use strict";var r=n(6);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(6),i=n(70),a=n(33),o=n(14),s=n(15);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(6),i=n(14);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(32);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(75),i=n(76);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(6),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(35).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},function(e,t,n){"use strict";var r=n(15);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},,,function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var r=n(40),i=n(41),a=n(16),o=n(43);e.exports=function(e){return r(e)||i(e)||a(e)||o()}},function(e,t,n){var r=n(88);function i(t,n,a){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}},i(t,n,a||t)}e.exports=i},function(e,t,n){var r=n(17);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){var r=n(90),i=n(41),a=n(16),o=n(91);e.exports=function(e){return r(e)||i(e)||a(e)||o()}},function(e,t,n){var r=n(42);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(16);e.exports=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},function(e,t,n){var r=n(40),i=n(96),a=n(16),o=n(43);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},function(e,t,n){var r=n(23);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(17),i=n(37),a=n(38);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}},function(e,t,n){var r=n(17),i=n(23),a=n(100),o=n(36);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},,function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,k=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case y:case c:return e;default:return t}}case a:return t}}}function x(e){return _(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=y,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||_(e)===f},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===y},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===u},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===k||e.$$typeof===w||e.$$typeof===b||e.$$typeof===m)},t.typeOf=_}]]);
//# sourceMappingURL=2.36093af6.chunk.js.map